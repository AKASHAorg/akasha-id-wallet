{"version":3,"sources":["webpack://AKASHAid/webpack/universalModuleDefinition","webpack://AKASHAid/webpack/bootstrap","webpack://AKASHAid/./node_modules/masq-common/src/errors.js","webpack://AKASHAid/./node_modules/buffer/index.js","webpack://AKASHAid/./node_modules/node-libs-browser/node_modules/process/browser.js","webpack://AKASHAid/./node_modules/inherits/inherits_browser.js","webpack://AKASHAid/./node_modules/events/events.js","webpack://AKASHAid/./node_modules/core-util-is/lib/util.js","webpack://AKASHAid/(webpack)/buildin/global.js","webpack://AKASHAid/./node_modules/readable-stream/readable-browser.js","webpack://AKASHAid/./node_modules/buffer-alloc-unsafe/index.js","webpack://AKASHAid/./node_modules/readable-stream/lib/_stream_duplex.js","webpack://AKASHAid/./node_modules/masq-common/src/crypto.js","webpack://AKASHAid/./node_modules/varint/index.js","webpack://AKASHAid/./node_modules/flat-tree/index.js","webpack://AKASHAid/./node_modules/sodium-universal/browser.js","webpack://AKASHAid/./node_modules/nanoassert/index.js","webpack://AKASHAid/./node_modules/process-nextick-args/index.js","webpack://AKASHAid/./node_modules/safe-buffer/index.js","webpack://AKASHAid/./node_modules/string_decoder/lib/string_decoder.js","webpack://AKASHAid/./node_modules/buffer-from/index.js","webpack://AKASHAid/./node_modules/hyperdb/lib/hash.js","webpack://AKASHAid/./node_modules/nanoiterator/index.js","webpack://AKASHAid/./node_modules/readable-stream/lib/_stream_writable.js","webpack://AKASHAid/./node_modules/function-bind/index.js","webpack://AKASHAid/./node_modules/is-callable/index.js","webpack://AKASHAid/./node_modules/once/once.js","webpack://AKASHAid/./node_modules/util/util.js","webpack://AKASHAid/./node_modules/unordered-set/index.js","webpack://AKASHAid/./node_modules/sparse-bitfield/index.js","webpack://AKASHAid/./node_modules/buffer-alloc/index.js","webpack://AKASHAid/./node_modules/sodium-javascript/randombytes.js","webpack://AKASHAid/./node_modules/hyperdb/lib/options.js","webpack://AKASHAid/./node_modules/isarray/index.js","webpack://AKASHAid/./node_modules/readable-stream/lib/_stream_readable.js","webpack://AKASHAid/./node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://AKASHAid/./node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://AKASHAid/./node_modules/timers-browserify/main.js","webpack://AKASHAid/./node_modules/readable-stream/lib/_stream_transform.js","webpack://AKASHAid/./node_modules/define-properties/index.js","webpack://AKASHAid/./node_modules/define-properties/node_modules/object-keys/isArguments.js","webpack://AKASHAid/./node_modules/string.prototype.trim/implementation.js","webpack://AKASHAid/./node_modules/es-abstract/GetIntrinsic.js","webpack://AKASHAid/./node_modules/has/src/index.js","webpack://AKASHAid/./node_modules/string.prototype.trim/polyfill.js","webpack://AKASHAid/./node_modules/through2/node_modules/readable-stream/lib/_stream_duplex.js","webpack://AKASHAid/./node_modules/stream-browserify/index.js","webpack://AKASHAid/./node_modules/masq-common/src/utils.js","webpack://AKASHAid/./node_modules/unordered-array-remove/index.js","webpack://AKASHAid/./node_modules/bulk-write-stream/index.js","webpack://AKASHAid/./node_modules/codecs/index.js","webpack://AKASHAid/./node_modules/thunky/index.js","webpack://AKASHAid/./node_modules/random-access-file/browser.js","webpack://AKASHAid/./node_modules/bitfield-rle/index.js","webpack://AKASHAid/./node_modules/memory-pager/index.js","webpack://AKASHAid/./node_modules/hypercore/lib/tree-index.js","webpack://AKASHAid/./node_modules/uint64be/index.js","webpack://AKASHAid/./node_modules/array-lru/index.js","webpack://AKASHAid/./node_modules/sodium-javascript/crypto_stream.js","webpack://AKASHAid/./node_modules/blake2b/index.js","webpack://AKASHAid/./node_modules/hypercore/lib/safe-buffer-equals.js","webpack://AKASHAid/./node_modules/hypercore-protocol/index.js","webpack://AKASHAid/./node_modules/hypercore-protocol/messages.js","webpack://AKASHAid/./node_modules/protocol-buffers-encodings/index.js","webpack://AKASHAid/./node_modules/hyperdb/lib/iterator.js","webpack://AKASHAid/./node_modules/hyperdb/lib/get.js","webpack://AKASHAid/./node_modules/hyperdb/lib/normalize.js","webpack://AKASHAid/./node_modules/es6-promisify/dist/promisify.js","webpack://AKASHAid/./src/index.js","webpack://AKASHAid/./node_modules/base64-js/index.js","webpack://AKASHAid/./node_modules/ieee754/index.js","webpack://AKASHAid/./node_modules/signalhub/index.js","webpack://AKASHAid/./node_modules/event-source-stream/browser.js","webpack://AKASHAid/./node_modules/readable-stream/lib/internal/streams/BufferList.js","webpack://AKASHAid/./node_modules/setimmediate/setImmediate.js","webpack://AKASHAid/./node_modules/util-deprecate/browser.js","webpack://AKASHAid/./node_modules/readable-stream/lib/_stream_passthrough.js","webpack://AKASHAid/./node_modules/nets/index.js","webpack://AKASHAid/./node_modules/xhr/index.js","webpack://AKASHAid/./node_modules/global/window.js","webpack://AKASHAid/./node_modules/is-function/index.js","webpack://AKASHAid/./node_modules/parse-headers/parse-headers.js","webpack://AKASHAid/./node_modules/string.prototype.trim/index.js","webpack://AKASHAid/./node_modules/function-bind/implementation.js","webpack://AKASHAid/./node_modules/define-properties/node_modules/object-keys/index.js","webpack://AKASHAid/./node_modules/define-properties/node_modules/object-keys/implementation.js","webpack://AKASHAid/./node_modules/es-abstract/es5.js","webpack://AKASHAid/./node_modules/es-abstract/helpers/assertRecord.js","webpack://AKASHAid/./node_modules/es-abstract/helpers/isNaN.js","webpack://AKASHAid/./node_modules/es-abstract/helpers/isFinite.js","webpack://AKASHAid/./node_modules/es-abstract/helpers/sign.js","webpack://AKASHAid/./node_modules/es-abstract/helpers/mod.js","webpack://AKASHAid/./node_modules/es-to-primitive/es5.js","webpack://AKASHAid/./node_modules/es-to-primitive/helpers/isPrimitive.js","webpack://AKASHAid/./node_modules/string.prototype.trim/shim.js","webpack://AKASHAid/./node_modules/for-each/index.js","webpack://AKASHAid/./node_modules/xhr/node_modules/xtend/immutable.js","webpack://AKASHAid/./node_modules/pump/index.js","webpack://AKASHAid/./node_modules/wrappy/wrappy.js","webpack://AKASHAid/./node_modules/end-of-stream/index.js","webpack://AKASHAid/./node_modules/through2/through2.js","webpack://AKASHAid/./node_modules/through2/node_modules/readable-stream/transform.js","webpack://AKASHAid/./node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js","webpack://AKASHAid/./node_modules/through2/node_modules/readable-stream/lib/_stream_readable.js","webpack://AKASHAid/./node_modules/through2/node_modules/isarray/index.js","webpack://AKASHAid/./node_modules/readable-stream/writable-browser.js","webpack://AKASHAid/./node_modules/readable-stream/duplex-browser.js","webpack://AKASHAid/./node_modules/readable-stream/transform.js","webpack://AKASHAid/./node_modules/readable-stream/passthrough.js","webpack://AKASHAid/./node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js","webpack://AKASHAid/./node_modules/util/support/isBufferBrowser.js","webpack://AKASHAid/./node_modules/util/node_modules/inherits/inherits_browser.js","webpack://AKASHAid/./node_modules/through2/node_modules/xtend/immutable.js","webpack://AKASHAid/./src/utils.js","webpack://AKASHAid/./node_modules/masq-common/src/index.js","webpack://AKASHAid/./node_modules/hyperdb/index.js","webpack://AKASHAid/./node_modules/hypercore/index.js","webpack://AKASHAid/./node_modules/last-one-wins/index.js","webpack://AKASHAid/./node_modules/merkle-tree-stream/generator.js","webpack://AKASHAid/./node_modules/from2/index.js","webpack://AKASHAid/./node_modules/atomic-batcher/index.js","webpack://AKASHAid/./node_modules/hypercore/lib/bitfield.js","webpack://AKASHAid/./node_modules/bitfield-rle/node_modules/varint/index.js","webpack://AKASHAid/./node_modules/bitfield-rle/node_modules/varint/encode.js","webpack://AKASHAid/./node_modules/bitfield-rle/node_modules/varint/decode.js","webpack://AKASHAid/./node_modules/bitfield-rle/node_modules/varint/length.js","webpack://AKASHAid/./node_modules/hypercore/lib/storage.js","webpack://AKASHAid/./node_modules/buffer-fill/index.js","webpack://AKASHAid/./node_modules/array-lru/crc16.js","webpack://AKASHAid/./node_modules/hypercore-crypto/index.js","webpack://AKASHAid/./node_modules/sodium-javascript/index.js","webpack://AKASHAid/./node_modules/xsalsa20/index.js","webpack://AKASHAid/./node_modules/xsalsa20/xsalsa20.js","webpack://AKASHAid/./node_modules/sodium-javascript/crypto_generichash.js","webpack://AKASHAid/./node_modules/blake2b-wasm/index.js","webpack://AKASHAid/./node_modules/blake2b-wasm/blake2b.js","webpack://AKASHAid/./node_modules/sodium-javascript/crypto_kdf.js","webpack://AKASHAid/./node_modules/sodium-javascript/crypto_shorthash.js","webpack://AKASHAid/./node_modules/siphash24/index.js","webpack://AKASHAid/./node_modules/siphash24/siphash24.js","webpack://AKASHAid/./node_modules/siphash24/fallback.js","webpack://AKASHAid/./node_modules/hypercore/node_modules/process-nextick-args/index.js","webpack://AKASHAid/./node_modules/inspect-custom-symbol/browser.js","webpack://AKASHAid/./node_modules/pretty-hash/index.js","webpack://AKASHAid/./node_modules/hypercore/lib/replicate.js","webpack://AKASHAid/./node_modules/varint/encode.js","webpack://AKASHAid/./node_modules/varint/decode.js","webpack://AKASHAid/./node_modules/varint/length.js","webpack://AKASHAid/./node_modules/sorted-indexof/index.js","webpack://AKASHAid/./node_modules/hypercore-protocol/feed.js","webpack://AKASHAid/./node_modules/signed-varint/index.js","webpack://AKASHAid/./node_modules/fast-bitfield/index.js","webpack://AKASHAid/./node_modules/count-trailing-zeros/ctz.js","webpack://AKASHAid/./node_modules/nanoiterator/to-stream.js","webpack://AKASHAid/./node_modules/mutexify/index.js","webpack://AKASHAid/./node_modules/path-browserify/index.js","webpack://AKASHAid/./node_modules/compare/index.js","webpack://AKASHAid/./node_modules/hyperdb/lib/differ.js","webpack://AKASHAid/./node_modules/hyperdb/lib/history.js","webpack://AKASHAid/./node_modules/hyperdb/lib/key-history.js","webpack://AKASHAid/./node_modules/hyperdb/lib/put.js","webpack://AKASHAid/./node_modules/hyperdb/lib/messages.js","webpack://AKASHAid/./node_modules/hyperdb/lib/trie-encoding.js","webpack://AKASHAid/./node_modules/hyperdb/lib/watch.js","webpack://AKASHAid/./node_modules/hyperdb/lib/derive.js","webpack://AKASHAid/./node_modules/random-access-idb/index.js","webpack://AKASHAid/./node_modules/random-access-storage/index.js","webpack://AKASHAid/./node_modules/next-tick/index.js","webpack://AKASHAid/./node_modules/random-access-idb/lib/blocks.js","webpack://AKASHAid/./node_modules/random-access-idb/node_modules/buffer-from/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","MasqError","Error","code","details","underlyingError","super","undefined","this","message","makeErrorMessage","msg","messages","UNDEFINED_ERROR","INVALID_ENCODING_FORMAT","WRONG_PARAMETER","WRONG_FUNCTION_ARGUMENTS","NOT_LOGGED_IN","NOT_CONNECTED","UNABLE_TO_DECRYPT","UNABLE_TO_ENCRYPT","WRONG_MESSAGE","WRONG_PASSPHRASE","MASQ_ACCESS_REFUSED_BY_USER","INVALID_KEY","INVALID_CRYPTOKEY","NO_DB","NO_NONCE","NO_ENCRYPTION_KEY","MISSING_PROFILE_ID","MISSING_RESOURCE_ID","INVALID_PASSPHRASE","USERNAME_ALREADY_TAKEN","AUTHORIZE_DB_KEY_FAILED","PROFILE_NOT_OPENED","DISCONNECTED_DURING_LOGIN","SIGNALLING_SERVER_ERROR","REPLICATION_SIGNALLING_ERROR","INVALID_STATE_TRANSITION","checkObject","obj","parameters","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","length","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","allocUnsafe","from","TypeError","ArrayBuffer","array","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","isBuffer","len","checked","copy","buffer","val","type","data","fromObject","assertSize","size","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","push","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","e","typedArraySupport","poolSize","_augment","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","arguments","equals","inspect","max","match","join","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","Array","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","args","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","ctor","superCtor","super_","constructor","writable","TempCtor","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","init","_events","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","_addListener","listener","prepend","events","existing","warning","newListener","unshift","warned","w","emitter","count","console","warn","_onceWrap","state","fired","wrapFn","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","context","handler","position","originalListener","shift","index","pop","spliceOne","keys","rawListeners","eventNames","objectToString","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","isError","isFunction","isPrimitive","g","Stream","Readable","Writable","Duplex","Transform","PassThrough","pna","objectKeys","util","inherits","v","method","options","readable","allowHalfOpen","onend","_writableState","ended","onEndNT","self","highWaterMark","_readableState","destroyed","_destroy","cb","_checkEncodingFormat","format","genRandomBuffer","values","crypto","getRandomValues","genRandomBufferAsStr","encodingFormat","getBuffer","_checkCryptokey","deriveBits","async","passPhrase","salt","iterations","hashAlgo","baseKey","subtle","importKey","derivedKey","hash","hash256","hashMsg","digest","deriveKeyFromPassphrase","passphrase","_checkPassphrase","_hashAlgo","_salt","_iterations","derivationParams","genEncryptedMasterKeyAndNonce","keyEncryptionKey","toBeEncryptedMasterKeyAndNonce","masterKey","nonce","encryptedMasterKeyAndNonce","encrypt","requiredParameterProtectedMasterKeyAndNonce","decryptMasterKeyAndNonce","protectedMasterKeyAndNonce","encryptedMasterKeyAndNonceHex","decrypt","updateMasterKeyAndNonce","currentPassPhrase","newPassPhrase","genAESKey","extractable","keySize","generateKey","exportKey","exportedKey","iv","algorithm","plaintext","JSON","stringify","cipherContext","encrypted","encryptBuffer","ciphertext","decrypted","decryptBuffer","parse","encode","decode","encodingLength","twoPow","rightShift","Iterator","factor","fullRoots","result","depth","sibling","parent","leftChild","rightChild","children","leftSpan","rightSpan","spans","width","iterator","ite","seek","isLeft","isRight","prev","next","assert","notEqual","notOk","equal","ok","fn","arg1","arg2","arg3","copyProps","SafeBuffer","StringDecoder","nb","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","isModern","input","maxLength","KEY","OUT","terminate","split","all","sodium","crypto_shorthash","expandHash","TERMINATE","LENGTH","NanoIterator","opts","opened","closed","_nextSync","_nextQueue","_nextCallback","_nextDone","nextDone","_openDone","update","open","_open","_next","destroy","nextDoneNT","asyncIterator","Promise","resolve","reject","done","CorkedRequest","_this","entry","finish","corkReq","callback","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","setImmediate","WritableState","internalUtil","deprecate","OurUint8Array","realHasInstance","destroyImpl","nop","stream","isDuplex","objectMode","writableObjectMode","hwm","writableHwm","writableHighWaterMark","defaultHwm","finalCalled","needDrain","ending","finished","noDecode","decodeStrings","defaultEncoding","writing","corked","sync","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","_write","writev","_writev","final","_final","doWrite","chunk","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","prefinish","current","_","hasInstance","pipe","_uint8ArrayToBuffer","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","_undestroy","undestroy","implementation","fnToStr","constructorRegex","isES6ClassFn","fnStr","test","toStr","hasToStringTag","tryFunctionObject","strClass","wrappy","f","called","onceStrict","onceError","strict","proto","getOwnPropertyDescriptors","descriptors","getOwnPropertyDescriptor","formatRegExp","objects","noDeprecation","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","ctx","seen","stylize","stylizeNoColor","colors","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","primitive","simple","formatPrimitive","visibleKeys","forEach","idx","arrayToHash","formatError","RegExp","Date","output","base","braces","toUTCString","formatProperty","formatArray","map","reduce","cur","numLinesEst","reduceToSingleString","desc","line","ar","pad","debuglog","NODE_DEBUG","toUpperCase","pid","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","log","origin","add","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","original","promiseResolve","promiseReject","promise","setPrototypeOf","defineProperties","custom","callbackify","callbackified","maybeCb","then","rej","has","item","_index","remove","tmp","Bitfield","pageOffset","pageSize","pages","pager","_trackUpdates","trackUpdates","_pageMask","getByte","page","setByte","toBuffer","allOffset","updated","bufferFill","QUOTA","randombytes","msCrypto","randomBytes","randombytes_buf","db","_map","_reduce","ReadableState","EElistenerCount","debugUtil","debug","BufferList","kProxyEvents","readableObjectMode","readableHwm","readableHighWaterMark","pipes","pipesCount","flowing","endEmitted","reading","needReadable","emittedReadable","readableListening","resumeScheduled","awaitDrain","readingMore","decoder","_read","readableAddChunk","addToFront","skipChunkCheck","emitReadable","onEofChunk","chunkInvalid","addChunk","maybeReadMore","needMoreData","isPaused","setEncoding","MAX_HWM","howMuchToRead","head","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","nReadingNextTick","resume_","fromList","clear","hasStrings","tail","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","nOrig","doRead","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","onerror","ondata","cleanedUp","pipeOnDrain","increasedAwaitDrain","pause","event","resume","dests","splice","ev","wrap","paused","_fromList","emitErrorNT","readableDestroyed","writableDestroyed","Timeout","id","clearFn","_id","_clearFn","scope","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","_this2","err2","hasSymbols","origDefineProperty","supportsDescriptors","arePropertyDescriptorsSupported","predicate","predicates","props","isArgs","callee","ES","leftWhitespace","rightWhitespace","S","ToString","CheckObjectCoercible","ThrowTypeError","getProto","asyncGenIterator","TypedArray","INTRINSICS","entries","Atomics","Boolean","DataView","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","EvalError","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Map","valueOf","parseFloat","Proxy","ReferenceError","Set","SharedArrayBuffer","SyntaxError","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet","allowMissing","EE","source","_isStdio","didOnEnd","cleanup","hyperdb","rai","createPromisifiedHyperDB","hexKey","keyBuffer","valueEncoding","firstNode","dbReady","ready","dbExists","dbName","req","indexedDB","existed","onsuccess","deleteDatabase","onupgradeneeded","hashKey","prefixes","filter","prefix","encKey","hashedKey","node","getAsync","put","sanitizedKey","withKeyName","putAsync","del","delAsync","_prefix","listAsync","elt","dic","watch","SIGNAL_FLUSH","bufferFrom","Bulk","worker","_worker","batch","_flusher","fromBuffer","codecs","fmt","ndjson","json","ascii","utf8","hex","ucs2","utf16le","binary","createJSON","newline","createString","stack","wait","varint","align","bitfield","State","rle","outputOffset","decodingLength","ptr","repeat","inputOffset","inputLength","bits","encodeUpdate","headLength","encodeHead","encodeFinal","bit","headCost","encCost","baseCost","Pager","updates","path","maxPages","level","deduplicate","zeros","Page","lastUpdate","_array","noAllocate","old","grow","cpy","first","truncate","empty","flat","TreeIndex","addFullRoots","verifiedBy","nodes","remoteTree","roots","proof","tree","hasRoot","blocks","top","bufferAlloc","UINT_32_MAX","num","rem","LRU","collisions","factorOfTwo","bucketSize","buckets","factorOf","mask","indexedValues","cache","evict","move","itemIndex","Node","pageStart","pageEnd","xsalsa20","XOR","_instance","crypto_stream_KEYBYTES","crypto_stream_NONCEBYTES","crypto_stream_PRIMITIVE","crypto_stream","crypto_stream_xor","inp","xor","crypto_stream_xor_instance","finalize","b2wasm","ADD64AA","o0","o1","ADD64AC","b0","b1","B2B_GET32","B2B_G","ix","iy","x0","x1","y0","y1","xor0","xor1","BLAKE2B_IV32","SIGMA82","blake2bCompress","h","parameter_block","Blake2b","outlen","personal","blake2bUpdate","blake2bFinal","Proto","BYTES_MIN","BYTES_MAX","KEYBYTES_MIN","KEYBYTES_MAX","SALTBYTES","PERSONALBYTES","WASM_SUPPORTED","SUPPORTED","WASM_LOADED","BYTES","KEYBYTES","feed","Protocol","live","ack","userData","remoteId","remoteLive","remoteUserData","discoveryKey","remoteDiscoveryKey","feeds","expectedFeeds","extensions","remoteExtensions","maxFeeds","_localFeeds","_remoteFeeds","_feeds","_nonce","_remoteNonce","_xor","_remoteXor","_needsKey","_length","_missing","_buf","_pointer","_data","_start","_cb","_interval","_keepAlive","_remoteKeepAlive","_maybeFinalize","_utp","_ontimeout","_onpipe","crypto_generichash","setContentSize","_prefinalize","ms","ontimeout","_kick","dk","ch","_feed","peer","_tooManyFeeds","header","headerLength","_sameKey","_resume","box","Feed","encodeFeed","handshake","_buffer","_parse","ontick","ping","_close","_onclose","_push","remoteSupports","_onhandshake","remoteAck","_onopen","decodeFeed","_badFeed","_onmessage","decodeHeader","_onextension","_parseMessage","_parseLength","_tooBig","reallyMissing","encodings","skip","Handshake","Info","Have","Unhave","Want","Unwant","Request","Cancel","Data","defined","oldOffset","found0","defineFeed","bool","defineHandshake","uploading","downloading","defineInfo","defineHave","defineUnhave","defineWant","defineUnwant","defineRequest","defineCancel","found1","found2","tag","defineNode","signature","defineData","svarint","encoder","bufferLength","make","int32","int64","subset","sint32","sint64","uint32","uint64","enum","fixed64","sfixed64","double","fixed32","sfixed32","float","nanoiterator","cmp","SORT_GT","SORT_GTE","_db","_stack","_recursive","recursive","_reverse","reverse","_order","gt","gte","_gt","_end","_collisions","_deletes","deletes","_pending","_error","byKey","allDeletes","deleted","visitTrie","bucket","trie","isPrefix","startsWith","_pushPointer","_getPointer","seq","_pushNode","_pushPrefix","_singleNode","order","_sortOrder","sortValue","_prereturn","_multiNode","_filterResult","sort","collision","drain","_lookupPrefix","GetRequest","results","_callback","_options","_prefixed","_path","_onlookup","onlookup","_active","_workers","Worker","lock","_finalize","mapPointers","ptrs","heads","_update","_isHead","_moveCloser","removeWorker","_updatePointers","_getAllPointers","_getAndMoveCloser","_pushPointers","remoteValues","lastValues","clock","otherWorker","customArgumentsToken","argumentNames","ES6Promise","_len","_key","_len2","_key2","generateId","HUB_URLS","WALLET_URL","initHub","channel","hubUrls","hub","signalhub","url","DIDclient","appName","appDescription","appImageURL","appURL","config","walletBaseUrl","loginChannel","bootstrapKey","extractedKey","b64Key","loginUrl","URL","hashParams","loginLink","href","success","fail","genLoginLink","subscribe","status","claim","DIDwallet","did","decoded","rawKey","encryptedMsg","broadcast","b64","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","ess","nets","pump","through","SignalHub","app","urls","subscribers","subscriber","endpoint","streams","pending","errors","statusCode","es","EventSource","onmessage","onopen","instance","Constructor","_classCallCheck","registerImmediate","html","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","canUsePostMessage","MessageChannel","port1","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","random","addEventListener","attachEvent","task","localStorage","uri","responseType","originalCb","resp","body","parseHeaders","xtend","initParams","params","createXHR","_createXHR","response","getBody","xhr","responseText","responseXML","firefoxBugTakenEffect","nodeName","getXml","isJson","errorFunc","evt","timeoutTimer","failureResponse","loadFunc","aborted","useXDR","headers","rawRequest","getAllResponseHeaders","cors","XDomainRequest","XMLHttpRequest","readyState","onload","onprogress","onabort","username","password","withCredentials","abort","setRequestHeader","isEmpty","beforeSend","send","default","forEachArray","win","alert","confirm","prompt","row","getPolyfill","shim","boundTrim","ERROR_MESSAGE","bound","binder","boundLength","boundArgs","Empty","origKeys","keysShim","originalKeys","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","isArguments","theKeys","skipProto","skipConstructor","equalsConstructorPrototypeIfNotBuggy","GetIntrinsic","$Object","$TypeError","$String","assertRecord","$isNaN","$isFinite","sign","mod","IsCallable","toPrimitive","ES5","ToPrimitive","ToBoolean","ToNumber","ToInteger","number","ToInt32","ToUint32","ToUint16","posInt","ToObject","optMessage","SameValue","Type","IsPropertyDescriptor","Desc","allowed","isData","IsAccessor","IsAccessorDescriptor","IsDataDescriptor","IsGenericDescriptor","FromPropertyDescriptor","ToPropertyDescriptor","Obj","setter","$SyntaxError","recordType","argumentName","modulo","remain","isCallable","ES5internalSlots","O","actualHint","methods","polyfill","forEachString","charAt","forEachObject","thisArg","eos","fs","isFn","destroyer","ReadStream","WriteStream","isFS","setHeader","isRequest","to","destroys","wrapper","ws","onlegacyfinish","onexit","exitCode","onrequest","stdio","isChildProcess","DestroyableTransform","_destroyed","through2","construct","t2","Through2","override","TransformState","calledRead","ranOut","roundUpToNextPowerOf2","emitDataEvents","pipeOnReadable","startPaused","stringMode","WriteReq","dec","protocol","thunky","toStream","mutexify","raf","bulk","alru","differ","history","keyHistory","normalizeKey","derive","HyperDB","storage","isOptions","assign","reduceFirst","st","checkout","hypercore","local","localContent","contentFeeds","contentFeed","_ready","sparse","sparseContent","_storage","_contentStorage","_writers","_watching","_replicating","_localWriter","_byKey","_heads","_version","_checkout","_lock","_valueEncoding","_batching","_batchingNodes","_secretKey","secretKey","_storeSecretKey","storeSecretKey","_onwrite","_authorized","Writer","_contentFeed","_feedsMessage","_feedsLoaded","_entry","_clock","_encodeMap","_decodeMap","_cache","_writes","_writeLength","isHead","other","release","loop","append","delete","unlock","_getHeads","buffers","snapshot","readyAndHeads","_waitForUpdate","missing","onhead","filterHeads","authorized","authorizes","authorize","_addWriter","replicate","oncontent","isPut","_writer","writer","maxRequests","_decode","addWriter","_getWriter","_pushWriter","diff","createHistoryStream","createKeyHistoryStream","createDiffStream","createReadStream","createWriteStream","flattened","content","ensureHeader","feedOpts","oncheckout","onnode","_ensureContentFeed","_updateFeeds","Header","Entry","mapped","inflate","_needsInflate","InflatedEntry","_mapList","_maybeUpdateFeeds","writers","_loadFeeds","cached","_getFeed","def","onfeeds","_addWriters","inflated","pair","publicKey","metadata","updateReplicates","visited","authedKey","remoteLength","merkle","batcher","sparseBitfield","treeIndex","pretty","safeBufferEquals","createStorage","directory","allowPush","peers","_indexing","indexing","_createIfMissing","createIfMissing","_overwrite","overwrite","_merkle","storageCacheSize","_batch","workHook","_reloadMerkleStateBeforeAppend","_appendHook","work","_append","_seq","_waiting","_selections","_reserved","_synced","_stats","stats","downloadedBlocks","downloadedBytes","uploadedBlocks","uploadedBytes","_codec","toCodec","_sync","low","_syncBitfield","download","verifyNode","trusted","addSize","isBlock","wrapCodec","timeoutCallback","failed","toWantRange","createError","errno","indent","indentationLvl","peerStats","totals","onready","_writeStateReloader","_updatePeers","_reloadMerkleState","_roots","generatedKey","bitfieldPageSize","challenge","verify","onsignature","sig","keyPair","shouldWriteKey","shouldWriteSecretKey","onroots","getSignature","openKey","range","sel","want","linear","undownload","_readyAndProof","needsSig","getNode","_readyAndPut","_putBuffer","cancel","_cancel","_readyAndCancel","modified","_unannounce","onstartbytes","onendbytes","dataOffset","nextSignature","rootHashes","checksum","_getRootsToVerify","_readyAndSeek","_seek","haveBytes","left","right","nearestRoot","onroot","onleftchild","_getBuffer","getData","sib","trustedNode","missingNodes","onmissing","onmissingloaded","_verifyAndWrite","_writeAfterHook","writeHookDone","putNode","ondone","_writeDone","putData","putSignature","_announce","localNodes","remoteNodes","_verifyRootsAndWrite","lastNode","extraNodes","indexes","have","unhave","downloaded","_readyAndGet","getBatch","_readyAndGetBatch","_getBatch","codec","getDataBatch","_readyAndAppend","nodeBatch","nodeOffset","dataBatch","putNodeBatch","_pollWaiting","putBitfield","audit","report","invalid","block","verified","callbacks","cbs","MerkleGenerator","leaf","_leaf","_parent","from2","defaults","_from","Class","_reading","running","pendingBatch","pendingCallbacks","pushArray","pushAll","callAll","nextBatch","INDEX_UPDATE_MASK","INDEX_ITERATE_MASK","DATA_ITERATE_MASK","DATA_UPDATE_MASK","MAP_PARENT_RIGHT","MAP_PARENT_LEFT","NEXT_DATA_0_BIT","NEXT_INDEX_0_BIT","TOTAL_1_BITS","nibble","ceil","_iterator","setByteNoAlloc","_indexEnd","_pos","_byte","_bitfield","isParent","_setIndex","_expand","leftMask","rightMask","compress","getIndexValue","dataBitfield","free","_skipAhead","peek","indexBitfield","treeEnd","treeByte","INT","MSB","MSBALL","counter","bytesRead","REST","N1","N2","N3","N4","N5","N6","N7","N8","N9","uint64be","bufferAllocSafe","Storage","noarr","cacheSize","signatures","findNode","isBlank","_getSignature","cachedNodes","blk","onlast","sizes","ontree","statable","stat","statAndReadAll","bufs","readAll","hasFullSupport","fillWithNumber","isSingleByte","fillWithBuffer","TABLE","crc","LEAF_TYPE","PARENT_TYPE","ROOT_TYPE","HYPERCORE","encodeUInt64","blake2b","crypto_generichash_batch","seed","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_seed_keypair","crypto_sign_keypair","crypto_sign_BYTES","crypto_sign_detached","crypto_sign_verify_detached","cs","gf","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","vn","xi","yi","crypto_verify_32","poly1305","t0","t1","t3","t4","t5","t6","t7","leftover","fin","cpos","mpos","clen","crypto_onetimeauth","outpos","crypto_onetimeauth_verify","hpos","crypto_verify_16","crypto_secretbox_open","set25519","car25519","sel25519","q","pack25519","neq25519","par25519","unpack25519","A","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","inv25519","crypto_scalarmult","check","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","z","x32","x16","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","K","crypto_hashblocks_hl","hh","hl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","crypto_hash","cswap","pack","tx","ty","zi","scalarmult","scalarbase","pk","sk","seeded","L","modL","carry","crypto_sign","sm","unpackneg","chk","den","den2","den4","den6","pow2523","crypto_sign_open","crypto_secretbox_easy","crypto_secretbox_MACBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_KEYBYTES","crypto_secretbox_ZEROBYTES","crypto_secretbox","crypto_secretbox_BOXZEROBYTES","crypto_secretbox_open_easy","forward","submodule","memzero","crypto_sign_SEEDBYTES","crypto_scalarmult_base","crypto_secretbox_detached","crypto_secretbox_open_detached","SIGMA","XSalsa20","WASM","Fallback","_overflow","memory","_s","_z","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","core_hsalsa20","core_salsa20","NONCEBYTES","realloc","xsalsa20_xor","loadWebAssembly","supported","imp","imports","wasm","atob","catch","setup","WebAssembly","Instance","Module","instantiate","crypto_generichash_PRIMITIVE","crypto_generichash_BYTES_MIN","crypto_generichash_BYTES_MAX","crypto_generichash_BYTES","crypto_generichash_KEYBYTES_MIN","crypto_generichash_KEYBYTES_MAX","crypto_generichash_KEYBYTES","crypto_generichash_WASM_SUPPORTED","crypto_generichash_WASM_LOADED","crypto_generichash_ready","inputArray","crypto_generichash_instance","freeList","digestLength","finalized","pointer","blake2b_init","blake2b_update","blake2b_final","crypto_kdf_PRIMITIVE","crypto_kdf_BYTES_MIN","crypto_kdf_BYTES_MAX","crypto_kdf_CONTEXTBYTES","crypto_kdf_KEYBYTES","crypto_kdf_derive_from_key","subkey","subkey_id","ctx_padded","int","STORE64_LE","crypto_kdf_keygen","siphash","crypto_shorthash_PRIMITIVE","crypto_shorthash_BYTES","crypto_shorthash_KEYBYTES","crypto_shorthash_WASM_SUPPORTED","crypto_shorthash_WASM_LOADED","fallback","siphash24","_add","rl","a2","_rotl","_rotl32","al","_compress","v0","v1","v2","v3","_get_int","mi","k0","k1","mp","ml","ml7","ic","for","EMPTY","Peer","wants","remoteBitfield","remoteWant","remoteDownloading","inflightRequests","inflightWants","_lastBytes","_first","_closed","_defaultDownloading","createView","triggerReady","firstTime","onwant","_clear","request","_onbytes","onvalue","_updateEnd","tick","onhave","le","remote","getUint32","remoteAndNotLocal","oninfo","info","onunhave","onunwant","oncancel","_sendWantsMaybe","selections","waiting","wlen","slen","inflight","_downloadWaiting","_downloadRange","_sendWants","_sendWantRange","_sendWant","_request","reserved","wantedEnd","nextRandom","_send","unwant","extension","_emit","localId","onextension","decodeMessage","ctz","allOne","oneOne","ZEROS","MASK","MASK_INCL","LITTLE_ENDIAN","_offsets","_parents","_page","_allocs","defactor","_getPage","upd","_updateAllOne","_updateOneOne","_fillBit","_fillBuffer","MAX_SAFE_INTEGER","delta","_setPageBuffer","_nextPage","_setPageBits","_addPage","em","nextTrue","nextFalse","clz","clz32","_downLeftFalse","_inc","_downLeftTrue","IteratorStream","onread","used","acquire","locked","normalizeArray","allowAboveRoot","up","resolvedPath","resolvedAbsolute","normalize","isAbsolute","trailingSlash","paths","relative","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","matchedSlash","basename","extname","startDot","startPart","preDotState","Differ","otherDb","_left","_right","_leftNodes","_rightNodes","noMapReduce","_nextLeft","_nextRight","kl","kr","same","_skip","_nodes","lt","highestClock","_updateAll","_max","_min","_pop","_shift","_compare","_nextHeads","onHead","PutRequest","ifNotExists","_trie","_updateHead","_workerDone","_fork","_checkCollision","_copyTrie","_splitTrie","headVal","found3","defineEntry","defineInflatedEntry","defineHeader","encodeBucket","vals","encodeValue","more","decodeBucket","decodeValues","unordered","Watcher","_kicked","_onkick","kicked","sortByFeed","onchange","CONTEXT","DELIM","Store","RandomAccess","_getdb","backify","dbname","xopts","idb","mozIndexedDB","webkitIndexedDB","msIndexedDB","dbqueue","createObjectStore","getdb","_blocks","_store","store","offsets","firstBlock","transaction","objectStore","_stat","NOT_READABLE","defaultImpl","NOT_WRITABLE","NOT_DELETABLE","NOT_STATABLE","NO_OPEN_READABLE","_queued","_needsOpen","openReadonly","_openReadonly","_del","preferReadonly","deletable","_openError","queueAndRun","_run","openWritable","nextTickCallback","_maybeOpenError","queued","_unqueue","ra","_openAndNotClosed","callable","byObserver","Observer","createTextNode","observe","characterData","MutationObserver","WebKitMutationObserver"],"mappings":"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","file":"akasha-id-lib.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"AKASHAid\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AKASHAid\"] = factory();\n\telse\n\t\troot[\"AKASHAid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 66);\n","class MasqError extends Error {\n  constructor (code, details, underlyingError) {\n    super()\n    if (details instanceof Error) {\n      underlyingError = details\n      details = undefined\n    }\n    this.message = makeErrorMessage(code, details)\n\n    this.code = code\n\n    this.underlyingError = underlyingError\n    this.details = details\n  }\n}\n\nconst makeErrorMessage = (code, details) => {\n  let msg\n  if (code) {\n    if (MasqError.messages[code]) {\n      msg = MasqError.messages[code]\n    } else {\n      msg = 'Unknown error with code \"' + code + '\"'\n    }\n  } else {\n    msg = 'Error with no error code'\n  }\n\n  if (details) {\n    msg = msg + ' : ' + details\n  }\n\n  return msg\n}\n\nMasqError.messages = {\n  UNDEFINED_ERROR: 'Error with undefined type',\n  INVALID_ENCODING_FORMAT: 'Supported encoding formats: hex and base64',\n  WRONG_PARAMETER: 'The given object has wrong properties',\n  WRONG_FUNCTION_ARGUMENTS: 'Wrong function arguments',\n  NOT_LOGGED_IN: 'Not logged into Masq',\n  NOT_CONNECTED: 'Not connected to Masq',\n  UNABLE_TO_DECRYPT: 'Unable to decrypt data',\n  UNABLE_TO_ENCRYPT: 'Unable to encrypt data',\n  WRONG_MESSAGE: 'Wrong message received',\n  WRONG_PASSPHRASE: 'Wrong passphrase',\n  MASQ_ACCESS_REFUSED_BY_USER: 'Masq access refused by the user',\n  INVALID_KEY: 'Invalid key',\n  INVALID_CRYPTOKEY: 'Invalid crypto key',\n  NO_DB: 'No DB provided',\n  NO_NONCE: 'No nonce provided',\n  NO_ENCRYPTION_KEY: 'No encryption key provided',\n  MISSING_PROFILE_ID: 'Misssing profile id',\n  MISSING_RESOURCE_ID: 'Missing resource id',\n  INVALID_PASSPHRASE: 'Invalid Passphrase',\n  USERNAME_ALREADY_TAKEN: 'This username already exists',\n  AUTHORIZE_DB_KEY_FAILED: 'Authorization of db key for write access failed',\n  PROFILE_NOT_OPENED: 'Not logged in and trying to execute a function only accessible when logged in',\n  DISCONNECTED_DURING_LOGIN: 'Disconnected during login procedure',\n  SIGNALLING_SERVER_ERROR: 'Could not connect to the signalling server',\n  REPLICATION_SIGNALLING_ERROR: 'Lost connection to signalling server during replication',\n  INVALID_STATE_TRANSITION: 'Invalid state transition'\n}\n\nMasqError.UNDEFINED_ERROR = 'UNDEFINED_ERROR'\nMasqError.INVALID_ENCODING_FORMAT = 'INVALID_ENCODING_FORMAT'\nMasqError.WRONG_PARAMETER = 'WRONG_PARAMETER'\nMasqError.WRONG_FUNCTION_ARGUMENTS = 'WRONG_FUNCTION_ARGUMENTS'\nMasqError.NOT_LOGGED_IN = 'NOT_LOGGED_IN'\nMasqError.NOT_CONNECTED = 'NOT_CONNECTED'\nMasqError.UNABLE_TO_DECRYPT = 'UNABLE_TO_DECRYPT'\nMasqError.UNABLE_TO_ENCRYPT = 'UNABLE_TO_ENCRYPT'\nMasqError.WRONG_MESSAGE = 'WRONG_MESSAGE'\nMasqError.WRONG_PASSPHRASE = 'WRONG_PARAMETER'\nMasqError.MASQ_ACCESS_REFUSED_BY_USER = 'MASQ_ACCESS_REFUSED_BY_USER'\nMasqError.INVALID_KEY = 'INVALID_KEY'\nMasqError.INVALID_CRYPTOKEY = 'INVALID_CRYPTOKEY'\nMasqError.NO_DB = 'NO_DB'\nMasqError.NO_NONCE = 'NO_NONCE'\nMasqError.NO_ENCRYPTION_KEY = 'NO_ENCRYPTION_KEY'\nMasqError.MISSING_PROFILE_ID = 'MISSING_PROFILE_ID'\nMasqError.MISSING_RESOURCE_ID = 'MISSING_RESOURCE_ID'\nMasqError.INVALID_PASSPHRASE = 'INVALID_PASSPHRASE'\nMasqError.USERNAME_ALREADY_TAKEN = 'USERNAME_ALREADY_TAKEN'\nMasqError.AUTHORIZE_DB_KEY_FAILED = 'AUTHORIZE_DB_KEY_FAILED'\nMasqError.PROFILE_NOT_OPENED = 'PROFILE_NOT_OPENED'\nMasqError.DISCONNECTED_DURING_LOGIN = 'DISCONNECTED_DURING_LOGIN'\nMasqError.SIGNALLING_SERVER_ERROR = 'SIGNALLING_SERVER_ERROR'\nMasqError.REPLICATION_SIGNALLING_ERROR = 'REPLICATION_SIGNALLING_ERROR'\nMasqError.INVALID_STATE_TRANSITION = 'INVALID_STATE_TRANSITION'\n\n/**\n   * Use this fonction to check if the required parameters\n   * are present in the received object.\n   * @param {object} obj - The object we want to check\n   * @param {array} parameters - The array with all the keys we want to test\n   * @returns {masqError}\n   */\nconst checkObject = (obj, parameters) => {\n  for (let i in parameters) {\n    if (obj[parameters[i]] === undefined) {\n      throw new MasqError(MasqError.WRONG_PARAMETER, `The parameter ${parameters[i]} is required`)\n    }\n  }\n}\n\nexport { checkObject, MasqError }\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","function allocUnsafe (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  }\n\n  if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n\n  if (Buffer.allocUnsafe) {\n    return Buffer.allocUnsafe(size)\n  } else {\n    return new Buffer(size)\n  }\n}\n\nmodule.exports = allocUnsafe\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","import { checkObject, MasqError } from './errors'\n\nconst _checkEncodingFormat = (format) => {\n  if (format !== 'hex' && format !== 'base64') throw new MasqError(MasqError.INVALID_ENCODING_FORMAT)\n}\n\nconst genRandomBuffer = (len = 16) => {\n  const values = window.crypto.getRandomValues(new Uint8Array(len))\n  return Buffer.from(values)\n}\n\nconst genRandomBufferAsStr = (len = 16, encodingFormat = 'hex') => {\n  if (encodingFormat) {\n    _checkEncodingFormat(encodingFormat)\n  }\n  const buf = genRandomBuffer(len)\n  return buf.toString(encodingFormat)\n}\n\n/**\n *  Return a buffer of an UInt8Array\n *  This is only used for regression test,\n *  we check if Uint8array and Buffer.from\n *  have the same behaviour with the webCryptoApi\n *  Buffer.from is not available (without babelify) in\n *  the test file.\n *\n * @param {Uint8Array} arr\n * @returns {Buffer}\n */\nconst getBuffer = (arr) => {\n  return Buffer.from(arr)\n}\n\n/**\n @typedef protectedMasterKeyAndNonce\n @type {Object}\n @property {derivationParams} derivationParams - The derivation params.\n @property {encryptedMasterKeyAndNonce} encryptedMasterKeyAndNonce - The encrypted masterKey and nonce\n */\n\n/**\n @typedef derivationParams\n @type {Object}\n @property {string} hashAlgo - The hash algo for the PBKDF2 and the final hash to store it\n @property {sring} salt - The salt used to derive the key (format: hex string)\n @property {Number} iterations - The iteration # used during key derivation\n */\n\n/**\n @typedef keyEncryptionKey\n @type {Object}\n @property {Object} derivationParams - The derivation parmaeters\n @property {Cryptokey} key - The key encryption key (used to protect the MasterKey)\n */\n\n/**\n @typedef masterKeyAndNonce\n @type {Object}\n @property {string} masterKey - The master key (hex format)\n @property {string} nonce - The nonce used to protect the keys in hyperdb\n */\n\n/**\n @typedef encryptedMasterKeyAndNonce\n @type {Object}\n @property {string} iv - The iv used to encrypt the masterKey (format: hex string)\n @property {string} ciphertext - The encrypted masterKey (format: hex string)\n */\n\nconst _checkPassphrase = (passphrase) => {\n  if (typeof passphrase !== 'string' || passphrase === '') {\n    throw new MasqError(MasqError.INVALID_PASSPHRASE)\n  }\n}\n\nconst _checkCryptokey = (key) => {\n  if (!key.type || key.type !== 'secret') {\n    throw new MasqError(MasqError.INVALID_CRYPTOKEY)\n  }\n}\n\n/**\n * Generate a PBKDF2 derived key (bits) based on user given passPhrase\n *\n * @param {string | arrayBuffer} passPhrase The passphrase that is used to derive the key\n * @param {arrayBuffer} [salt] The salt\n * @param {Number} [iterations] The iterations number\n * @param {string} [hashAlgo] The hash function used for derivation\n * @returns {Promise<Uint8Array>}   A promise that contains the derived key\n */\nconst deriveBits = async (passPhrase, salt, iterations, hashAlgo) => {\n  // Always specify a strong salt\n  if (iterations < 10000) { console.warn('The iteration number is less than 10000, increase it !') }\n\n  const baseKey = await window.crypto.subtle.importKey(\n    'raw',\n    (typeof passPhrase === 'string') ? Buffer.from(passPhrase) : passPhrase,\n    'PBKDF2',\n    false,\n    ['deriveBits', 'deriveKey']\n  )\n  const derivedKey = await window.crypto.subtle.deriveBits({\n    name: 'PBKDF2',\n    salt: salt || new Uint8Array([]),\n    iterations: iterations || 100000,\n    hash: hashAlgo || 'SHA-256'\n  }, baseKey, 128)\n\n  return new Uint8Array(derivedKey)\n}\n\n/**\n * Hash of a string or arrayBuffer\n *\n * @param {string | arrayBuffer} msg The message\n * @param {string} [encodingFormat] The encoding format ('hex' by default, could be 'base64')\n * @returns {Promise<String>}   A promise that contains the hash as a String encoded with encodingFormat\n */\nconst hash256 = (msg, encodingFormat) => {\n  if (encodingFormat) {\n    _checkEncodingFormat(encodingFormat)\n  }\n  return hashMsg(msg, encodingFormat || 'hex', 'SHA-256')\n}\n\n/**\n * Hash of a string or arrayBuffer\n *\n * @param {string | arrayBuffer} msg The message\n * @param {string} [encodingFormat] The encoding format ('hex' by default, could be 'base64')\n * @param {string} [type] The hash name (SHA-256 by default)\n * @returns {Promise<String>}  A promise that contains the hash as a String encoded with encodingFormat\n */\nconst hashMsg = async (msg, encodingFormat, type = 'SHA-256') => {\n  const digest = await window.crypto.subtle.digest(\n    {\n      name: type\n    },\n    (typeof msg === 'string') ? Buffer.from(msg) : msg\n  )\n  return Buffer.from(digest).toString(encodingFormat)\n}\n\n/**\n * Derive a key based on a given passphrase\n *\n * @param {string | arrayBuffer} passPhrase The passphrase that is used to derive the key\n * @param {arrayBuffer} [salt] The salt\n * @param {Number} [iterations] The iterations number\n * @param {string} [hashAlgo] The hash function used for derivation and final hash computing\n * @returns {Promise<keyEncryptionKey>}   A promise that contains the derived key and derivation parameters\n */\nconst deriveKeyFromPassphrase = async (passPhrase, salt, iterations, hashAlgo) => {\n  _checkPassphrase(passPhrase)\n  const _hashAlgo = hashAlgo || 'SHA-256'\n  const _salt = salt || genRandomBuffer(16)\n  const _iterations = iterations || 100000\n\n  const derivedKey = await deriveBits(passPhrase, _salt, _iterations, _hashAlgo)\n  const key = await importKey(derivedKey)\n  return {\n    derivationParams: {\n      salt: Buffer.from(_salt).toString('hex'),\n      iterations: _iterations,\n      hashAlgo: _hashAlgo\n    },\n    key\n  }\n}\n\n/**\n * Derive the passphrase with PBKDF2 to obtain a KEK\n * Generate a AES key (masterKey)\n * Encrypt the masterKey with the KEK\n * Generate a nonce and encrypt it also with the KEK\n *\n * @param {string | arrayBuffer} passPhrase The passphrase that is used to derive the key\n * @param {arrayBuffer} [salt] The salt\n * @param {Number} [iterations] The iterations number\n * @param {string} [hashAlgo] The hash function used for derivation and final hash computing\n * @returns {Promise<protectedMasterKeyAndNonce>}   A promise that contains the hashed derived key\n */\nconst genEncryptedMasterKeyAndNonce = async (passPhrase, salt, iterations, hashAlgo) => {\n  // derive key encryption key from passphrase\n  const keyEncryptionKey = await deriveKeyFromPassphrase(passPhrase, salt, iterations, hashAlgo)\n\n  // Generate the masterKey\n  const masterKey = await genRandomBufferAsStr(16, 'hex')\n  const nonce = await genRandomBufferAsStr(16, 'hex')\n  const toBeEncryptedMasterKeyAndNonce = {\n    masterKey,\n    nonce\n  }\n\n  const encryptedMasterKeyAndNonce = await encrypt(keyEncryptionKey.key, toBeEncryptedMasterKeyAndNonce)\n\n  return {\n    derivationParams: keyEncryptionKey.derivationParams,\n    encryptedMasterKeyAndNonce\n  }\n}\n\nconst requiredParameterProtectedMasterKeyAndNonce = ['encryptedMasterKeyAndNonce', 'derivationParams']\n\n/**\n * Derive a given key by deriving\n * the encryption key from a\n * given passphrase and derivation params.\n *\n * @param {string | arrayBuffer} passPhrase The passphrase that is used to derive the key\n * @param {protectedMasterKeyAndNonce} protectedMasterKeyAndNonce - The same object returned by genEncryptedMasterKey\n * @returns {Promise<masterKeyAndNonce>}   A promise that contains the masterKey and the nonce\n */\nconst decryptMasterKeyAndNonce = async (passPhrase, protectedMasterKeyAndNonce) => {\n  checkObject(protectedMasterKeyAndNonce, requiredParameterProtectedMasterKeyAndNonce)\n  const { derivationParams, encryptedMasterKeyAndNonce } = protectedMasterKeyAndNonce\n  const { salt, iterations, hashAlgo } = derivationParams\n  const _salt = typeof (salt) === 'string' ? Buffer.from(salt, ('hex')) : salt\n  try {\n    const derivedKey = await deriveBits(passPhrase, _salt, iterations, hashAlgo)\n    const keyEncryptionKey = await importKey(derivedKey)\n    const encryptedMasterKeyAndNonceHex = await decrypt(keyEncryptionKey, encryptedMasterKeyAndNonce)\n    return {\n      masterKey: Buffer.from(encryptedMasterKeyAndNonceHex.masterKey, 'hex'),\n      nonce: encryptedMasterKeyAndNonceHex.nonce\n    }\n  } catch (error) {\n    throw new MasqError(MasqError.WRONG_PASSPHRASE)\n  }\n}\n\n/**\n * Update the KEK based on the new passphrase from user\n * Note: the MK and the nonce must not be changed!\n *\n * @param {string | arrayBuffer} currentPassPhrase The current (old) passphrase that is used to derive the key\n * @param {string | arrayBuffer} newPassPhrase The new passphrase that will be used to derive the key\n * @param {protectedMasterKeyAndNonce} protectedMasterKeyAndNonce - The same object returned by genEncryptedMasterKey for the old passphrase\n * @returns {Promise<protectedMasterKeyAndNonce>}\n */\nconst updateMasterKeyAndNonce = async (currentPassPhrase, newPassPhrase, protectedMasterKeyAndNonce) => {\n  const { masterKey, nonce } = await decryptMasterKeyAndNonce(currentPassPhrase, protectedMasterKeyAndNonce)\n  // derive a new key encryption key from newPassPhrase\n  const keyEncryptionKey = await deriveKeyFromPassphrase(newPassPhrase)\n\n  // Use existing masterKey and nonce\n  // Because masterKey is a buffer, we encode it as a hex string.\n  // The nonce is already as a hex string\n  const toBeEncryptedMasterKeyAndNonce = {\n    masterKey: masterKey.toString('hex'),\n    nonce\n  }\n\n  const encryptedMasterKeyAndNonce = await encrypt(keyEncryptionKey.key, toBeEncryptedMasterKeyAndNonce)\n\n  return {\n    derivationParams: keyEncryptionKey.derivationParams,\n    encryptedMasterKeyAndNonce\n  }\n}\n\n/**\n   * Generate an AES key based on the cipher mode and keysize\n   * @param {boolean} [extractable] - Specify if the generated key is extractable\n   * @param {string} [mode] - The aes mode of the generated key\n   * @param {Number} [keySize] - Specify if the generated key is extractable\n   * @returns {Promise<CryptoKey>} - The generated AES key.\n   */\nconst genAESKey = (extractable, mode, keySize) => {\n  return window.crypto.subtle.generateKey({\n    name: mode || 'AES-GCM',\n    length: keySize || 128\n  }, extractable || true, ['decrypt', 'encrypt'])\n}\n\n/**\n  * Export a CryptoKey into a raw|jwk key\n  *\n  * @param {CryptoKey} key - The CryptoKey\n  * @param {string} [type] - The type of the exported key\n  * @returns {Promise<arrayBuffer>} - The raw key or the key as a jwk format\n  */\nconst exportKey = async (key, type = 'raw') => {\n  const exportedKey = await window.crypto.subtle.exportKey(type, key)\n  if (type === 'raw') return new Uint8Array(exportedKey)\n  return exportedKey\n}\n\n/**\n  * Import a raw|jwk as a CryptoKey\n  *\n  * @param {arrayBuffer|Object} key - The key\n  * @param {string} [type] - The type of the key to import ('raw', 'jwk')\n  * @param {string} [mode] - The mode of the key to import (default 'AES-GCM')\n  * @returns {Promise<arrayBuffer>} - The cryptoKey\n  */\nconst importKey = (key, type = 'raw', mode = 'AES-GCM') => {\n  return window.crypto.subtle.importKey(type, key, { name: mode }\n    , true, ['encrypt', 'decrypt'])\n}\n\n/**\n * Decrypt buffer\n * @param {ArrayBuffer} key - The AES CryptoKey\n * @param {ArrayBuffer} data - Data to decrypt\n * @param {Object} cipherContext - The AES cipher parameters\n * @param {ArrayBuffer} cipherContext.iv - The IV\n * @param {string} cipherContext.name - The encryption mode\n * @param {ArrayBuffer} [cipherContext.additionalData] - The non-secret authenticated data (only AES-GCM)\n * @param {ArrayBuffer} [cipherContext.counter] - The counter used for aes-ctr mode\n * @returns {Promise<ArrayBuffer>} - The decrypted buffer\n */\nconst decryptBuffer = async (key, data, cipherContext) => {\n  // TODO: test input params\n  try {\n    const decrypted = await window.crypto.subtle.decrypt(cipherContext, key, data)\n    return new Uint8Array(decrypted)\n  } catch (e) {\n    if (e.message === 'Unsupported state or unable to authenticate data') {\n      throw new MasqError(MasqError.UNABLE_TO_DECRYPT)\n    }\n  }\n}\n\n/**\n * Encrypt buffer\n *\n * @param {ArrayBuffer} key - The AES CryptoKey\n * @param {ArrayBuffer} data - Data to encrypt\n * @param {Object} cipherContext - The AES cipher parameters\n * @param {ArrayBuffer} cipherContext.iv - The IV\n * @param {string} cipherContext.name - The encryption mode\n * @param {ArrayBuffer} [cipherContext.additionalData] - The non-secret authenticated data (only AES-GCM)\n * @param {ArrayBuffer} [cipherContext.counter] - The counter used for aes-ctr mode\n * @returns {ArrayBuffer} - The encrypted buffer\n */\nconst encryptBuffer = async (key, data, cipherContext) => {\n  const encrypted = await window.crypto.subtle.encrypt(cipherContext, key, data)\n  return new Uint8Array(encrypted)\n}\n\n/**\n * Encrypt data\n *\n * @param {CryptoKey} key - The AES CryptoKey\n * @param {string | Object} - The data to encrypt\n * @param {string} [format] - The ciphertext and iv encoding format\n * @returns {Object} - The stringified ciphertext object (ciphertext and iv)\n */\nconst encrypt = async (key, data, format = 'hex') => {\n  _checkCryptokey(key)\n  let context = {\n    iv: genRandomBuffer(key.algorithm.name === 'AES-GCM' ? 12 : 16),\n    plaintext: Buffer.from(JSON.stringify(data))\n  }\n\n  // Prepare cipher context, depends on cipher mode\n  let cipherContext = {\n    name: key.algorithm.name,\n    iv: context.iv\n  }\n\n  const encrypted = await encryptBuffer(key, context.plaintext, cipherContext)\n  return {\n    ciphertext: Buffer.from(encrypted).toString(format),\n    iv: Buffer.from(context.iv).toString(format)\n  }\n}\n\n/**\n * Decrypt data\n *\n * @param {CryptoKey} key - The AES CryptoKey\n * @param {string | Object} - The data to encrypt\n * @param {string} [format] - The ciphertext and iv encoding format\n */\nconst decrypt = async (key, ciphertext, format = 'hex') => {\n  _checkCryptokey(key)\n\n  let context = {\n    ciphertext: ciphertext.hasOwnProperty('ciphertext') ? Buffer.from(ciphertext.ciphertext, (format)) : '',\n    // IV is 128 bits long === 16 bytes\n    iv: ciphertext.hasOwnProperty('iv') ? Buffer.from(ciphertext.iv, (format)) : ''\n  }\n\n  // Prepare cipher context, depends on cipher mode\n  let cipherContext = {\n    name: key.algorithm.name,\n    iv: context.iv\n  }\n  try {\n    const decrypted = await decryptBuffer(key, context.ciphertext, cipherContext)\n    return JSON.parse(Buffer.from(decrypted).toString())\n  } catch (error) {\n    throw new MasqError(MasqError.UNABLE_TO_DECRYPT)\n  }\n}\n\nexport {\n  encrypt,\n  decrypt,\n  importKey,\n  exportKey,\n  genAESKey,\n  genRandomBuffer,\n  genRandomBufferAsStr,\n  getBuffer,\n  decryptMasterKeyAndNonce,\n  genEncryptedMasterKeyAndNonce,\n  updateMasterKeyAndNonce,\n  hash256\n}\n","module.exports = {\n    encode: require('./encode.js')\n  , decode: require('./decode.js')\n  , encodingLength: require('./length.js')\n}\n","exports.fullRoots = function (index, result) {\n  if (index & 1) throw new Error('You can only look up roots for depth(0) blocks')\n  if (!result) result = []\n\n  index /= 2\n\n  var offset = 0\n  var factor = 1\n\n  while (true) {\n    if (!index) return result\n    while (factor * 2 <= index) factor *= 2\n    result.push(offset + factor - 1)\n    offset = offset + 2 * factor\n    index -= factor\n    factor = 1\n  }\n}\n\nexports.depth = function (index) {\n  var depth = 0\n\n  index += 1\n  while (!(index & 1)) {\n    depth++\n    index = rightShift(index)\n  }\n\n  return depth\n}\n\nexports.sibling = function (index, depth) {\n  if (!depth) depth = exports.depth(index)\n  var offset = exports.offset(index, depth)\n\n  return exports.index(depth, offset & 1 ? offset - 1 : offset + 1)\n}\n\nexports.parent = function (index, depth) {\n  if (!depth) depth = exports.depth(index)\n  var offset = exports.offset(index, depth)\n\n  return exports.index(depth + 1, rightShift(offset))\n}\n\nexports.leftChild = function (index, depth) {\n  if (!(index & 1)) return -1\n  if (!depth) depth = exports.depth(index)\n  return exports.index(depth - 1, exports.offset(index, depth) * 2)\n}\n\nexports.rightChild = function (index, depth) {\n  if (!(index & 1)) return -1\n  if (!depth) depth = exports.depth(index)\n  return exports.index(depth - 1, 1 + (exports.offset(index, depth) * 2))\n}\n\nexports.children = function (index, depth) {\n  if (!(index & 1)) return null\n\n  if (!depth) depth = exports.depth(index)\n  var offset = exports.offset(index, depth) * 2\n\n  return [\n    exports.index(depth - 1, offset),\n    exports.index(depth - 1, offset + 1)\n  ]\n}\n\nexports.leftSpan = function (index, depth) {\n  if (!(index & 1)) return index\n  if (!depth) depth = exports.depth(index)\n  return exports.offset(index, depth) * twoPow(depth + 1)\n}\n\nexports.rightSpan = function (index, depth) {\n  if (!(index & 1)) return index\n  if (!depth) depth = exports.depth(index)\n  return (exports.offset(index, depth) + 1) * twoPow(depth + 1) - 2\n}\n\nexports.count = function (index, depth) {\n  if (!(index & 1)) return 1\n  if (!depth) depth = exports.depth(index)\n  return twoPow(depth + 1) - 1\n}\n\nexports.spans = function (index, depth) {\n  if (!(index & 1)) return [index, index]\n  if (!depth) depth = exports.depth(index)\n\n  var offset = exports.offset(index, depth)\n  var width = twoPow(depth + 1)\n\n  return [offset * width, (offset + 1) * width - 2]\n}\n\nexports.index = function (depth, offset) {\n  return (1 + 2 * offset) * twoPow(depth) - 1\n}\n\nexports.offset = function (index, depth) {\n  if (!(index & 1)) return index / 2\n  if (!depth) depth = exports.depth(index)\n\n  return ((index + 1) / twoPow(depth) - 1) / 2\n}\n\nexports.iterator = function (index) {\n  var ite = new Iterator()\n  ite.seek(index || 0)\n  return ite\n}\n\nfunction twoPow (n) {\n  return n < 31 ? 1 << n : ((1 << 30) * (1 << (n - 30)))\n}\n\nfunction rightShift (n) {\n  return (n - (n & 1)) / 2\n}\n\nfunction Iterator (index) {\n  this.index = 0\n  this.offset = 0\n  this.factor = 0\n}\n\nIterator.prototype.seek = function (index) {\n  this.index = index\n  if (this.index & 1) {\n    this.offset = exports.offset(index)\n    this.factor = twoPow(exports.depth(index) + 1)\n  } else {\n    this.offset = index / 2\n    this.factor = 2\n  }\n}\n\nIterator.prototype.isLeft = function () {\n  return !(this.offset & 1)\n}\n\nIterator.prototype.isRight = function () {\n  return !this.isLeft()\n}\n\nIterator.prototype.prev = function () {\n  if (!this.offset) return this.index\n  this.offset--\n  this.index -= this.factor\n  return this.index\n}\n\nIterator.prototype.next = function () {\n  this.offset++\n  this.index += this.factor\n  return this.index\n}\n\nIterator.prototype.sibling = function () {\n  return this.isLeft() ? this.next() : this.prev()\n}\n\nIterator.prototype.parent = function () {\n  if (this.offset & 1) {\n    this.index -= this.factor / 2\n    this.offset = (this.offset - 1) / 2\n  } else {\n    this.index += this.factor / 2\n    this.offset /= 2\n  }\n  this.factor *= 2\n  return this.index\n}\n\nIterator.prototype.leftSpan = function () {\n  this.index = this.index - this.factor / 2 + 1\n  this.offset = this.index / 2\n  this.factor = 2\n  return this.index\n}\n\nIterator.prototype.rightSpan = function () {\n  this.index = this.index + this.factor / 2 - 1\n  this.offset = this.index / 2\n  this.factor = 2\n  return this.index\n}\n\nIterator.prototype.leftChild = function () {\n  if (this.factor === 2) return this.index\n  this.factor /= 2\n  this.index -= this.factor / 2\n  this.offset *= 2\n  return this.index\n}\n\nIterator.prototype.rightChild = function () {\n  if (this.factor === 2) return this.index\n  this.factor /= 2\n  this.index += this.factor / 2\n  this.offset = 2 * this.offset + 1\n  return this.index\n}\n","module.exports = require('sodium-javascript')\n","assert.notEqual = notEqual\nassert.notOk = notOk\nassert.equal = equal\nassert.ok = assert\n\nmodule.exports = assert\n\nfunction equal (a, b, m) {\n  assert(a == b, m) // eslint-disable-line eqeqeq\n}\n\nfunction notEqual (a, b, m) {\n  assert(a != b, m) // eslint-disable-line eqeqeq\n}\n\nfunction notOk (t, m) {\n  assert(!t, m)\n}\n\nfunction assert (t, m) {\n  if (!t) throw new Error(m || 'AssertionError')\n}\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","var toString = Object.prototype.toString\n\nvar isModern = (\n  typeof Buffer.alloc === 'function' &&\n  typeof Buffer.allocUnsafe === 'function' &&\n  typeof Buffer.from === 'function'\n)\n\nfunction isArrayBuffer (input) {\n  return toString.call(input).slice(8, -1) === 'ArrayBuffer'\n}\n\nfunction fromArrayBuffer (obj, byteOffset, length) {\n  byteOffset >>>= 0\n\n  var maxLength = obj.byteLength - byteOffset\n\n  if (maxLength < 0) {\n    throw new RangeError(\"'offset' is out of bounds\")\n  }\n\n  if (length === undefined) {\n    length = maxLength\n  } else {\n    length >>>= 0\n\n    if (length > maxLength) {\n      throw new RangeError(\"'length' is out of bounds\")\n    }\n  }\n\n  return isModern\n    ? Buffer.from(obj.slice(byteOffset, byteOffset + length))\n    : new Buffer(new Uint8Array(obj.slice(byteOffset, byteOffset + length)))\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  return isModern\n    ? Buffer.from(string, encoding)\n    : new Buffer(string, encoding)\n}\n\nfunction bufferFrom (value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (isArrayBuffer(value)) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  return isModern\n    ? Buffer.from(value)\n    : new Buffer(value)\n}\n\nmodule.exports = bufferFrom\n","var sodium = require('sodium-universal')\n\nvar KEY = Buffer.alloc(16)\nvar OUT = Buffer.alloc(8)\n\nhash.TERMINATE = 4\nhash.LENGTH = 32\n\nmodule.exports = hash\n\nfunction hash (keys, terminate) {\n  if (typeof keys === 'string') keys = split(keys)\n\n  var all = new Array(keys.length * 32 + (terminate ? 1 : 0))\n\n  for (var i = 0; i < keys.length; i++) {\n    sodium.crypto_shorthash(OUT, Buffer.from(keys[i]), KEY)\n    expandHash(OUT, all, i * 32)\n  }\n\n  if (terminate) all[all.length - 1] = 4\n\n  return all\n}\n\nfunction expandHash (next, out, offset) {\n  for (var i = 0; i < next.length; i++) {\n    var n = next[i]\n\n    for (var j = 0; j < 4; j++) {\n      var r = n & 3\n      out[offset++] = r\n      n -= r\n      n /= 4\n    }\n  }\n}\n\nfunction split (key) {\n  var list = key.split('/')\n  if (list[0] === '') list.shift()\n  if (list[list.length - 1] === '') list.pop()\n  return list\n}\n","module.exports = NanoIterator\n\nfunction NanoIterator (opts) {\n  if (!(this instanceof NanoIterator)) return new NanoIterator(opts)\n\n  this.opened = false\n  this.closed = false\n  this.ended = false\n\n  this._nextSync = false\n  this._nextQueue = []\n  this._nextCallback = null\n  this._nextDone = nextDone.bind(null, this)\n  this._openDone = openDone.bind(null, this)\n\n  if (opts) {\n    if (opts.open) this._open = opts.open\n    if (opts.next) this._next = opts.next\n    if (opts.destroy) this._destroy = opts.destroy\n  }\n}\n\nNanoIterator.prototype.next = function (cb) {\n  if (this._nextCallback || this._nextQueue.length) {\n    this._nextQueue.push(cb)\n    return\n  }\n\n  this._nextCallback = cb\n  this._nextSync = true\n  if (!this.opened) this._open(this._openDone)\n  else update(this)\n  this._nextSync = false\n}\n\nNanoIterator.prototype.destroy = function (cb) {\n  if (!cb) cb = noop\n\n  if (this.closed) {\n    this.next(() => cb())\n    return\n  }\n\n  this.closed = true\n  if (!this._nextCallback) this.opened = true\n  this.next(() => this._destroy(cb))\n}\n\nNanoIterator.prototype._open = function (cb) {\n  cb(null)\n}\n\nNanoIterator.prototype._destroy = function (cb) {\n  cb(null)\n}\n\nNanoIterator.prototype._next = function (cb) {\n  cb(new Error('_next is not implemented'))\n}\n\nif (typeof Symbol !== 'undefined' && Symbol.asyncIterator) {\n  NanoIterator.prototype[Symbol.asyncIterator] = function () {\n    var self = this\n    return {next: nextPromise}\n\n    function nextPromise () {\n      return new Promise(function (resolve, reject) {\n        self.next(function (err, val) {\n          if (err) return reject(err)\n          resolve({value: val, done: val === null})\n        })\n      })\n    }\n  }\n}\n\nfunction noop () {}\n\nfunction openDone (self, err) {\n  if (err) return nextDone(self, err, null)\n  self.opened = true\n  update(self)\n}\n\nfunction nextDone (self, err, value) {\n  if (self._nextSync) return nextDoneNT(self, err, value)\n\n  if (self.closed) {\n    err = new Error('Iterator is destroyed')\n    value = null\n  }\n\n  var cb = self._nextCallback\n  self._nextCallback = null\n  if (!err && value === null) self.ended = true\n  cb(err, value)\n\n  if (self._nextCallback || !self._nextQueue.length) return\n\n  self._nextCallback = self._nextQueue.shift()\n  update(self)\n}\n\nfunction update (self) {\n  if (self.ended || self.closed) nextDoneNT(self, null, null)\n  else self._next(self._nextDone)\n}\n\nfunction nextDoneNT (self, err, val) {\n  process.nextTick(nextDone, self, err, val)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isCallable(value) {\n\tif (!value) { return false; }\n\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\tif (typeof value === 'function' && !value.prototype) { return true; }\n\tif (hasToStringTag) { return tryFunctionObject(value); }\n\tif (isES6ClassFn(value)) { return false; }\n\tvar strClass = toStr.call(value);\n\treturn strClass === fnClass || strClass === genClass;\n};\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","exports.add = add\nexports.has = has\nexports.remove = remove\nexports.swap = swap\n\nfunction add (list, item) {\n  if (has(list, item)) return item\n  item._index = list.length\n  list.push(item)\n  return item\n}\n\nfunction has (list, item) {\n  return item._index < list.length && list[item._index] === item\n}\n\nfunction remove (list, item) {\n  if (!has(list, item)) return null\n\n  var last = list.pop()\n  if (last !== item) {\n    list[item._index] = last\n    last._index = item._index\n  }\n\n  return item\n}\n\nfunction swap (list, a, b) {\n  if (!has(list, a) || !has(list, b)) return\n  var tmp = a._index\n  a._index = b._index\n  list[a._index] = a\n  b._index = tmp\n  list[b._index] = b\n}\n","var pager = require('memory-pager')\n\nmodule.exports = Bitfield\n\nfunction Bitfield (opts) {\n  if (!(this instanceof Bitfield)) return new Bitfield(opts)\n  if (!opts) opts = {}\n  if (Buffer.isBuffer(opts)) opts = {buffer: opts}\n\n  this.pageOffset = opts.pageOffset || 0\n  this.pageSize = opts.pageSize || 1024\n  this.pages = opts.pages || pager(this.pageSize)\n\n  this.byteLength = this.pages.length * this.pageSize\n  this.length = 8 * this.byteLength\n\n  if (!powerOfTwo(this.pageSize)) throw new Error('The page size should be a power of two')\n\n  this._trackUpdates = !!opts.trackUpdates\n  this._pageMask = this.pageSize - 1\n\n  if (opts.buffer) {\n    for (var i = 0; i < opts.buffer.length; i += this.pageSize) {\n      this.pages.set(i / this.pageSize, opts.buffer.slice(i, i + this.pageSize))\n    }\n    this.byteLength = opts.buffer.length\n    this.length = 8 * this.byteLength\n  }\n}\n\nBitfield.prototype.get = function (i) {\n  var o = i & 7\n  var j = (i - o) / 8\n\n  return !!(this.getByte(j) & (128 >> o))\n}\n\nBitfield.prototype.getByte = function (i) {\n  var o = i & this._pageMask\n  var j = (i - o) / this.pageSize\n  var page = this.pages.get(j, true)\n\n  return page ? page.buffer[o + this.pageOffset] : 0\n}\n\nBitfield.prototype.set = function (i, v) {\n  var o = i & 7\n  var j = (i - o) / 8\n  var b = this.getByte(j)\n\n  return this.setByte(j, v ? b | (128 >> o) : b & (255 ^ (128 >> o)))\n}\n\nBitfield.prototype.toBuffer = function () {\n  var all = alloc(this.pages.length * this.pageSize)\n\n  for (var i = 0; i < this.pages.length; i++) {\n    var next = this.pages.get(i, true)\n    var allOffset = i * this.pageSize\n    if (next) next.buffer.copy(all, allOffset, this.pageOffset, this.pageOffset + this.pageSize)\n  }\n\n  return all\n}\n\nBitfield.prototype.setByte = function (i, b) {\n  var o = i & this._pageMask\n  var j = (i - o) / this.pageSize\n  var page = this.pages.get(j, false)\n\n  o += this.pageOffset\n\n  if (page.buffer[o] === b) return false\n  page.buffer[o] = b\n\n  if (i >= this.byteLength) {\n    this.byteLength = i + 1\n    this.length = this.byteLength * 8\n  }\n\n  if (this._trackUpdates) this.pages.updated(page)\n\n  return true\n}\n\nfunction alloc (n) {\n  if (Buffer.alloc) return Buffer.alloc(n)\n  var b = new Buffer(n)\n  b.fill(0)\n  return b\n}\n\nfunction powerOfTwo (x) {\n  return !(x & (x - 1))\n}\n","var bufferFill = require('buffer-fill')\nvar allocUnsafe = require('buffer-alloc-unsafe')\n\nmodule.exports = function alloc (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  }\n\n  if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n\n  if (Buffer.alloc) {\n    return Buffer.alloc(size, fill, encoding)\n  }\n\n  var buffer = allocUnsafe(size)\n\n  if (size === 0) {\n    return buffer\n  }\n\n  if (fill === undefined) {\n    return bufferFill(buffer, 0)\n  }\n\n  if (typeof encoding !== 'string') {\n    encoding = undefined\n  }\n\n  return bufferFill(buffer, fill, encoding)\n}\n","var assert = require('nanoassert')\nvar randombytes = (function () {\n  var QUOTA = 65536 // limit for QuotaExceededException\n  var crypto = typeof global !== 'undefined' ? crypto = (global.crypto || global.msCrypto) : null\n\n  function browserBytes (out, n) {\n    for (var i = 0; i < n; i += QUOTA) {\n      crypto.getRandomValues(out.subarray(i, i + Math.min(n - i, QUOTA)))\n    }\n  }\n\n  function nodeBytes (out, n) {\n    out.set(crypto.randomBytes(n))\n  }\n\n  function noImpl () {\n    throw new Error('No secure random number generator available')\n  }\n\n  if (crypto && crypto.getRandomValues) {\n    return browserBytes\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto')\n    if (crypto && crypto.randomBytes) {\n      return nodeBytes\n    }\n  }\n\n  return noImpl\n})()\n\nObject.defineProperty(module.exports, 'randombytes', {\n  value: randombytes\n})\n\nmodule.exports.randombytes_buf = function (out) {\n  assert(out, 'out must be given')\n  randombytes(out, out.length)\n}\n","exports.map = function (opts, db) {\n  if (!opts) return db._map\n  var map = opts.map\n  return map === undefined ? db._map : map\n}\n\nexports.reduce = function (opts, db) {\n  if (!opts) return db._reduce\n  var reduce = opts.reduce\n  return reduce === undefined ? db._reduce : reduce\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar ES = require('es-abstract/es5');\nvar replace = bind.call(Function.call, String.prototype.replace);\n\n/* eslint-disable no-control-regex */\nvar leftWhitespace = /^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+/;\nvar rightWhitespace = /[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+$/;\n/* eslint-enable no-control-regex */\n\nmodule.exports = function trim() {\n\tvar S = ES.ToString(ES.CheckObjectCoercible(this));\n\treturn replace(replace(S, leftWhitespace, ''), rightWhitespace, '');\n};\n","'use strict';\n\n/* globals\n\tSet,\n\tMap,\n\tWeakSet,\n\tWeakMap,\n\n\tPromise,\n\n\tSymbol,\n\tProxy,\n\n\tAtomics,\n\tSharedArrayBuffer,\n\n\tArrayBuffer,\n\tDataView,\n\tUint8Array,\n\tFloat32Array,\n\tFloat64Array,\n\tInt8Array,\n\tInt16Array,\n\tInt32Array,\n\tUint8ClampedArray,\n\tUint16Array,\n\tUint32Array,\n*/\n\nvar undefined; // eslint-disable-line no-shadow-restricted-names\n\nvar ThrowTypeError = Object.getOwnPropertyDescriptor\n\t? (function () { return Object.getOwnPropertyDescriptor(arguments, 'callee').get; }())\n\t: function () { throw new TypeError(); };\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'$ %Array%': Array,\n\t'$ %ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'$ %ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'$ %ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'$ %ArrayPrototype%': Array.prototype,\n\t'$ %ArrayProto_entries%': Array.prototype.entries,\n\t'$ %ArrayProto_forEach%': Array.prototype.forEach,\n\t'$ %ArrayProto_keys%': Array.prototype.keys,\n\t'$ %ArrayProto_values%': Array.prototype.values,\n\t'$ %AsyncFromSyncIteratorPrototype%': undefined,\n\t'$ %AsyncFunction%': asyncFunction,\n\t'$ %AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'$ %AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'$ %AsyncGeneratorFunction%': asyncGenFunction,\n\t'$ %AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'$ %AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'$ %Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'$ %Boolean%': Boolean,\n\t'$ %BooleanPrototype%': Boolean.prototype,\n\t'$ %DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'$ %DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'$ %Date%': Date,\n\t'$ %DatePrototype%': Date.prototype,\n\t'$ %decodeURI%': decodeURI,\n\t'$ %decodeURIComponent%': decodeURIComponent,\n\t'$ %encodeURI%': encodeURI,\n\t'$ %encodeURIComponent%': encodeURIComponent,\n\t'$ %Error%': Error,\n\t'$ %ErrorPrototype%': Error.prototype,\n\t'$ %eval%': eval, // eslint-disable-line no-eval\n\t'$ %EvalError%': EvalError,\n\t'$ %EvalErrorPrototype%': EvalError.prototype,\n\t'$ %Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'$ %Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'$ %Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'$ %Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'$ %Function%': Function,\n\t'$ %FunctionPrototype%': Function.prototype,\n\t'$ %Generator%': generator ? getProto(generator()) : undefined,\n\t'$ %GeneratorFunction%': generatorFunction,\n\t'$ %GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'$ %Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'$ %Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'$ %Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'$ %Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'$ %isFinite%': isFinite,\n\t'$ %isNaN%': isNaN,\n\t'$ %IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'$ %JSON%': JSON,\n\t'$ %JSONParse%': JSON.parse,\n\t'$ %Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'$ %MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'$ %MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'$ %Math%': Math,\n\t'$ %Number%': Number,\n\t'$ %NumberPrototype%': Number.prototype,\n\t'$ %Object%': Object,\n\t'$ %ObjectPrototype%': Object.prototype,\n\t'$ %ObjProto_toString%': Object.prototype.toString,\n\t'$ %ObjProto_valueOf%': Object.prototype.valueOf,\n\t'$ %parseFloat%': parseFloat,\n\t'$ %parseInt%': parseInt,\n\t'$ %Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'$ %PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'$ %PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'$ %Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'$ %Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'$ %Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'$ %Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'$ %RangeError%': RangeError,\n\t'$ %RangeErrorPrototype%': RangeError.prototype,\n\t'$ %ReferenceError%': ReferenceError,\n\t'$ %ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'$ %Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'$ %RegExp%': RegExp,\n\t'$ %RegExpPrototype%': RegExp.prototype,\n\t'$ %Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'$ %SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'$ %SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'$ %SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'$ %SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'$ %String%': String,\n\t'$ %StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'$ %StringPrototype%': String.prototype,\n\t'$ %Symbol%': hasSymbols ? Symbol : undefined,\n\t'$ %SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'$ %SyntaxError%': SyntaxError,\n\t'$ %SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'$ %ThrowTypeError%': ThrowTypeError,\n\t'$ %TypedArray%': TypedArray,\n\t'$ %TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'$ %TypeError%': TypeError,\n\t'$ %TypeErrorPrototype%': TypeError.prototype,\n\t'$ %Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'$ %Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'$ %Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'$ %Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'$ %Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'$ %Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'$ %Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'$ %Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'$ %URIError%': URIError,\n\t'$ %URIErrorPrototype%': URIError.prototype,\n\t'$ %WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'$ %WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'$ %WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'$ %WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar key = '$ ' + name;\n\tif (!(key in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[key] === 'undefined' && !allowMissing) {\n\t\tthrow new TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\treturn INTRINSICS[key];\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar zeroWidthSpace = '\\u200b';\n\nmodule.exports = function getPolyfill() {\n\tif (String.prototype.trim && zeroWidthSpace.trim() === zeroWidthSpace) {\n\t\treturn String.prototype.trim;\n\t}\n\treturn implementation;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","import { encrypt, decrypt, hash256 } from './crypto'\nimport { MasqError } from './errors'\nimport { promisify } from 'es6-promisify'\nconst hyperdb = require('hyperdb')\nconst rai = require('random-access-idb')\n\nfunction createPromisifiedHyperDB (name, hexKey) {\n  const methodsToPromisify = ['version', 'put', 'get', 'del', 'batch', 'list', 'authorize', 'authorized']\n  const keyBuffer = hexKey\n    ? Buffer.from(hexKey, 'hex')\n    : null\n\n  const db = hyperdb(rai(name), keyBuffer, { valueEncoding: 'json', firstNode: true })\n\n  // Promisify methods with Async suffix\n  methodsToPromisify.forEach(m => {\n    db[`${m}Async`] = promisify(db[m])\n  })\n\n  return db\n}\n\nfunction dbReady (db) {\n  return new Promise((resolve) => {\n    db.ready(resolve)\n  })\n}\n\nfunction dbExists (dbName) {\n  return new Promise((resolve, reject) => {\n    const req = window.indexedDB.open(dbName)\n    let existed = true\n    req.onsuccess = () => {\n      req.result.close()\n      if (!existed) { window.indexedDB.deleteDatabase(dbName) }\n      resolve(existed)\n    }\n    req.onupgradeneeded = () => {\n      existed = false\n    }\n    req.onerror = (err) => {\n      reject(err)\n    }\n  })\n}\n\n/**\n *\n * @param {string} key - The key (/prefix/key)\n * @param {string} nonce - The nonce is used to ensure privacy and avoid de-anonymization (hex string)\n */\nconst hashKey = async (key, nonce) => {\n  if (key === '/' || key === '') return '/'\n  const prefixes = key.split('/').filter(prefix => prefix !== '')\n  const hashedPrefixes = await Promise.all(prefixes.map(async (prefix) => hash256(`${nonce}${prefix}`)))\n  return hashedPrefixes.join('/')\n}\n\n/**\n   * Get a value\n   * @param {Object} db - The hyperDB instance\n   * @param {CryptoKey} enckey - The enc/dec AES key\n   * @param {string} key - The key name\n   * @param {string} nonce - The nonce as hex string\n   * @returns {Promise}\n   */\nconst get = async (db, encKey, nonce, key) => {\n  if (key === undefined || key === null) return null\n  if (!db) throw new MasqError(MasqError.NO_DB)\n  if (!encKey) throw new MasqError(MasqError.NO_ENCRYPTION_KEY)\n  if (!nonce) throw new MasqError(MasqError.NO_NONCE)\n  const hashedKey = await hashKey(key, nonce)\n\n  const node = await db.getAsync(hashedKey)\n  if (!node) return null\n  const dec = await decrypt(encKey, node.value)\n  // dec contains an object with key and value\n  return dec.value\n}\n\n/**\n   * Put a new value in the db\n   * @param {Object} db - The hyperDB instance\n   * @param {CryptoKey} enckey - The enc/dec AES key\n   * @param {string} nonce - The nonce as hex string\n   * @param {string} key - The key name\n   * @param {any} value - The value to insert\n   * @returns {Promise}\n   */\nconst put = async (db, encKey, nonce, key, value) => {\n  if (key === undefined || key === null) return null\n  if (!db) throw new MasqError(MasqError.NO_DB)\n  if (!encKey) throw new MasqError(MasqError.NO_ENCRYPTION_KEY)\n  if (!nonce) throw new MasqError(MasqError.NO_NONCE)\n\n  let sanitizedKey = key\n\n  if (sanitizedKey[0] === '/') {\n    sanitizedKey = sanitizedKey.slice(1)\n  }\n\n  if (sanitizedKey[sanitizedKey.length - 1] === '/') {\n    sanitizedKey = sanitizedKey.slice(0, -1)\n  }\n\n  const withKeyName = {\n    key: sanitizedKey,\n    value: value\n  }\n  const enc = await encrypt(encKey, withKeyName)\n  const hashedKey = await hashKey(key, nonce)\n\n  return db.putAsync(hashedKey, enc)\n}\n\n/**\n   * Delete a key/value\n   * @param {Object} db - The hyperDB instance\n   * @param {CryptoKey} enckey - The enc/dec AES key\n   * @param {string} nonce - The nonce as hex string\n   * @param {string} key - The key name\n   * @returns {Promise}\n   */\nconst del = async (db, encKey, nonce, key) => {\n  if (key === undefined || key === null) return null\n  if (!db) throw new MasqError(MasqError.NO_DB)\n  if (!encKey) throw new MasqError(MasqError.NO_ENCRYPTION_KEY)\n  if (!nonce) throw new MasqError(MasqError.NO_NONCE)\n\n  const hashedKey = await hashKey(key, nonce)\n  return db.delAsync(hashedKey)\n}\n\n/**\n   * List all keys and values\n   * @param {Object} db - The hyperDB instance\n   * @param {CryptoKey} enckey - The enc/dec AES key\n   * @param {string} nonce - The nonce as hex string\n   * @param {string} [prefix] - Prefix\n   * @returns {Promise}\n   */\nconst list = async (db, encKey, nonce, prefix) => {\n  if (prefix === null) return null\n  if (!db) throw new MasqError(MasqError.NO_DB)\n  if (!encKey) throw new MasqError(MasqError.NO_ENCRYPTION_KEY)\n  if (!nonce) throw new MasqError(MasqError.NO_NONCE)\n\n  const _prefix = prefix ? await hashKey(prefix, nonce) : '/'\n  const list = await db.listAsync(_prefix)\n  if (list.length === 1 && list[0].key === '' && list[0].value === null) {\n    return {}\n  }\n  const decList = await Promise.all(list.map((elt) => {\n    const dec = decrypt(encKey, elt.value)\n    return dec\n  }))\n\n  const reformattedDic = decList.reduce((dic, e) => {\n    dic[e.key] = e.value\n    return dic\n  }, {})\n\n  return reformattedDic\n}\n\n/**\n   * Set a watcher\n   * @param {Object} db - The hyperDB instance\n   * @param {string} nonce - The nonce as hex string\n   * @param {string} key - Key\n   * @param {Object} cb\n   * @returns {Object}\n   */\nconst watch = async (db, nonce, key, cb) => {\n  const hashedKey = await hashKey(key, nonce)\n  return db.watch(hashedKey, cb)\n}\n\nexport {\n  watch,\n  dbReady,\n  dbExists,\n  createPromisifiedHyperDB,\n  get,\n  put,\n  del,\n  list,\n  hashKey\n}\n","module.exports = remove\n\nfunction remove (arr, i) {\n  if (i >= arr.length || i < 0) return\n  var last = arr.pop()\n  if (i < arr.length) {\n    var tmp = arr[i]\n    arr[i] = last\n    return tmp\n  }\n  return last\n}\n","var stream = require('readable-stream')\nvar inherits = require('inherits')\nvar bufferFrom = require('buffer-from')\n\nvar SIGNAL_FLUSH = bufferFrom([0])\n\nvar Bulk = function (opts, worker, flush) {\n  if (!(this instanceof Bulk)) return new Bulk(opts, worker, flush)\n\n  if (typeof opts === 'function') {\n    flush = worker\n    worker = opts\n    opts = {}\n  }\n\n  stream.Writable.call(this, opts)\n  this._worker = worker\n  this._flush = flush\n  this.destroyed = false\n}\n\ninherits(Bulk, stream.Writable)\n\nBulk.obj = function (opts, worker, flush) {\n  if (typeof opts === 'function') return Bulk.obj(null, opts, worker)\n  if (!opts) opts = {}\n  opts.objectMode = true\n  return new Bulk(opts, worker, flush)\n}\n\nBulk.prototype.end = function (data, enc, cb) {\n  if (!this._flush) return stream.Writable.prototype.end.apply(this, arguments)\n  if (typeof data === 'function') return this.end(null, null, data)\n  if (typeof enc === 'function') return this.end(data, null, enc)\n  if (data) this.write(data)\n  if (!this._writableState.ending) this.write(SIGNAL_FLUSH)\n  return stream.Writable.prototype.end.call(this, cb)\n}\n\nBulk.prototype.destroy = function (err) {\n  if (this.destroyed) return\n  this.destroyed = true\n  if (err) this.emit('error')\n  this.emit('close')\n}\n\nBulk.prototype._write = function (data, enc, cb) {\n  if (data === SIGNAL_FLUSH) this._flush(cb)\n  else this._worker([data], cb)\n}\n\nBulk.prototype._writev = function (batch, cb) {\n  var len = batch.length\n  if (batch[batch.length - 1].chunk === SIGNAL_FLUSH) {\n    cb = this._flusher(cb)\n    if (!--len) return cb()\n  }\n  var arr = new Array(len)\n  for (var i = 0; i < len; i++) arr[i] = batch[i].chunk\n  this._worker(arr, cb)\n}\n\nBulk.prototype._flusher = function (cb) {\n  var self = this\n  return function (err) {\n    if (err) return cb(err)\n    self._flush(cb)\n  }\n}\n\nmodule.exports = Bulk\n","module.exports = codecs\n\nvar fromBuffer = (Buffer.from && Buffer.from !== Uint8Array.from)\n  ? Buffer.from\n  : Buffer\n\ncodecs.ascii = createString('ascii')\ncodecs.utf8 = createString('utf-8')\ncodecs.hex = createString('hex')\ncodecs.base64 = createString('base64')\ncodecs.ucs2 = createString('ucs2')\ncodecs.utf16le = createString('utf16le')\ncodecs.ndjson = createJSON(true)\ncodecs.json = createJSON(false)\ncodecs.binary = {\n  encode: function encodeBinary (obj) {\n    return typeof obj === 'string' ? fromBuffer(obj, 'utf-8') : obj\n  },\n  decode: function decodeBinary (buf) {\n    return buf\n  }\n}\n\nfunction codecs (fmt) {\n  if (typeof fmt === 'object' && fmt && fmt.encode && fmt.decode) return fmt\n\n  switch (fmt) {\n    case 'ndjson': return codecs.ndjson\n    case 'json': return codecs.json\n    case 'ascii': return codecs.ascii\n    case 'utf-8':\n    case 'utf8': return codecs.utf8\n    case 'hex': return codecs.hex\n    case 'base64': return codecs.base64\n    case 'ucs-2':\n    case 'ucs2': return codecs.ucs2\n    case 'utf16-le':\n    case 'utf16le': return codecs.utf16le\n  }\n\n  return codecs.binary\n}\n\nfunction createJSON (newline) {\n  return {\n    encode: newline ? encodeNDJSON : encodeJSON,\n    decode: function decodeJSON (buf) {\n      return JSON.parse(buf.toString())\n    }\n  }\n\n  function encodeJSON (val) {\n    return new Buffer(JSON.stringify(val))\n  }\n\n  function encodeNDJSON (val) {\n    return new Buffer(JSON.stringify(val) + '\\n')\n  }\n}\n\nfunction createString (type) {\n  return {\n    encode: function encodeString (val) {\n      if (typeof val !== 'string') val = val.toString()\n      return fromBuffer(val, type)\n    },\n    decode: function decodeString (buf) {\n      return buf.toString(type)\n    }\n  }\n}\n","'use strict'\n\nvar nextTick = nextTickArgs\nprocess.nextTick(upgrade, 42) // pass 42 and see if upgrade is called with it\n\nmodule.exports = thunky\n\nfunction thunky (fn) {\n  var state = run\n  return thunk\n\n  function thunk (callback) {\n    state(callback || noop)\n  }\n\n  function run (callback) {\n    var stack = [callback]\n    state = wait\n    fn(done)\n\n    function wait (callback) {\n      stack.push(callback)\n    }\n\n    function done (err) {\n      var args = arguments\n      state = isError(err) ? run : finished\n      while (stack.length) finished(stack.shift())\n\n      function finished (callback) {\n        nextTick(apply, callback, args)\n      }\n    }\n  }\n}\n\nfunction isError (err) { // inlined from util so this works in the browser\n  return Object.prototype.toString.call(err) === '[object Error]'\n}\n\nfunction noop () {}\n\nfunction apply (callback, args) {\n  callback.apply(null, args)\n}\n\nfunction upgrade (val) {\n  if (val === 42) nextTick = process.nextTick\n}\n\nfunction nextTickArgs (fn, a, b) {\n  process.nextTick(function () {\n    fn(a, b)\n  })\n}\n","module.exports = function () {\n  throw new Error('random-access-file is not supported in the browser')\n}\n","var varint = require('varint')\nvar alloc = require('buffer-alloc-unsafe')\n\nmodule.exports = align(1)\n\nfunction align (n) {\n  var exports = {}\n\n  exports.align = align\n\n  exports.encode = encode\n  exports.encode.bytes = 0\n  exports.encodingLength = encodingLength\n\n  exports.decode = decode\n  exports.decode.bytes = 0\n  exports.decodingLength = decodingLength\n\n  return exports\n\n  function State (input, output, offset) {\n    this.inputOffset = 0\n    this.inputLength = input.length\n    this.input = input\n    this.outputOffset = offset\n    this.output = output\n  }\n\n  function encode (bitfield, buffer, offset) {\n    if (!offset) offset = 0\n    if (!buffer) buffer = alloc(encodingLength(bitfield))\n    var state = new State(bitfield, buffer, offset)\n    rle(state)\n    encode.bytes = state.outputOffset - offset\n    return buffer\n  }\n\n  function encodingLength (bitfield) {\n    var state = new State(bitfield, null, 0)\n    rle(state)\n    return state.outputOffset\n  }\n\n  function decode (buffer, offset) {\n    if (!offset) offset = 0\n\n    var bitfield = alloc(decodingLength(buffer, offset))\n    var ptr = 0\n\n    while (offset < buffer.length) {\n      var next = varint.decode(buffer, offset)\n      var repeat = next & 1\n      var len = repeat ? (next - (next & 3)) / 4 : next / 2\n\n      offset += varint.decode.bytes\n\n      if (repeat) {\n        bitfield.fill(next & 2 ? 255 : 0, ptr, ptr + len)\n      } else {\n        buffer.copy(bitfield, ptr, offset, offset + len)\n        offset += len\n      }\n\n      ptr += len\n    }\n\n    bitfield.fill(0, ptr)\n    decode.bytes = buffer.length - offset\n\n    return bitfield\n  }\n\n  function decodingLength (buffer, offset) {\n    if (!offset) offset = 0\n\n    var len = 0\n\n    while (offset < buffer.length) {\n      var next = varint.decode(buffer, offset)\n      offset += varint.decode.bytes\n\n      var repeat = next & 1\n      var slice = repeat ? (next - (next & 3)) / 4 : next / 2\n\n      len += slice\n      if (!repeat) offset += slice\n    }\n\n    if (offset > buffer.length) throw new Error('Invalid RLE bitfield')\n\n    if (len & (n - 1)) return len + (n - (len & (n - 1)))\n\n    return len\n  }\n\n  function rle (state) {\n    var len = 0\n    var bits = 0\n    var input = state.input\n\n    while (state.inputLength > 0 && !input[state.inputLength - 1]) state.inputLength--\n\n    for (var i = 0; i < state.inputLength; i++) {\n      if (input[i] === bits) {\n        len++\n        continue\n      }\n\n      if (len) encodeUpdate(state, i, len, bits)\n\n      if (input[i] === 0 || input[i] === 255) {\n        bits = input[i]\n        len = 1\n      } else {\n        len = 0\n      }\n    }\n\n    if (len) encodeUpdate(state, state.inputLength, len, bits)\n    encodeFinal(state)\n  }\n\n  function encodeHead (state, end) {\n    var headLength = end - state.inputOffset\n    varint.encode(2 * headLength, state.output, state.outputOffset)\n    state.outputOffset += varint.encode.bytes\n    state.input.copy(state.output, state.outputOffset, state.inputOffset, end)\n    state.outputOffset += headLength\n  }\n\n  function encodeFinal (state) {\n    var headLength = state.inputLength - state.inputOffset\n    if (!headLength) return\n\n    if (!state.output) {\n      state.outputOffset += (headLength + varint.encodingLength(2 * headLength))\n    } else {\n      encodeHead(state, state.inputLength)\n    }\n\n    state.inputOffset = state.inputLength\n  }\n\n  function encodeUpdate (state, i, len, bit) {\n    var headLength = i - len - state.inputOffset\n    var headCost = (headLength ? varint.encodingLength(2 * headLength) + headLength : 0)\n    var enc = 4 * len + (bit ? 2 : 0) + 1 // len << 2 | bit << 1 | 1\n    var encCost = headCost + varint.encodingLength(enc)\n    var baseCost = varint.encodingLength(2 * (i - state.inputOffset)) + i - state.inputOffset\n\n    if (encCost >= baseCost) return\n\n    if (!state.output) {\n      state.outputOffset += encCost\n      state.inputOffset = i\n      return\n    }\n\n    if (headLength) encodeHead(state, i - len)\n\n    varint.encode(enc, state.output, state.outputOffset)\n    state.outputOffset += varint.encode.bytes\n    state.inputOffset = i\n  }\n}\n","module.exports = Pager\n\nfunction Pager (pageSize, opts) {\n  if (!(this instanceof Pager)) return new Pager(pageSize, opts)\n\n  this.length = 0\n  this.updates = []\n  this.path = new Uint16Array(4)\n  this.pages = new Array(32768)\n  this.maxPages = this.pages.length\n  this.level = 0\n  this.pageSize = pageSize || 1024\n  this.deduplicate = opts ? opts.deduplicate : null\n  this.zeros = this.deduplicate ? alloc(this.deduplicate.length) : null\n}\n\nPager.prototype.updated = function (page) {\n  while (this.deduplicate && page.buffer[page.deduplicate] === this.deduplicate[page.deduplicate]) {\n    page.deduplicate++\n    if (page.deduplicate === this.deduplicate.length) {\n      page.deduplicate = 0\n      if (page.buffer.equals && page.buffer.equals(this.deduplicate)) page.buffer = this.deduplicate\n      break\n    }\n  }\n  if (page.updated || !this.updates) return\n  page.updated = true\n  this.updates.push(page)\n}\n\nPager.prototype.lastUpdate = function () {\n  if (!this.updates || !this.updates.length) return null\n  var page = this.updates.pop()\n  page.updated = false\n  return page\n}\n\nPager.prototype._array = function (i, noAllocate) {\n  if (i >= this.maxPages) {\n    if (noAllocate) return\n    grow(this, i)\n  }\n\n  factor(i, this.path)\n\n  var arr = this.pages\n\n  for (var j = this.level; j > 0; j--) {\n    var p = this.path[j]\n    var next = arr[p]\n\n    if (!next) {\n      if (noAllocate) return\n      next = arr[p] = new Array(32768)\n    }\n\n    arr = next\n  }\n\n  return arr\n}\n\nPager.prototype.get = function (i, noAllocate) {\n  var arr = this._array(i, noAllocate)\n  var first = this.path[0]\n  var page = arr && arr[first]\n\n  if (!page && !noAllocate) {\n    page = arr[first] = new Page(i, alloc(this.pageSize))\n    if (i >= this.length) this.length = i + 1\n  }\n\n  if (page && page.buffer === this.deduplicate && this.deduplicate && !noAllocate) {\n    page.buffer = copy(page.buffer)\n    page.deduplicate = 0\n  }\n\n  return page\n}\n\nPager.prototype.set = function (i, buf) {\n  var arr = this._array(i, false)\n  var first = this.path[0]\n\n  if (i >= this.length) this.length = i + 1\n\n  if (!buf || (this.zeros && buf.equals && buf.equals(this.zeros))) {\n    arr[first] = undefined\n    return\n  }\n\n  if (this.deduplicate && buf.equals && buf.equals(this.deduplicate)) {\n    buf = this.deduplicate\n  }\n\n  var page = arr[first]\n  var b = truncate(buf, this.pageSize)\n\n  if (page) page.buffer = b\n  else arr[first] = new Page(i, b)\n}\n\nPager.prototype.toBuffer = function () {\n  var list = new Array(this.length)\n  var empty = alloc(this.pageSize)\n  var ptr = 0\n\n  while (ptr < list.length) {\n    var arr = this._array(ptr, true)\n    for (var i = 0; i < 32768 && ptr < list.length; i++) {\n      list[ptr++] = (arr && arr[i]) ? arr[i].buffer : empty\n    }\n  }\n\n  return Buffer.concat(list)\n}\n\nfunction grow (pager, index) {\n  while (pager.maxPages < index) {\n    var old = pager.pages\n    pager.pages = new Array(32768)\n    pager.pages[0] = old\n    pager.level++\n    pager.maxPages *= 32768\n  }\n}\n\nfunction truncate (buf, len) {\n  if (buf.length === len) return buf\n  if (buf.length > len) return buf.slice(0, len)\n  var cpy = alloc(len)\n  buf.copy(cpy)\n  return cpy\n}\n\nfunction alloc (size) {\n  if (Buffer.alloc) return Buffer.alloc(size)\n  var buf = new Buffer(size)\n  buf.fill(0)\n  return buf\n}\n\nfunction copy (buf) {\n  var cpy = Buffer.allocUnsafe ? Buffer.allocUnsafe(buf.length) : new Buffer(buf.length)\n  buf.copy(cpy)\n  return cpy\n}\n\nfunction Page (i, buf) {\n  this.offset = i * buf.length\n  this.buffer = buf\n  this.updated = false\n  this.deduplicate = 0\n}\n\nfunction factor (n, out) {\n  n = (n - (out[0] = (n & 32767))) / 32768\n  n = (n - (out[1] = (n & 32767))) / 32768\n  out[3] = ((n - (out[2] = (n & 32767))) / 32768) & 32767\n}\n","var flat = require('flat-tree')\nvar bitfield = require('sparse-bitfield')\n\nmodule.exports = TreeIndex\n\nfunction TreeIndex (bits) {\n  if (!(this instanceof TreeIndex)) return new TreeIndex(bits)\n  this.bitfield = bits || bitfield()\n}\n\nTreeIndex.prototype.proof = function (index, opts) {\n  if (!opts) opts = {}\n\n  var nodes = []\n  var remoteTree = opts.tree || new TreeIndex()\n  var digest = opts.digest || 0\n\n  if (!this.get(index)) return null\n  if (opts.hash) nodes.push(index) // always return hash - no matter what the digest says\n  if (digest === 1) return {nodes: nodes, verifiedBy: 0}\n\n  var roots = null\n  var sibling = index\n  var next = index\n  var hasRoot = digest & 1\n  digest = rightShift(digest)\n\n  while (digest) {\n    if (digest === 1 && hasRoot) {\n      if (this.get(next)) remoteTree.set(next)\n\n      // having a root implies having prev roots as well\n      // TODO: this can be optimized away be only sending \"newer\" roots,\n      // when sending roots\n      if (flat.sibling(next) < next) next = flat.sibling(next)\n      roots = flat.fullRoots(flat.rightSpan(next) + 2)\n      for (var i = 0; i < roots.length; i++) {\n        if (this.get(roots[i])) remoteTree.set(roots[i])\n      }\n      break\n    }\n\n    sibling = flat.sibling(next)\n    if (digest & 1) {\n      if (this.get(sibling)) remoteTree.set(sibling)\n    }\n    next = flat.parent(next)\n    digest = rightShift(digest)\n  }\n\n  next = index\n\n  while (!remoteTree.get(next)) {\n    sibling = flat.sibling(next)\n    if (!this.get(sibling)) {\n      // next is a local root\n      var verifiedBy = this.verifiedBy(next)\n      addFullRoots(verifiedBy, nodes, next, remoteTree)\n      return {nodes: nodes, verifiedBy: verifiedBy}\n    } else {\n      if (!remoteTree.get(sibling)) nodes.push(sibling)\n    }\n\n    next = flat.parent(next)\n  }\n\n  return {nodes: nodes, verifiedBy: 0}\n}\n\nTreeIndex.prototype.digest = function (index) {\n  if (this.get(index)) return 1\n\n  var digest = 0\n  var next = flat.sibling(index)\n  var max = Math.max(next + 2, this.bitfield.length) // TODO: make this less ... hacky\n\n  var bit = 2\n  var depth = flat.depth(index)\n  var parent = flat.parent(next, depth++)\n\n  while (flat.rightSpan(next) < max || flat.leftSpan(parent) > 0) {\n    if (this.get(next)) {\n      digest += bit // + cause in this case it's the same as | but works for large nums\n    }\n    if (this.get(parent)) {\n      digest += 2 * bit\n      if (!(digest & 1)) digest += 1\n      if (digest + 1 === 4 * bit) return 1\n      return digest\n    }\n    next = flat.sibling(parent)\n    parent = flat.parent(next, depth++)\n    bit *= 2\n  }\n\n  return digest\n}\n\nTreeIndex.prototype.blocks = function () {\n  var top = 0\n  var next = 0\n  var max = this.bitfield.length\n\n  while (flat.rightSpan(next) < max) {\n    next = flat.parent(next)\n    if (this.get(next)) top = next\n  }\n\n  return (this.get(top) ? this.verifiedBy(top) : 0) / 2\n}\n\nTreeIndex.prototype.roots = function () {\n  return flat.fullRoots(2 * this.blocks())\n}\n\nTreeIndex.prototype.verifiedBy = function (index, nodes) {\n  var hasIndex = this.get(index)\n  if (!hasIndex) return 0\n\n  // find root of current tree\n\n  var depth = flat.depth(index)\n  var top = index\n  var parent = flat.parent(top, depth++)\n  while (this.get(parent) && this.get(flat.sibling(top))) {\n    top = parent\n    parent = flat.parent(top, depth++)\n  }\n\n  // expand right down\n\n  depth--\n  while (depth) {\n    top = flat.leftChild(flat.index(depth, flat.offset(top, depth) + 1), depth)\n    depth--\n\n    while (!this.get(top) && depth) top = flat.leftChild(top, depth--)\n    if (nodes && this.get(top)) nodes.push(top)\n  }\n\n  return this.get(top) ? top + 2 : top\n}\n\nTreeIndex.prototype.get = function (index) {\n  return this.bitfield.get(index)\n}\n\nTreeIndex.prototype.set = function (index) {\n  if (!this.bitfield.set(index, true)) return false\n  while (this.bitfield.get(flat.sibling(index))) {\n    index = flat.parent(index)\n    if (!this.bitfield.set(index, true)) break\n  }\n  return true\n}\n\nfunction rightShift (n) {\n  return (n - (n & 1)) / 2\n}\n\nfunction addFullRoots (verifiedBy, nodes, root, remoteTree) {\n  var roots = flat.fullRoots(verifiedBy)\n  for (var i = 0; i < roots.length; i++) {\n    if (roots[i] !== root && !remoteTree.get(roots[i])) nodes.push(roots[i])\n  }\n}\n","var bufferAlloc = require('buffer-alloc')\n\nvar UINT_32_MAX = Math.pow(2, 32)\n\nexports.encodingLength = function () {\n  return 8\n}\n\nexports.encode = function (num, buf, offset) {\n  if (!buf) buf = bufferAlloc(8)\n  if (!offset) offset = 0\n\n  var top = Math.floor(num / UINT_32_MAX)\n  var rem = num - top * UINT_32_MAX\n\n  buf.writeUInt32BE(top, offset)\n  buf.writeUInt32BE(rem, offset + 4)\n  return buf\n}\n\nexports.decode = function (buf, offset) {\n  if (!offset) offset = 0\n\n  var top = buf.readUInt32BE(offset)\n  var rem = buf.readUInt32BE(offset + 4)\n\n  return top * UINT_32_MAX + rem\n}\n\nexports.encode.bytes = 8\nexports.decode.bytes = 8\n","var hash = require('./crc16')\n\nmodule.exports = LRU\n\nfunction LRU (max, opts) {\n  if (!(this instanceof LRU)) return new LRU(max, opts)\n  if (!opts) opts = {}\n\n  // how many collisions before evicting (factor of two for fast modulo)\n  this.collisions = factorOfTwo(opts.collisions || opts.bucketSize || 4)\n  // buckets should be a factor of two for fast modulo as well\n  this.buckets = factorOf(max, this.collisions) / this.collisions\n\n  // we use 16bit hashing to bucket index must be <0xffff\n  while (this.buckets > 65536) {\n    this.buckets >>= 1\n    this.collisions <<= 1\n  }\n\n  this.size = this.buckets * this.collisions\n  this.wrap = !opts.indexedValues\n  this.cache = new Array(this.size)\n  this.hash = this.buckets === 65536 ? hash : maskedHash(this.buckets - 1)\n  this.evict = opts.evict || null\n}\n\nLRU.prototype.set = function (index, val) {\n  var pageStart = this.collisions * this.hash(index)\n  var pageEnd = pageStart + this.collisions\n  var ptr = pageStart\n  var page = null\n\n  while (ptr < pageEnd) {\n    page = this.cache[ptr]\n\n    if (!page) {\n      // no exiting version, but we have space to store it\n      page = this.cache[ptr] = this.wrap ? new Node(index, val) : val\n      move(this.cache, pageStart, ptr, page)\n      return\n    }\n\n    if (page.index === index) {\n      // update existing version and move to head of bucket\n      if (this.wrap) page.value = val\n      else this.cache[ptr] = val\n      move(this.cache, pageStart, ptr, page)\n      return\n    }\n\n    ptr++\n  }\n\n  // bucket is full, update oldest (last element in bucket)\n  if (this.wrap) {\n    if (this.evict) this.evict(page.index, page.value)\n    page.index = index\n    page.value = val\n  } else {\n    if (this.evict) this.evict(page.index, page)\n    this.cache[ptr - 1] = val\n  }\n  move(this.cache, pageStart, ptr - 1, page)\n}\n\nLRU.prototype.get = function (index) {\n  var pageStart = this.collisions * this.hash(index)\n  var pageEnd = pageStart + this.collisions\n  var ptr = pageStart\n\n  while (ptr < pageEnd) {\n    var page = this.cache[ptr++]\n\n    if (!page) return null\n    if (page.index !== index) continue\n\n    // we found it! move to head of bucket and return value\n    move(this.cache, pageStart, ptr - 1, page)\n\n    return this.wrap ? page.value : page\n  }\n\n  return null\n}\n\nfunction move (list, index, itemIndex, item) {\n  while (itemIndex > index) list[itemIndex] = list[--itemIndex]\n  list[index] = item\n}\n\nfunction Node (index, value) {\n  this.index = index\n  this.value = value\n}\n\nfunction factorOf (n, factor) {\n  n = factorOfTwo(n)\n  while (n & (factor - 1)) n <<= 1\n  return n\n}\n\nfunction factorOfTwo (n) {\n  if (n && !(n & (n - 1))) return n\n  var p = 1\n  while (p < n) p <<= 1\n  return p\n}\n\nfunction maskedHash (mask) {\n  return function (n) {\n    return hash(n) & mask\n  }\n}\n","var xsalsa20 = require('xsalsa20')\n\nexports.crypto_stream_KEYBYTES = 32\nexports.crypto_stream_NONCEBYTES = 24\nexports.crypto_stream_PRIMITIVE = 'xsalsa20'\n\nexports.crypto_stream = function (out, nonce, key) {\n  out.fill(0)\n  exports.crypto_stream_xor(out, out, nonce, key)\n}\n\nexports.crypto_stream_xor = function (out, inp, nonce, key) {\n  var xor = xsalsa20(nonce, key)\n  xor.update(inp, out)\n  xor.final()\n}\n\nexports.crypto_stream_xor_instance = function (nonce, key) {\n  return new XOR(nonce, key)\n}\n\nfunction XOR (nonce, key) {\n  this._instance = xsalsa20(nonce, key)\n}\n\nXOR.prototype.update = function (out, inp) {\n  this._instance.update(inp, out)\n}\n\nXOR.prototype.final = function () {\n  this._instance.finalize()\n  this._instance = null\n}\n","var assert = require('nanoassert')\nvar b2wasm = require('blake2b-wasm')\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += v[b,b+1]\n// v should be a Uint32Array\nfunction ADD64AA (v, a, b) {\n  var o0 = v[a] + v[b]\n  var o1 = v[a + 1] + v[b + 1]\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += b\n// b0 is the low 32 bits of b, b1 represents the high 32 bits\nfunction ADD64AC (v, a, b0, b1) {\n  var o0 = v[a] + b0\n  if (b0 < 0) {\n    o0 += 0x100000000\n  }\n  var o1 = v[a + 1] + b1\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// Little-endian byte access\nfunction B2B_GET32 (arr, i) {\n  return (arr[i] ^\n  (arr[i + 1] << 8) ^\n  (arr[i + 2] << 16) ^\n  (arr[i + 3] << 24))\n}\n\n// G Mixing function\n// The ROTRs are inlined for speed\nfunction B2B_G (a, b, c, d, ix, iy) {\n  var x0 = m[ix]\n  var x1 = m[ix + 1]\n  var y0 = m[iy]\n  var y1 = m[iy + 1]\n\n  ADD64AA(v, a, b) // v[a,a+1] += v[b,b+1] ... in JS we must store a uint64 as two uint32s\n  ADD64AC(v, a, x0, x1) // v[a, a+1] += x ... x0 is the low 32 bits of x, x1 is the high 32 bits\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated to the right by 32 bits\n  var xor0 = v[d] ^ v[a]\n  var xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = xor1\n  v[d + 1] = xor0\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 24 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor0 >>> 24) ^ (xor1 << 8)\n  v[b + 1] = (xor1 >>> 24) ^ (xor0 << 8)\n\n  ADD64AA(v, a, b)\n  ADD64AC(v, a, y0, y1)\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated right by 16 bits\n  xor0 = v[d] ^ v[a]\n  xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = (xor0 >>> 16) ^ (xor1 << 16)\n  v[d + 1] = (xor1 >>> 16) ^ (xor0 << 16)\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 63 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor1 >>> 31) ^ (xor0 << 1)\n  v[b + 1] = (xor0 >>> 31) ^ (xor1 << 1)\n}\n\n// Initialization Vector\nvar BLAKE2B_IV32 = new Uint32Array([\n  0xF3BCC908, 0x6A09E667, 0x84CAA73B, 0xBB67AE85,\n  0xFE94F82B, 0x3C6EF372, 0x5F1D36F1, 0xA54FF53A,\n  0xADE682D1, 0x510E527F, 0x2B3E6C1F, 0x9B05688C,\n  0xFB41BD6B, 0x1F83D9AB, 0x137E2179, 0x5BE0CD19\n])\n\nvar SIGMA8 = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3,\n  11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1, 9, 4,\n  7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8,\n  9, 0, 5, 7, 2, 4, 10, 15, 14, 1, 11, 12, 6, 8, 3, 13,\n  2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5, 15, 14, 1, 9,\n  12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11,\n  13, 11, 7, 14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10,\n  6, 15, 14, 9, 11, 3, 0, 8, 12, 2, 13, 7, 1, 4, 10, 5,\n  10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0,\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3\n]\n\n// These are offsets into a uint64 buffer.\n// Multiply them all by 2 to make them offsets into a uint32 buffer,\n// because this is Javascript and we don't have uint64s\nvar SIGMA82 = new Uint8Array(SIGMA8.map(function (x) { return x * 2 }))\n\n// Compression function. 'last' flag indicates last block.\n// Note we're representing 16 uint64s as 32 uint32s\nvar v = new Uint32Array(32)\nvar m = new Uint32Array(32)\nfunction blake2bCompress (ctx, last) {\n  var i = 0\n\n  // init work variables\n  for (i = 0; i < 16; i++) {\n    v[i] = ctx.h[i]\n    v[i + 16] = BLAKE2B_IV32[i]\n  }\n\n  // low 64 bits of offset\n  v[24] = v[24] ^ ctx.t\n  v[25] = v[25] ^ (ctx.t / 0x100000000)\n  // high 64 bits not supported, offset may not be higher than 2**53-1\n\n  // last block flag set ?\n  if (last) {\n    v[28] = ~v[28]\n    v[29] = ~v[29]\n  }\n\n  // get little-endian words\n  for (i = 0; i < 32; i++) {\n    m[i] = B2B_GET32(ctx.b, 4 * i)\n  }\n\n  // twelve rounds of mixing\n  for (i = 0; i < 12; i++) {\n    B2B_G(0, 8, 16, 24, SIGMA82[i * 16 + 0], SIGMA82[i * 16 + 1])\n    B2B_G(2, 10, 18, 26, SIGMA82[i * 16 + 2], SIGMA82[i * 16 + 3])\n    B2B_G(4, 12, 20, 28, SIGMA82[i * 16 + 4], SIGMA82[i * 16 + 5])\n    B2B_G(6, 14, 22, 30, SIGMA82[i * 16 + 6], SIGMA82[i * 16 + 7])\n    B2B_G(0, 10, 20, 30, SIGMA82[i * 16 + 8], SIGMA82[i * 16 + 9])\n    B2B_G(2, 12, 22, 24, SIGMA82[i * 16 + 10], SIGMA82[i * 16 + 11])\n    B2B_G(4, 14, 16, 26, SIGMA82[i * 16 + 12], SIGMA82[i * 16 + 13])\n    B2B_G(6, 8, 18, 28, SIGMA82[i * 16 + 14], SIGMA82[i * 16 + 15])\n  }\n\n  for (i = 0; i < 16; i++) {\n    ctx.h[i] = ctx.h[i] ^ v[i] ^ v[i + 16]\n  }\n}\n\n// reusable parameter_block\nvar parameter_block = new Uint8Array([\n  0, 0, 0, 0,      //  0: outlen, keylen, fanout, depth\n  0, 0, 0, 0,      //  4: leaf length, sequential mode\n  0, 0, 0, 0,      //  8: node offset\n  0, 0, 0, 0,      // 12: node offset\n  0, 0, 0, 0,      // 16: node depth, inner length, rfu\n  0, 0, 0, 0,      // 20: rfu\n  0, 0, 0, 0,      // 24: rfu\n  0, 0, 0, 0,      // 28: rfu\n  0, 0, 0, 0,      // 32: salt\n  0, 0, 0, 0,      // 36: salt\n  0, 0, 0, 0,      // 40: salt\n  0, 0, 0, 0,      // 44: salt\n  0, 0, 0, 0,      // 48: personal\n  0, 0, 0, 0,      // 52: personal\n  0, 0, 0, 0,      // 56: personal\n  0, 0, 0, 0       // 60: personal\n])\n\n// Creates a BLAKE2b hashing context\n// Requires an output length between 1 and 64 bytes\n// Takes an optional Uint8Array key\nfunction Blake2b (outlen, key, salt, personal) {\n  // zero out parameter_block before usage\n  parameter_block.fill(0)\n  // state, 'param block'\n\n  this.b = new Uint8Array(128)\n  this.h = new Uint32Array(16)\n  this.t = 0 // input count\n  this.c = 0 // pointer within buffer\n  this.outlen = outlen // output length in bytes\n\n  parameter_block[0] = outlen\n  if (key) parameter_block[1] = key.length\n  parameter_block[2] = 1 // fanout\n  parameter_block[3] = 1 // depth\n\n  if (salt) parameter_block.set(salt, 32)\n  if (personal) parameter_block.set(personal, 48)\n\n  // initialize hash state\n  for (var i = 0; i < 16; i++) {\n    this.h[i] = BLAKE2B_IV32[i] ^ B2B_GET32(parameter_block, i * 4)\n  }\n\n  // key the hash, if applicable\n  if (key) {\n    blake2bUpdate(this, key)\n    // at the end\n    this.c = 128\n  }\n}\n\nBlake2b.prototype.update = function (input) {\n  assert(input != null, 'input must be Uint8Array or Buffer')\n  blake2bUpdate(this, input)\n  return this\n}\n\nBlake2b.prototype.digest = function (out) {\n  var buf = (!out || out === 'binary' || out === 'hex') ? new Uint8Array(this.outlen) : out\n  assert(buf.length >= this.outlen, 'out must have at least outlen bytes of space')\n  blake2bFinal(this, buf)\n  if (out === 'hex') return hexSlice(buf)\n  return buf\n}\n\nBlake2b.prototype.final = Blake2b.prototype.digest\n\nBlake2b.ready = function (cb) {\n  b2wasm.ready(function () {\n    cb() // ignore the error\n  })\n}\n\n// Updates a BLAKE2b streaming hash\n// Requires hash context and Uint8Array (byte array)\nfunction blake2bUpdate (ctx, input) {\n  for (var i = 0; i < input.length; i++) {\n    if (ctx.c === 128) { // buffer full ?\n      ctx.t += ctx.c // add counters\n      blake2bCompress(ctx, false) // compress (not last)\n      ctx.c = 0 // counter to zero\n    }\n    ctx.b[ctx.c++] = input[i]\n  }\n}\n\n// Completes a BLAKE2b streaming hash\n// Returns a Uint8Array containing the message digest\nfunction blake2bFinal (ctx, out) {\n  ctx.t += ctx.c // mark last block offset\n\n  while (ctx.c < 128) { // fill up with zeros\n    ctx.b[ctx.c++] = 0\n  }\n  blake2bCompress(ctx, true) // final block flag = 1\n\n  for (var i = 0; i < ctx.outlen; i++) {\n    out[i] = ctx.h[i >> 2] >> (8 * (i & 3))\n  }\n  return out\n}\n\nfunction hexSlice (buf) {\n  var str = ''\n  for (var i = 0; i < buf.length; i++) str += toHex(buf[i])\n  return str\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nvar Proto = Blake2b\n\nmodule.exports = function createHash (outlen, key, salt, personal, noAssert) {\n  if (noAssert !== true) {\n    assert(outlen >= BYTES_MIN, 'outlen must be at least ' + BYTES_MIN + ', was given ' + outlen)\n    assert(outlen <= BYTES_MAX, 'outlen must be at most ' + BYTES_MAX + ', was given ' + outlen)\n    if (key != null) assert(key.length >= KEYBYTES_MIN, 'key must be at least ' + KEYBYTES_MIN + ', was given ' + key.length)\n    if (key != null) assert(key.length <= KEYBYTES_MAX, 'key must be at most ' + KEYBYTES_MAX + ', was given ' + key.length)\n    if (salt != null) assert(salt.length === SALTBYTES, 'salt must be exactly ' + SALTBYTES + ', was given ' + salt.length)\n    if (personal != null) assert(personal.length === PERSONALBYTES, 'personal must be exactly ' + PERSONALBYTES + ', was given ' + personal.length)\n  }\n\n  return new Proto(outlen, key, salt, personal)\n}\n\nmodule.exports.ready = function (cb) {\n  b2wasm.ready(function () { // ignore errors\n    cb()\n  })\n}\n\nmodule.exports.WASM_SUPPORTED = b2wasm.SUPPORTED\nmodule.exports.WASM_LOADED = false\n\nvar BYTES_MIN = module.exports.BYTES_MIN = 16\nvar BYTES_MAX = module.exports.BYTES_MAX = 64\nvar BYTES = module.exports.BYTES = 32\nvar KEYBYTES_MIN = module.exports.KEYBYTES_MIN = 16\nvar KEYBYTES_MAX = module.exports.KEYBYTES_MAX = 64\nvar KEYBYTES = module.exports.KEYBYTES = 32\nvar SALTBYTES = module.exports.SALTBYTES = 16\nvar PERSONALBYTES = module.exports.PERSONALBYTES = 16\n\nb2wasm.ready(function (err) {\n  if (!err) {\n    module.exports.WASM_LOADED = true\n    Proto = b2wasm\n  }\n})\n","// buffer-equals, but handle 'null' buffer parameters.\nmodule.exports = function safeBufferEquals (a, b) {\n  if (!a) return !b\n  if (!b) return !a\n  return Buffer.compare(a, b) === 0\n}\n","var stream = require('readable-stream')\nvar inherits = require('inherits')\nvar varint = require('varint')\nvar sodium = require('sodium-universal')\nvar indexOf = require('sorted-indexof')\nvar feed = require('./feed')\nvar messages = require('./messages')\nvar bufferAlloc = require('buffer-alloc-unsafe')\nvar bufferFrom = require('buffer-from')\n\nmodule.exports = Protocol\n\nfunction Protocol (opts) {\n  if (!(this instanceof Protocol)) return new Protocol(opts)\n  if (!opts) opts = {}\n\n  stream.Duplex.call(this)\n  var self = this\n\n  this.id = opts.id || randomBytes(32)\n  this.live = !!opts.live\n  this.ack = !!opts.ack\n  this.userData = opts.userData || null\n  this.remoteId = null\n  this.remoteLive = false\n  this.remoteUserData = null\n\n  this.destroyed = false\n  this.encrypted = opts.encrypt !== false\n  this.key = null\n  this.discoveryKey = null\n  this.remoteDiscoveryKey = null\n  this.feeds = []\n  this.expectedFeeds = opts.expectedFeeds || 0\n  this.extensions = opts.extensions || []\n  this.remoteExtensions = null\n  this.maxFeeds = opts.maxFeeds || 256\n\n  this._localFeeds = []\n  this._remoteFeeds = []\n  this._feeds = {}\n\n  this._nonce = null\n  this._remoteNonce = null\n  this._xor = null\n  this._remoteXor = null\n  this._needsKey = false\n  this._length = bufferAlloc(varint.encodingLength(8388608))\n  this._missing = 0\n  this._buf = null\n  this._pointer = 0\n  this._data = null\n  this._start = 0\n  this._cb = null\n  this._interval = null\n  this._keepAlive = 0\n  this._remoteKeepAlive = 0\n  this._maybeFinalize = maybeFinalize\n  this._utp = null\n\n  if (opts.timeout !== 0 && opts.timeout !== false) this.setTimeout(opts.timeout || 5000, this._ontimeout)\n  this.on('finish', this.finalize)\n  this.on('pipe', this._onpipe)\n\n  function maybeFinalize (err) {\n    if (err) return self.destroy(err)\n    if (!self.expectedFeeds) self.finalize()\n  }\n}\n\ninherits(Protocol, stream.Duplex)\n\nProtocol.prototype._onpipe = function (stream) {\n  if (typeof stream.setContentSize === 'function') this._utp = stream\n}\n\nProtocol.prototype._prefinalize = function () {\n  if (!this.emit('prefinalize', this._maybeFinalize)) this.finalize()\n}\n\nProtocol.prototype.setTimeout = function (ms, ontimeout) {\n  if (this.destroyed) return\n  if (ontimeout) this.once('timeout', ontimeout)\n\n  var self = this\n\n  this._keepAlive = 0\n  this._remoteKeepAlive = 0\n\n  clearInterval(this._interval)\n  if (!ms) return\n\n  this._interval = setInterval(kick, (ms / 4) | 0)\n  if (this._interval.unref) this._interval.unref()\n\n  function kick () {\n    self._kick()\n  }\n}\n\nProtocol.prototype.has = function (key) {\n  var hex = discoveryKey(key).toString('hex')\n  var ch = this._feeds[hex]\n  return !!ch\n}\n\nProtocol.prototype.feed = function (key, opts) {\n  if (this.destroyed) return null\n  if (!opts) opts = {}\n\n  var dk = opts.discoveryKey || discoveryKey(key)\n  var ch = this._feed(dk)\n\n  if (ch.id > -1) {\n    if (opts.peer) ch.peer = opts.peer\n    return ch\n  }\n\n  if (this._localFeeds.length >= this.maxFeeds) {\n    this._tooManyFeeds()\n    return null\n  }\n\n  ch.id = this._localFeeds.push(ch) - 1\n  ch.header = ch.id << 4\n  ch.headerLength = varint.encodingLength(ch.header)\n  ch.key = key\n  ch.discoveryKey = dk\n  if (opts.peer) ch.peer = opts.peer\n\n  this.feeds.push(ch)\n\n  var first = !this.key\n  var feed = {\n    discoveryKey: dk,\n    nonce: null\n  }\n\n  if (first) {\n    this.key = key\n    this.discoveryKey = dk\n\n    if (!this._sameKey()) return null\n\n    if (this.encrypted) {\n      feed.nonce = this._nonce = randomBytes(24)\n      this._xor = sodium.crypto_stream_xor_instance(this._nonce, this.key)\n      if (this._remoteNonce) {\n        this._remoteXor = sodium.crypto_stream_xor_instance(this._remoteNonce, this.key)\n      }\n    }\n\n    if (this._needsKey) {\n      this._needsKey = false\n      this._resume()\n    }\n  }\n\n  var box = encodeFeed(feed, ch.id)\n  if (!feed.nonce && this.encrypted) this._xor.update(box, box)\n  this._keepAlive = 0\n  this.push(box)\n\n  if (this.destroyed) return null\n\n  if (first) {\n    ch.handshake({\n      id: this.id,\n      live: this.live,\n      userData: this.userData,\n      extensions: this.extensions,\n      ack: this.ack\n    })\n  }\n\n  if (ch._buffer.length) ch._resume()\n  else ch._buffer = null\n\n  return ch\n}\n\nProtocol.prototype._resume = function () {\n  var self = this\n  process.nextTick(resume)\n\n  function resume () {\n    if (!self._data) return\n\n    var data = self._data\n    var start = self._start\n    var cb = self._cb\n\n    self._data = null\n    self._start = 0\n    self._cb = null\n    self._parse(data, start, cb)\n  }\n}\n\nProtocol.prototype._kick = function () {\n  if (this._remoteKeepAlive > 4) {\n    clearInterval(this._interval)\n    this.emit('timeout')\n    return\n  }\n\n  for (var i = 0; i < this.feeds.length; i++) {\n    var ch = this.feeds[i]\n    if (ch.peer) ch.peer.ontick()\n    else ch.emit('tick')\n  }\n\n  this._remoteKeepAlive++\n\n  if (this._keepAlive > 2) {\n    this.ping()\n    this._keepAlive = 0\n  } else {\n    this._keepAlive++\n  }\n}\n\nProtocol.prototype.ping = function () {\n  if (!this.key) return true\n  var ping = bufferFrom([0])\n  if (this._xor) this._xor.update(ping, ping)\n  return this.push(ping)\n}\n\nProtocol.prototype.destroy = function (err) {\n  if (this.destroyed) return\n  this.destroyed = true\n  if (err) this.emit('error', err)\n  this._close()\n  this.emit('close')\n}\n\nProtocol.prototype.finalize = function () {\n  if (this.destroyed) return\n  this.destroyed = true\n  this._close()\n  this.push(null)\n}\n\nProtocol.prototype._close = function () {\n  clearInterval(this._interval)\n\n  var feeds = this.feeds\n  this.feeds = []\n  for (var i = 0; i < feeds.length; i++) feeds[i]._onclose()\n\n  if (this._xor) {\n    this._xor.final()\n    this._xor = null\n  }\n}\n\nProtocol.prototype._read = function () {\n  // do nothing, user back-pressures\n}\n\nProtocol.prototype._push = function (data) {\n  if (this.destroyed) return\n  this._keepAlive = 0\n  if (this._xor) this._xor.update(data, data)\n  return this.push(data)\n}\n\nProtocol.prototype._write = function (data, enc, cb) {\n  this._remoteKeepAlive = 0\n  this._parse(data, 0, cb)\n}\n\nProtocol.prototype._feed = function (dk) {\n  var hex = dk.toString('hex')\n  var ch = this._feeds[hex]\n  if (ch) return ch\n  ch = this._feeds[hex] = feed(this)\n  return ch\n}\n\nProtocol.prototype.remoteSupports = function (name) {\n  var i = this.extensions.indexOf(name)\n  return i > -1 && !!this.remoteExtensions && this.remoteExtensions.indexOf(i) > -1\n}\n\nProtocol.prototype._onhandshake = function (handshake) {\n  if (this.remoteId) return\n\n  this.remoteId = handshake.id || randomBytes(32)\n  this.remoteLive = handshake.live\n  this.remoteUserData = handshake.userData\n  this.remoteExtensions = indexOf(this.extensions, handshake.extensions)\n  this.remoteAck = handshake.ack\n\n  this.emit('handshake')\n}\n\nProtocol.prototype._onopen = function (id, data, start, end) {\n  var feed = decodeFeed(data, start, end)\n\n  if (!feed) return this._badFeed()\n\n  if (!this.remoteDiscoveryKey) {\n    this.remoteDiscoveryKey = feed.discoveryKey\n    if (!this._sameKey()) return\n\n    if (this.encrypted && !this._remoteNonce) {\n      if (!feed.nonce) {\n        this.destroy(new Error('Remote did not include a nonce'))\n        return\n      }\n      this._remoteNonce = feed.nonce\n    }\n\n    if (this.encrypted && this.key && !this._remoteXor) {\n      this._remoteXor = sodium.crypto_stream_xor_instance(this._remoteNonce, this.key)\n    }\n  }\n\n  this._remoteFeeds[id] = this._feed(feed.discoveryKey)\n  this._remoteFeeds[id].remoteId = id\n\n  this.emit('feed', feed.discoveryKey)\n}\n\nProtocol.prototype._onmessage = function (data, start, end) {\n  if (end - start < 2) return\n\n  var header = decodeHeader(data, start)\n  if (header === -1) return this.destroy(new Error('Remote sent invalid header'))\n\n  start += varint.decode.bytes\n\n  var id = header >> 4\n  var type = header & 15\n\n  if (id >= this.maxFeeds) return this._tooManyFeeds()\n  while (this._remoteFeeds.length < id) this._remoteFeeds.push(null)\n\n  var ch = this._remoteFeeds[id]\n\n  if (type === 0) {\n    if (ch) ch._onclose()\n    return this._onopen(id, data, start, end)\n  }\n\n  if (!ch) return this._badFeed()\n  if (type === 15) return ch._onextension(data, start, end)\n  ch._onmessage(type, data, start, end)\n}\n\nProtocol.prototype._parse = function (data, start, cb) {\n  var decrypted = !!this._remoteXor\n\n  if (start) {\n    data = data.slice(start)\n    start = 0\n  }\n\n  if (this._remoteXor) this._remoteXor.update(data, data)\n\n  while (start < data.length && !this.destroyed) {\n    if (this._missing) start = this._parseMessage(data, start)\n    else start = this._parseLength(data, start)\n\n    if (this._needsKey) {\n      this._data = data\n      this._start = start\n      this._cb = cb\n      return\n    }\n\n    if (!decrypted && this._remoteXor) {\n      return this._parse(data, start, cb)\n    }\n  }\n\n  cb()\n}\n\nProtocol.prototype._parseMessage = function (data, start) {\n  var end = start + this._missing\n\n  if (end <= data.length) {\n    var ret = end\n\n    if (this._buf) {\n      data.copy(this._buf, this._pointer, start)\n      data = this._buf\n      start = 0\n      end = data.length\n      this._buf = null\n    }\n\n    this._missing = 0\n    this._pointer = 0\n    if (this.encrypted && !this.key) this._needsKey = true\n    this._onmessage(data, start, end)\n\n    return ret\n  }\n\n  if (!this._buf) {\n    this._buf = bufferAlloc(this._missing)\n    this._pointer = 0\n  }\n\n  var rem = data.length - start\n\n  data.copy(this._buf, this._pointer, start)\n  this._pointer += rem\n  this._missing -= rem\n\n  return data.length\n}\n\nProtocol.prototype._parseLength = function (data, start) {\n  while (!this._missing && start < data.length) {\n    var byte = this._length[this._pointer++] = data[start++]\n\n    if (!(byte & 0x80)) {\n      this._missing = varint.decode(this._length)\n      this._pointer = 0\n      if (this._missing > 8388608) return this._tooBig(data.length)\n      if (this._utp) {\n        var reallyMissing = this._missing - (data.length - start)\n        if (reallyMissing > 0 && !this._needsKey) this._utp.setContentSize(reallyMissing)\n      }\n      return start\n    }\n\n    if (this._pointer >= this._length.length) return this._tooBig(data.length)\n  }\n\n  return start\n}\n\nProtocol.prototype._sameKey = function () {\n  if (!this.encrypted) return true\n  if (!this.discoveryKey || !this.remoteDiscoveryKey) return true\n  if (this.remoteDiscoveryKey.toString('hex') === this.discoveryKey.toString('hex')) return true\n  this.destroy(new Error('First shared hypercore must be the same'))\n  return false\n}\n\nProtocol.prototype._tooManyFeeds = function () {\n  this.destroy(new Error('Only ' + this.maxFeeds + ' feeds currently supported. Open a Github issue if you need more'))\n}\n\nProtocol.prototype._tooBig = function (len) {\n  this.destroy(new Error('Remote message is larger than 8MB (max allowed)'))\n  return len\n}\n\nProtocol.prototype._badFeed = function () {\n  this.destroy(new Error('Remote sent invalid feed message'))\n}\n\nProtocol.prototype._ontimeout = function () {\n  this.destroy(new Error('Remote timed out'))\n}\n\nfunction decodeHeader (data, start) {\n  try {\n    return varint.decode(data, start)\n  } catch (err) {\n    return -1\n  }\n}\n\nfunction decodeFeed (data, start, end) {\n  var feed = null\n\n  try {\n    feed = messages.Feed.decode(data, start, end)\n  } catch (err) {\n    return null\n  }\n\n  if (feed.discoveryKey.length !== 32) return null\n  if (feed.nonce && feed.nonce.length !== 24) return null\n\n  return feed\n}\n\nfunction encodeFeed (feed, id) {\n  var header = id << 4\n  var len = varint.encodingLength(header) + messages.Feed.encodingLength(feed)\n  var box = bufferAlloc(varint.encodingLength(len) + len)\n  var offset = 0\n\n  varint.encode(len, box, offset)\n  offset += varint.encode.bytes\n\n  varint.encode(header, box, offset)\n  offset += varint.encode.bytes\n\n  messages.Feed.encode(feed, box, offset)\n  return box\n}\n\nfunction discoveryKey (key) {\n  var buf = bufferAlloc(32)\n  sodium.crypto_generichash(buf, bufferFrom('hypercore'), key)\n  return buf\n}\n\nfunction randomBytes (n) {\n  var buf = bufferAlloc(n)\n  sodium.randombytes_buf(buf)\n  return buf\n}\n","// This file is auto generated by the protocol-buffers compiler\n\n/* eslint-disable quotes */\n/* eslint-disable indent */\n/* eslint-disable no-redeclare */\n/* eslint-disable camelcase */\n\n// Remember to `npm install --save protocol-buffers-encodings`\nvar encodings = require('protocol-buffers-encodings')\nvar varint = encodings.varint\nvar skip = encodings.skip\n\nvar Feed = exports.Feed = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Handshake = exports.Handshake = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Info = exports.Info = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Have = exports.Have = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Unhave = exports.Unhave = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Want = exports.Want = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Unwant = exports.Unwant = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Request = exports.Request = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Cancel = exports.Cancel = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Data = exports.Data = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\ndefineFeed()\ndefineHandshake()\ndefineInfo()\ndefineHave()\ndefineUnhave()\ndefineWant()\ndefineUnwant()\ndefineRequest()\ndefineCancel()\ndefineData()\n\nfunction defineFeed () {\n  var enc = [\n    encodings.bytes\n  ]\n\n  Feed.encodingLength = encodingLength\n  Feed.encode = encode\n  Feed.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.discoveryKey)) throw new Error(\"discoveryKey is required\")\n    var len = enc[0].encodingLength(obj.discoveryKey)\n    length += 1 + len\n    if (defined(obj.nonce)) {\n      var len = enc[0].encodingLength(obj.nonce)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.discoveryKey)) throw new Error(\"discoveryKey is required\")\n    buf[offset++] = 10\n    enc[0].encode(obj.discoveryKey, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.nonce)) {\n      buf[offset++] = 18\n      enc[0].encode(obj.nonce, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      discoveryKey: null,\n      nonce: null\n    }\n    var found0 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.discoveryKey = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.nonce = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineHandshake () {\n  var enc = [\n    encodings.bytes,\n    encodings.bool,\n    encodings.string\n  ]\n\n  Handshake.encodingLength = encodingLength\n  Handshake.encode = encode\n  Handshake.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (defined(obj.id)) {\n      var len = enc[0].encodingLength(obj.id)\n      length += 1 + len\n    }\n    if (defined(obj.live)) {\n      var len = enc[1].encodingLength(obj.live)\n      length += 1 + len\n    }\n    if (defined(obj.userData)) {\n      var len = enc[0].encodingLength(obj.userData)\n      length += 1 + len\n    }\n    if (defined(obj.extensions)) {\n      for (var i = 0; i < obj.extensions.length; i++) {\n        if (!defined(obj.extensions[i])) continue\n        var len = enc[2].encodingLength(obj.extensions[i])\n        length += 1 + len\n      }\n    }\n    if (defined(obj.ack)) {\n      var len = enc[1].encodingLength(obj.ack)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (defined(obj.id)) {\n      buf[offset++] = 10\n      enc[0].encode(obj.id, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    if (defined(obj.live)) {\n      buf[offset++] = 16\n      enc[1].encode(obj.live, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    if (defined(obj.userData)) {\n      buf[offset++] = 26\n      enc[0].encode(obj.userData, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    if (defined(obj.extensions)) {\n      for (var i = 0; i < obj.extensions.length; i++) {\n        if (!defined(obj.extensions[i])) continue\n        buf[offset++] = 34\n        enc[2].encode(obj.extensions[i], buf, offset)\n        offset += enc[2].encode.bytes\n      }\n    }\n    if (defined(obj.ack)) {\n      buf[offset++] = 40\n      enc[1].encode(obj.ack, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      id: null,\n      live: false,\n      userData: null,\n      extensions: [],\n      ack: false\n    }\n    while (true) {\n      if (end <= offset) {\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.id = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        case 2:\n        obj.live = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        case 3:\n        obj.userData = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        case 4:\n        obj.extensions.push(enc[2].decode(buf, offset))\n        offset += enc[2].decode.bytes\n        break\n        case 5:\n        obj.ack = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineInfo () {\n  var enc = [\n    encodings.bool\n  ]\n\n  Info.encodingLength = encodingLength\n  Info.encode = encode\n  Info.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (defined(obj.uploading)) {\n      var len = enc[0].encodingLength(obj.uploading)\n      length += 1 + len\n    }\n    if (defined(obj.downloading)) {\n      var len = enc[0].encodingLength(obj.downloading)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (defined(obj.uploading)) {\n      buf[offset++] = 8\n      enc[0].encode(obj.uploading, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    if (defined(obj.downloading)) {\n      buf[offset++] = 16\n      enc[0].encode(obj.downloading, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      uploading: false,\n      downloading: false\n    }\n    while (true) {\n      if (end <= offset) {\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.uploading = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        case 2:\n        obj.downloading = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineHave () {\n  var enc = [\n    encodings.varint,\n    encodings.bytes,\n    encodings.bool\n  ]\n\n  Have.encodingLength = encodingLength\n  Have.encode = encode\n  Have.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.start)) throw new Error(\"start is required\")\n    var len = enc[0].encodingLength(obj.start)\n    length += 1 + len\n    if (defined(obj.length)) {\n      var len = enc[0].encodingLength(obj.length)\n      length += 1 + len\n    }\n    if (defined(obj.bitfield)) {\n      var len = enc[1].encodingLength(obj.bitfield)\n      length += 1 + len\n    }\n    if (defined(obj.ack)) {\n      var len = enc[2].encodingLength(obj.ack)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.start)) throw new Error(\"start is required\")\n    buf[offset++] = 8\n    enc[0].encode(obj.start, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.length)) {\n      buf[offset++] = 16\n      enc[0].encode(obj.length, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    if (defined(obj.bitfield)) {\n      buf[offset++] = 26\n      enc[1].encode(obj.bitfield, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    if (defined(obj.ack)) {\n      buf[offset++] = 32\n      enc[2].encode(obj.ack, buf, offset)\n      offset += enc[2].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      start: 0,\n      length: 1,\n      bitfield: null,\n      ack: false\n    }\n    var found0 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.start = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.length = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        case 3:\n        obj.bitfield = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        case 4:\n        obj.ack = enc[2].decode(buf, offset)\n        offset += enc[2].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineUnhave () {\n  var enc = [\n    encodings.varint\n  ]\n\n  Unhave.encodingLength = encodingLength\n  Unhave.encode = encode\n  Unhave.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.start)) throw new Error(\"start is required\")\n    var len = enc[0].encodingLength(obj.start)\n    length += 1 + len\n    if (defined(obj.length)) {\n      var len = enc[0].encodingLength(obj.length)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.start)) throw new Error(\"start is required\")\n    buf[offset++] = 8\n    enc[0].encode(obj.start, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.length)) {\n      buf[offset++] = 16\n      enc[0].encode(obj.length, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      start: 0,\n      length: 1\n    }\n    var found0 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.start = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.length = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineWant () {\n  var enc = [\n    encodings.varint\n  ]\n\n  Want.encodingLength = encodingLength\n  Want.encode = encode\n  Want.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.start)) throw new Error(\"start is required\")\n    var len = enc[0].encodingLength(obj.start)\n    length += 1 + len\n    if (defined(obj.length)) {\n      var len = enc[0].encodingLength(obj.length)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.start)) throw new Error(\"start is required\")\n    buf[offset++] = 8\n    enc[0].encode(obj.start, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.length)) {\n      buf[offset++] = 16\n      enc[0].encode(obj.length, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      start: 0,\n      length: 0\n    }\n    var found0 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.start = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.length = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineUnwant () {\n  var enc = [\n    encodings.varint\n  ]\n\n  Unwant.encodingLength = encodingLength\n  Unwant.encode = encode\n  Unwant.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.start)) throw new Error(\"start is required\")\n    var len = enc[0].encodingLength(obj.start)\n    length += 1 + len\n    if (defined(obj.length)) {\n      var len = enc[0].encodingLength(obj.length)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.start)) throw new Error(\"start is required\")\n    buf[offset++] = 8\n    enc[0].encode(obj.start, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.length)) {\n      buf[offset++] = 16\n      enc[0].encode(obj.length, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      start: 0,\n      length: 0\n    }\n    var found0 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.start = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.length = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineRequest () {\n  var enc = [\n    encodings.varint,\n    encodings.bool\n  ]\n\n  Request.encodingLength = encodingLength\n  Request.encode = encode\n  Request.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.index)) throw new Error(\"index is required\")\n    var len = enc[0].encodingLength(obj.index)\n    length += 1 + len\n    if (defined(obj.bytes)) {\n      var len = enc[0].encodingLength(obj.bytes)\n      length += 1 + len\n    }\n    if (defined(obj.hash)) {\n      var len = enc[1].encodingLength(obj.hash)\n      length += 1 + len\n    }\n    if (defined(obj.nodes)) {\n      var len = enc[0].encodingLength(obj.nodes)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.index)) throw new Error(\"index is required\")\n    buf[offset++] = 8\n    enc[0].encode(obj.index, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.bytes)) {\n      buf[offset++] = 16\n      enc[0].encode(obj.bytes, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    if (defined(obj.hash)) {\n      buf[offset++] = 24\n      enc[1].encode(obj.hash, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    if (defined(obj.nodes)) {\n      buf[offset++] = 32\n      enc[0].encode(obj.nodes, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      index: 0,\n      bytes: 0,\n      hash: false,\n      nodes: 0\n    }\n    var found0 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.index = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.bytes = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        case 3:\n        obj.hash = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        case 4:\n        obj.nodes = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineCancel () {\n  var enc = [\n    encodings.varint,\n    encodings.bool\n  ]\n\n  Cancel.encodingLength = encodingLength\n  Cancel.encode = encode\n  Cancel.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.index)) throw new Error(\"index is required\")\n    var len = enc[0].encodingLength(obj.index)\n    length += 1 + len\n    if (defined(obj.bytes)) {\n      var len = enc[0].encodingLength(obj.bytes)\n      length += 1 + len\n    }\n    if (defined(obj.hash)) {\n      var len = enc[1].encodingLength(obj.hash)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.index)) throw new Error(\"index is required\")\n    buf[offset++] = 8\n    enc[0].encode(obj.index, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.bytes)) {\n      buf[offset++] = 16\n      enc[0].encode(obj.bytes, buf, offset)\n      offset += enc[0].encode.bytes\n    }\n    if (defined(obj.hash)) {\n      buf[offset++] = 24\n      enc[1].encode(obj.hash, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      index: 0,\n      bytes: 0,\n      hash: false\n    }\n    var found0 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.index = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.bytes = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        break\n        case 3:\n        obj.hash = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineData () {\n  var Node = Data.Node = {\n    buffer: true,\n    encodingLength: null,\n    encode: null,\n    decode: null\n  }\n\n  defineNode()\n\n  function defineNode () {\n    var enc = [\n      encodings.varint,\n      encodings.bytes\n    ]\n\n    Node.encodingLength = encodingLength\n    Node.encode = encode\n    Node.decode = decode\n\n    function encodingLength (obj) {\n      var length = 0\n      if (!defined(obj.index)) throw new Error(\"index is required\")\n      var len = enc[0].encodingLength(obj.index)\n      length += 1 + len\n      if (!defined(obj.hash)) throw new Error(\"hash is required\")\n      var len = enc[1].encodingLength(obj.hash)\n      length += 1 + len\n      if (!defined(obj.size)) throw new Error(\"size is required\")\n      var len = enc[0].encodingLength(obj.size)\n      length += 1 + len\n      return length\n    }\n\n    function encode (obj, buf, offset) {\n      if (!offset) offset = 0\n      if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n      var oldOffset = offset\n      if (!defined(obj.index)) throw new Error(\"index is required\")\n      buf[offset++] = 8\n      enc[0].encode(obj.index, buf, offset)\n      offset += enc[0].encode.bytes\n      if (!defined(obj.hash)) throw new Error(\"hash is required\")\n      buf[offset++] = 18\n      enc[1].encode(obj.hash, buf, offset)\n      offset += enc[1].encode.bytes\n      if (!defined(obj.size)) throw new Error(\"size is required\")\n      buf[offset++] = 24\n      enc[0].encode(obj.size, buf, offset)\n      offset += enc[0].encode.bytes\n      encode.bytes = offset - oldOffset\n      return buf\n    }\n\n    function decode (buf, offset, end) {\n      if (!offset) offset = 0\n      if (!end) end = buf.length\n      if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n      var oldOffset = offset\n      var obj = {\n        index: 0,\n        hash: null,\n        size: 0\n      }\n      var found0 = false\n      var found1 = false\n      var found2 = false\n      while (true) {\n        if (end <= offset) {\n          if (!found0 || !found1 || !found2) throw new Error(\"Decoded message is not valid\")\n          decode.bytes = offset - oldOffset\n          return obj\n        }\n        var prefix = varint.decode(buf, offset)\n        offset += varint.decode.bytes\n        var tag = prefix >> 3\n        switch (tag) {\n          case 1:\n          obj.index = enc[0].decode(buf, offset)\n          offset += enc[0].decode.bytes\n          found0 = true\n          break\n          case 2:\n          obj.hash = enc[1].decode(buf, offset)\n          offset += enc[1].decode.bytes\n          found1 = true\n          break\n          case 3:\n          obj.size = enc[0].decode(buf, offset)\n          offset += enc[0].decode.bytes\n          found2 = true\n          break\n          default:\n          offset = skip(prefix & 7, buf, offset)\n        }\n      }\n    }\n  }\n\n  var enc = [\n    encodings.varint,\n    encodings.bytes,\n    Node\n  ]\n\n  Data.encodingLength = encodingLength\n  Data.encode = encode\n  Data.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.index)) throw new Error(\"index is required\")\n    var len = enc[0].encodingLength(obj.index)\n    length += 1 + len\n    if (defined(obj.value)) {\n      var len = enc[1].encodingLength(obj.value)\n      length += 1 + len\n    }\n    if (defined(obj.nodes)) {\n      for (var i = 0; i < obj.nodes.length; i++) {\n        if (!defined(obj.nodes[i])) continue\n        var len = enc[2].encodingLength(obj.nodes[i])\n        length += varint.encodingLength(len)\n        length += 1 + len\n      }\n    }\n    if (defined(obj.signature)) {\n      var len = enc[1].encodingLength(obj.signature)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.index)) throw new Error(\"index is required\")\n    buf[offset++] = 8\n    enc[0].encode(obj.index, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.value)) {\n      buf[offset++] = 18\n      enc[1].encode(obj.value, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    if (defined(obj.nodes)) {\n      for (var i = 0; i < obj.nodes.length; i++) {\n        if (!defined(obj.nodes[i])) continue\n        buf[offset++] = 26\n        varint.encode(enc[2].encodingLength(obj.nodes[i]), buf, offset)\n        offset += varint.encode.bytes\n        enc[2].encode(obj.nodes[i], buf, offset)\n        offset += enc[2].encode.bytes\n      }\n    }\n    if (defined(obj.signature)) {\n      buf[offset++] = 34\n      enc[1].encode(obj.signature, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      index: 0,\n      value: null,\n      nodes: [],\n      signature: null\n    }\n    var found0 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.index = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.value = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        case 3:\n        var len = varint.decode(buf, offset)\n        offset += varint.decode.bytes\n        obj.nodes.push(enc[2].decode(buf, offset, offset + len))\n        offset += enc[2].decode.bytes\n        break\n        case 4:\n        obj.signature = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defined (val) {\n  return val !== null && val !== undefined && (typeof val !== 'number' || !isNaN(val))\n}\n","var varint = require('varint')\nvar svarint = require('signed-varint')\n\nexports.make = encoder\n\nexports.name = function (enc) {\n  var keys = Object.keys(exports)\n  for (var i = 0; i < keys.length; i++) {\n    if (exports[keys[i]] === enc) return keys[i]\n  }\n  return null\n}\n\nexports.skip = function (type, buffer, offset) {\n  switch (type) {\n    case 0:\n      varint.decode(buffer, offset)\n      return offset + varint.decode.bytes\n\n    case 1:\n      return offset + 8\n\n    case 2:\n      var len = varint.decode(buffer, offset)\n      return offset + varint.decode.bytes + len\n\n    case 3:\n    case 4:\n      throw new Error('Groups are not supported')\n\n    case 5:\n      return offset + 4\n  }\n\n  throw new Error('Unknown wire type: ' + type)\n}\n\nexports.bytes = encoder(2,\n  function encode (val, buffer, offset) {\n    var oldOffset = offset\n    var len = bufferLength(val)\n\n    varint.encode(len, buffer, offset)\n    offset += varint.encode.bytes\n\n    if (Buffer.isBuffer(val)) val.copy(buffer, offset)\n    else buffer.write(val, offset, len)\n    offset += len\n\n    encode.bytes = offset - oldOffset\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var oldOffset = offset\n\n    var len = varint.decode(buffer, offset)\n    offset += varint.decode.bytes\n\n    var val = buffer.slice(offset, offset + len)\n    offset += val.length\n\n    decode.bytes = offset - oldOffset\n    return val\n  },\n  function encodingLength (val) {\n    var len = bufferLength(val)\n    return varint.encodingLength(len) + len\n  }\n)\n\nexports.string = encoder(2,\n  function encode (val, buffer, offset) {\n    var oldOffset = offset\n    var len = Buffer.byteLength(val)\n\n    varint.encode(len, buffer, offset, 'utf-8')\n    offset += varint.encode.bytes\n\n    buffer.write(val, offset, len)\n    offset += len\n\n    encode.bytes = offset - oldOffset\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var oldOffset = offset\n\n    var len = varint.decode(buffer, offset)\n    offset += varint.decode.bytes\n\n    var val = buffer.toString('utf-8', offset, offset + len)\n    offset += len\n\n    decode.bytes = offset - oldOffset\n    return val\n  },\n  function encodingLength (val) {\n    var len = Buffer.byteLength(val)\n    return varint.encodingLength(len) + len\n  }\n)\n\nexports.bool = encoder(0,\n  function encode (val, buffer, offset) {\n    buffer[offset] = val ? 1 : 0\n    encode.bytes = 1\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var bool = buffer[offset] > 0\n    decode.bytes = 1\n    return bool\n  },\n  function encodingLength () {\n    return 1\n  }\n)\n\nexports.int32 = encoder(0,\n  function encode (val, buffer, offset) {\n    varint.encode(val < 0 ? val + 4294967296 : val, buffer, offset)\n    encode.bytes = varint.encode.bytes\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var val = varint.decode(buffer, offset)\n    decode.bytes = varint.decode.bytes\n    return val > 2147483647 ? val - 4294967296 : val\n  },\n  function encodingLength (val) {\n    return varint.encodingLength(val < 0 ? val + 4294967296 : val)\n  }\n)\n\nexports.int64 = encoder(0,\n  function encode (val, buffer, offset) {\n    if (val < 0) {\n      var last = offset + 9\n      varint.encode(val * -1, buffer, offset)\n      offset += varint.encode.bytes - 1\n      buffer[offset] = buffer[offset] | 0x80\n      while (offset < last - 1) {\n        offset++\n        buffer[offset] = 0xff\n      }\n      buffer[last] = 0x01\n      encode.bytes = 10\n    } else {\n      varint.encode(val, buffer, offset)\n      encode.bytes = varint.encode.bytes\n    }\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var val = varint.decode(buffer, offset)\n    if (val >= Math.pow(2, 63)) {\n      var limit = 9\n      while (buffer[offset + limit - 1] === 0xff) limit--\n      limit = limit || 9\n      var subset = Buffer.allocUnsafe(limit)\n      buffer.copy(subset, 0, offset, offset + limit)\n      subset[limit - 1] = subset[limit - 1] & 0x7f\n      val = -1 * varint.decode(subset, 0)\n      decode.bytes = 10\n    } else {\n      decode.bytes = varint.decode.bytes\n    }\n    return val\n  },\n  function encodingLength (val) {\n    return val < 0 ? 10 : varint.encodingLength(val)\n  }\n)\n\nexports.sint32 =\nexports.sint64 = encoder(0,\n  svarint.encode,\n  svarint.decode,\n  svarint.encodingLength\n)\n\nexports.uint32 =\nexports.uint64 =\nexports.enum =\nexports.varint = encoder(0,\n  varint.encode,\n  varint.decode,\n  varint.encodingLength\n)\n\n// we cannot represent these in javascript so we just use buffers\nexports.fixed64 =\nexports.sfixed64 = encoder(1,\n  function encode (val, buffer, offset) {\n    val.copy(buffer, offset)\n    encode.bytes = 8\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var val = buffer.slice(offset, offset + 8)\n    decode.bytes = 8\n    return val\n  },\n  function encodingLength () {\n    return 8\n  }\n)\n\nexports.double = encoder(1,\n  function encode (val, buffer, offset) {\n    buffer.writeDoubleLE(val, offset)\n    encode.bytes = 8\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var val = buffer.readDoubleLE(offset)\n    decode.bytes = 8\n    return val\n  },\n  function encodingLength () {\n    return 8\n  }\n)\n\nexports.fixed32 = encoder(5,\n  function encode (val, buffer, offset) {\n    buffer.writeUInt32LE(val, offset)\n    encode.bytes = 4\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var val = buffer.readUInt32LE(offset)\n    decode.bytes = 4\n    return val\n  },\n  function encodingLength () {\n    return 4\n  }\n)\n\nexports.sfixed32 = encoder(5,\n  function encode (val, buffer, offset) {\n    buffer.writeInt32LE(val, offset)\n    encode.bytes = 4\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var val = buffer.readInt32LE(offset)\n    decode.bytes = 4\n    return val\n  },\n  function encodingLength () {\n    return 4\n  }\n)\n\nexports.float = encoder(5,\n  function encode (val, buffer, offset) {\n    buffer.writeFloatLE(val, offset)\n    encode.bytes = 4\n    return buffer\n  },\n  function decode (buffer, offset) {\n    var val = buffer.readFloatLE(offset)\n    decode.bytes = 4\n    return val\n  },\n  function encodingLength () {\n    return 4\n  }\n)\n\nfunction encoder (type, encode, decode, encodingLength) {\n  encode.bytes = decode.bytes = 0\n\n  return {\n    type: type,\n    encode: encode,\n    decode: decode,\n    encodingLength: encodingLength\n  }\n}\n\nfunction bufferLength (val) {\n  return Buffer.isBuffer(val) ? val.length : Buffer.byteLength(val)\n}\n","var nanoiterator = require('nanoiterator')\nvar inherits = require('inherits')\nvar cmp = require('compare')\nvar hash = require('./hash')\nvar options = require('./options')\n\nvar SORT_GT = [3, 2, 1, 0]\nvar SORT_GTE = [3, 2, 1, 0, 4]\n\nmodule.exports = Iterator\n\nfunction Iterator (db, prefix, opts) {\n  if (!(this instanceof Iterator)) return new Iterator(db, prefix, opts)\n  if (!opts) opts = {}\n\n  nanoiterator.call(this)\n\n  this._db = db\n  this._stack = [{\n    path: prefix ? hash(prefix, false) : [],\n    node: null,\n    i: 0\n  }]\n\n  this._recursive = opts.recursive !== false\n  this._reverse = !!opts.reverse\n  this._order = {\n    gt: this._reverse ? SORT_GT.slice().reverse() : SORT_GT,\n    gte: this._reverse ? SORT_GTE.slice().reverse() : SORT_GTE\n  }\n\n  this._gt = !!opts.gt\n  this._start = this._stack[0].path.length\n  this._end = this._recursive ? Infinity : this._start + hash.LENGTH\n  this._map = options.map(opts, db)\n  this._reduce = options.reduce(opts, db)\n  this._collisions = []\n  this._deletes = !!(opts && opts.deletes)\n\n  this._prefix = prefix\n  this._pending = 0\n  this._error = null\n}\n\ninherits(Iterator, nanoiterator)\n\nIterator.prototype._pushPointer = function (ptr, i, cb) {\n  var self = this\n  var top = {path: null, node: null, i}\n\n  this._pending++\n  this._stack.push(top)\n  this._db._getPointer(ptr.feed, ptr.seq, false, done)\n\n  function done (err, node) {\n    if (err) self._error = err\n    else top.node = node\n    if (--self._pending) return\n    if (self._error) return cb(self._error)\n    self._next(cb)\n  }\n}\n\nIterator.prototype._pushNode = function (node, i) {\n  this._stack.push({\n    path: null,\n    node,\n    i\n  })\n}\n\nIterator.prototype._pushPrefix = function (path, i, val) {\n  this._stack.push({\n    path: (i < path.length ? path.slice(0, i) : path).concat(val),\n    node: null,\n    i\n  })\n}\n\n// fast case\nIterator.prototype._singleNode = function (top, cb) {\n  var node = top.node\n  var end = Math.min(this._end, node.trie.length)\n\n  for (var i = top.i; i < end; i++) {\n    var bucket = i < node.trie.length && node.trie[i]\n    if (!bucket) continue\n\n    var val = node.path[i]\n    var order = this._sortOrder(i)\n\n    for (var j = 0; j < order.length; j++) {\n      var sortValue = order[j]\n      var values = sortValue < bucket.length && bucket[sortValue]\n\n      if (sortValue === val) {\n        if (values) this._pushPrefix(node.path, i, sortValue)\n        else this._pushNode(node, i + 1)\n        continue\n      }\n\n      if (!values) continue\n      if (values.length > 1) this._pushPrefix(node.path, i, sortValue)\n      else this._pushPointer(values[0], i + 1, cb)\n    }\n\n    return this._pending === 0\n  }\n\n  if ((!this._deletes && node.deleted) || !isPrefix(node.key, this._prefix)) return true\n  cb(null, this._prereturn([node]))\n  return false\n}\n\n// slow case\nIterator.prototype._multiNode = function (path, nodes, cb) {\n  if (!nodes.length) return this._next(cb)\n  if (nodes.length === 1) {\n    this._pushNode(nodes[0], path.length)\n    return this._next(cb)\n  }\n\n  var ptr = path.length\n\n  if (ptr < this._end) {\n    var order = this._sortOrder(ptr)\n\n    for (var i = 0; i < order.length; i++) {\n      var sortValue = order[i]\n      if (!visitTrie(nodes, ptr, sortValue)) continue\n      this._pushPrefix(path, path.length, sortValue)\n    }\n  }\n\n  nodes = this._filterResult(nodes, ptr)\n  if (nodes && (this._deletes || !allDeletes(nodes))) return cb(null, this._prereturn(nodes))\n  this._next(cb)\n}\n\nIterator.prototype._filterResult = function (nodes, i) {\n  var result = null\n\n  nodes.sort(byKey, this._reverse)\n\n  for (var j = 0; j < nodes.length; j++) {\n    var node = nodes[j]\n    if (node.path.length !== i && i !== this._end) continue\n    if (!isPrefix(node.key, this._prefix)) continue\n\n    if (!result) result = []\n\n    if (result.length && result[0].key !== node.key) {\n      this._collisions.push(result)\n      result = []\n    }\n\n    result.push(node)\n  }\n\n  return result\n}\n\nIterator.prototype._next = function (cb) {\n  var nodes = drain(this._collisions)\n  if (nodes) return cb(null, this._prereturn(nodes))\n\n  var top = null\n\n  while (true) {\n    top = this._stack.pop()\n    if (!top) return cb(null, null)\n    if (!top.node) break\n    if (!this._singleNode(top, cb)) return\n  }\n\n  this._lookupPrefix(top.path, cb)\n}\n\nIterator.prototype._lookupPrefix = function (path, cb) {\n  var self = this\n\n  this._db.get('', {path, prefix: true, map: false, reduce: false}, done)\n\n  function done (err, nodes) {\n    if (err) return cb(err)\n    self._multiNode(path, nodes, cb)\n  }\n}\n\nIterator.prototype._prereturn = function (nodes) {\n  if (this._map) nodes = nodes.map(this._map)\n  if (this._reduce) return nodes.reduce(this._reduce)\n  return nodes\n}\n\nIterator.prototype._sortOrder = function (i) {\n  var gt = this._gt || !this._start\n  return gt && this._start === i ? this._order.gt : this._order.gte\n}\n\nfunction byKey (a, b, reverse) {\n  var k = cmp(b.key, a.key)\n  return (reverse ? -1 : 1) * (k || b.feed - a.feed)\n}\n\nfunction allDeletes (nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (!nodes[i].deleted) return false\n  }\n  return true\n}\n\nfunction visitTrie (nodes, ptr, val) {\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i]\n    var bucket = ptr < node.trie.length && node.trie[ptr]\n    if (bucket && bucket[val]) return true\n    if (node.path[ptr] === val) return true\n  }\n  return false\n}\n\nfunction drain (collisions) {\n  while (collisions.length) {\n    var collision = collisions.pop()\n    if (!this._deletes && allDeletes(collision)) continue\n    return collision\n  }\n\n  return null\n}\n\nfunction isPrefix (s, prefix) {\n  if (!prefix) return true\n  if (s.startsWith) return s.startsWith(prefix)\n  return s.slice(0, prefix.length) === prefix\n}\n","var hash = require('./hash')\nvar options = require('./options')\n\nmodule.exports = get\n\nfunction get (db, heads, key, opts, cb) {\n  if (typeof opts === 'function') return get(db, heads, key, null, opts)\n\n  var req = new GetRequest(db, key, opts)\n  req.start(heads, cb)\n}\n\nfunction GetRequest (db, key, opts) {\n  this.key = key\n  this.results = []\n  this._deletes = !!(opts && opts.deletes)\n  this._callback = noop\n  this._options = opts || null\n  this._prefixed = !!(opts && opts.prefix)\n  this._path = (opts && opts.path) || hash(key, !this._prefixed)\n  this._onlookup = (opts && opts.onlookup) || null\n  this._db = db\n  this._error = null\n  this._active = 0\n  this._workers = []\n}\n\nGetRequest.prototype._push = function (node) {\n  if (this._prefixed) {\n    this.results.push(node)\n  } else if (node.key === this.key) {\n    this.results.push(node)\n  }\n}\n\nGetRequest.prototype.start = function (heads, cb) {\n  if (cb) this._callback = cb\n  if (!heads.length) return process.nextTick(finalize, this)\n\n  if (this._onlookup) {\n    for (var i = 0; i < heads.length; i++) {\n      this._onlookup({feed: heads[i].feed, seq: heads[i].seq})\n    }\n  }\n\n  this._update(heads, null)\n}\n\nGetRequest.prototype._update = function (nodes, worker) {\n  if (worker) {\n    var r = this._workers.indexOf(worker)\n    if (r > -1) this._workers.splice(r, 1)\n  }\n\n  this._active += nodes.length\n\n  for (var i = 0; i < nodes.length; i++) {\n    var next = new Worker(nodes[i], worker ? worker.i + 1 : 0)\n    this._workers.push(next)\n    if (this._isHead(next.lock, next)) this._moveCloser(next)\n    else this._end(next, null, true)\n  }\n\n  if (worker) {\n    this._end(worker, null)\n  }\n}\n\nGetRequest.prototype._end = function (worker, err, removeWorker) {\n  if (removeWorker) {\n    var i = this._workers.indexOf(worker)\n    if (i > -1) this._workers.splice(i, 1)\n  }\n\n  if (err) this._error = err\n  if (--this._active) return\n  this._finalize()\n}\n\nGetRequest.prototype._finalize = function () {\n  var error = this._error\n  var cb = this._callback\n\n  this._error = this._callback = null\n\n  if (error) cb(error)\n  else cb(null, this._prereturn(this.results))\n}\n\nGetRequest.prototype._prereturn = function (results) {\n  if (!this._deletes && allDeletes(results) && !this._prefixed) results = []\n\n  var map = options.map(this._options, this._db)\n  var reduce = options.reduce(this._options, this._db)\n  if (map) results = results.map(map)\n  if (reduce) return results.length ? results.reduce(reduce) : null\n\n  return results\n}\n\nGetRequest.prototype._updatePointers = function (ptrs, worker) {\n  var self = this\n\n  if (this._onlookup) mapPointers(this._onlookup, ptrs)\n  this._db._getAllPointers(ptrs, false, onnodes)\n\n  function onnodes (err, nodes) {\n    if (err) return self._end(worker, err, false)\n    self._update(nodes, worker)\n  }\n}\n\nGetRequest.prototype._getAndMoveCloser = function (ptr, worker) {\n  var self = this\n\n  // TODO: make this optimisation *everywhere* (ie isHead(ptr) vs isHead(node))\n  // if (!self._isHead(ptr, worker)) return self._end(worker, null)\n  if (this._onlookup) this._onlookup(ptr)\n  this._db._getPointer(ptr.feed, ptr.seq, false, onnode)\n\n  function onnode (err, node) {\n    if (err) return self._end(worker, err, false)\n\n    if (!self._isHead(node, worker)) return self._end(worker, null, true)\n\n    worker.head = node\n    worker.i++\n    self._moveCloser(worker)\n  }\n}\n\nGetRequest.prototype._pushPointers = function (ptrs, worker) {\n  var self = this\n\n  if (this._onlookup) mapPointers(this._onlookup, ptrs)\n  this._db._getAllPointers(ptrs, false, onresults)\n\n  function onresults (err, nodes) {\n    if (err) return self._end(worker, err, false)\n\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i]\n      if (self._isHead(node, worker)) self._push(node)\n    }\n\n    self._end(worker, null, false)\n  }\n}\n\nGetRequest.prototype._moveCloser = function (worker) {\n  var path = this._path\n  var head = worker.head\n\n  // If no head -> 404\n  if (!head) return this._end(worker, null, false)\n\n  // We want to find the key closest to our path.\n  // At max, we need to go through path.length iterations\n  for (; worker.i < path.length; worker.i++) {\n    var i = worker.i\n    var val = path[i]\n    if (head.path[i] === val) continue\n\n    // We need a closer node. See if the trie has one that\n    // matches the path value\n    var remoteBucket = head.trie[i] || []\n    var remoteValues = remoteBucket[val] || []\n\n    // No closer ones -> 404\n    if (!remoteValues.length) return this._end(worker, null, false)\n\n    // More than one reference -> We have forks.\n    if (remoteValues.length > 1) this._updatePointers(remoteValues, worker)\n    else this._getAndMoveCloser(remoteValues[0], worker)\n    return\n  }\n\n  this._push(head)\n\n  // TODO: not sure if this is even needed!\n  // check if we had a collision, or similar\n  // (our last bucket contains more stuff)\n\n  var top = path.length - 1\n  var last = head.trie[top]\n  var lastValues = last && last[path[top]]\n  if (!lastValues || !lastValues.length) return this._end(worker, null, false)\n\n  this._pushPointers(lastValues, worker)\n}\n\nGetRequest.prototype._isHead = function (head, worker) {\n  var clock = head.seq + 1\n\n  for (var i = 0; i < this._workers.length; i++) {\n    var otherWorker = this._workers[i]\n    if (otherWorker === worker) continue\n\n    var otherClock = otherWorker.lock.clock[head.feed]\n    if (clock <= otherClock) return false\n  }\n\n  return true\n}\n\nfunction Worker (head, i) {\n  this.i = i\n  this.head = head\n  this.lock = head\n}\n\nfunction noop () {}\n\nfunction allDeletes (list) {\n  for (var i = 0; i < list.length; i++) {\n    if (!list[i].deleted) return false\n  }\n  return true\n}\n\nfunction finalize (req) {\n  req._finalize()\n}\n\nfunction mapPointers (fn, ptrs) {\n  for (var i = 0; i < ptrs.length; i++) fn(ptrs[i])\n}\n","module.exports = function normalizeKey (key) {\n  if (!key.length) return ''\n  return key[0] === '/' ? key.slice(1) : key\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// Symbols is a better way to do this, but not all browsers have good support,\n// so instead we'll just make do with a very unlikely string.\nvar customArgumentsToken = \"__ES6-PROMISIFY--CUSTOM-ARGUMENTS__\";\n\n/**\n * promisify()\n * Transforms callback-based function -- func(arg1, arg2 .. argN, callback) -- into\n * an ES6-compatible Promise. Promisify provides a default callback of the form (error, result)\n * and rejects when `error` is truthy.\n *\n * @param {function} original - The function to promisify\n * @return {function} A promisified version of `original`\n */\nfunction promisify(original) {\n\n    // Ensure the argument is a function\n    if (typeof original !== \"function\") {\n        throw new TypeError(\"Argument to promisify must be a function\");\n    }\n\n    // If the user has asked us to decode argument names for them, honour that\n    var argumentNames = original[customArgumentsToken];\n\n    // If the user has supplied a custom Promise implementation, use it. Otherwise\n    // fall back to whatever we can find on the global object.\n    var ES6Promise = promisify.Promise || Promise;\n\n    // If we can find no Promise implemention, then fail now.\n    if (typeof ES6Promise !== \"function\") {\n        throw new Error(\"No Promise implementation found; do you need a polyfill?\");\n    }\n\n    return function () {\n        var _this = this;\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return new ES6Promise(function (resolve, reject) {\n\n            // Append the callback bound to the context\n            args.push(function callback(err) {\n\n                if (err) {\n                    return reject(err);\n                }\n\n                for (var _len2 = arguments.length, values = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                    values[_key2 - 1] = arguments[_key2];\n                }\n\n                if (values.length === 1 || !argumentNames) {\n                    return resolve(values[0]);\n                }\n\n                var o = {};\n                values.forEach(function (value, index) {\n                    var name = argumentNames[index];\n                    if (name) {\n                        o[name] = value;\n                    }\n                });\n\n                resolve(o);\n            });\n\n            // Call the function.\n            original.call.apply(original, [_this].concat(args));\n        });\n    };\n}\n\n// Attach this symbol to the exported function, so users can use it\npromisify.argumentNames = customArgumentsToken;\npromisify.Promise = undefined;\n\n// Export the public API\nexports.promisify = promisify;","const signalhub = require('signalhub')\nconst generateId = require('./utils').generateId\nconst crypto = require('masq-common').crypto\n\nconst HUB_URLS = [ 'localhost:8080' ]\nconst WALLET_URL = 'http://localhost:3000'\n\n\n// Initialize the signalhub connection\nconst initHub = (channel, hubUrls) => {\n  const hub = signalhub(channel, hubUrls)\n  // catch errors\n  hub.on('error', ({ url, error }) => {\n    throw(new Error('Websocket connection error', url, error))\n  })\n  return hub\n}\n\nclass DIDclient {\n    constructor (appName, appDescription, appImageURL, appURL, options = {}) {\n      this.appName = appName\n      this.appDescription = appDescription\n      this.appImageURL = appImageURL\n      this.appURL = appURL\n      // prepare hub\n      this.hub = undefined\n      \n      // init config\n      this.config = {\n        hubUrls: options.hubUrls ? options.hubUrls : HUB_URLS,\n        walletBaseUrl: options.walletBaseUrl ? options.walletBaseUrl : WALLET_URL\n      }\n    }\n\n    // Initialize the signalhub connection\n    // initHub (channel) {\n    //   const hub = signalhub(channel, this.config.hubUrls)\n    //   // catch errors\n    //   hub.on('error', ({ url, error }) => {\n    //     throw(new Error('Websocket connection error', url, error))\n    //   })\n    //   return hub\n    // }\n\n    // Generate a special link to request access to the user's DID\n    async genLoginLink () {\n      // generate a one time channel ID\n      this.loginChannel = generateId()\n      // generate a one time symmetric encryption key and reveal it to AKASHA.id\n      this.bootstrapKey = await crypto.genAESKey(true, 'AES-GCM', 128)\n      const extractedKey = await crypto.exportKey(this.bootstrapKey)\n      const b64Key = Buffer.from(extractedKey).toString('base64')\n      // use the wallet app URL for the link\n      const loginUrl = new URL(this.config.walletBaseUrl)\n      const hashParams = JSON.stringify([this.appName, this.loginChannel, b64Key])\n      console.log(hashParams)\n      loginUrl.hash = '/link/' + Buffer.from(hashParams).toString('base64')\n  \n      this.loginLink = loginUrl.href\n      return this.loginLink\n    }\n\n    /*  Bootstrap the login process.\n     *  @param {function} success Function to call when the process succeeds\n     *  @param {function} fail Function to call when the process fails\n     */\n    async bootstrapNewLogin (success, fail) {\n      if (!this.loginLink) {\n        await this.genLoginLink()\n      }\n\n      try {\n        const hub = initHub(this.loginChannel, this.config.hubUrls)\n        hub.subscribe(this.loginChannel).on('data', async (data) => {\n          const msg = await crypto.decrypt(this.bootstrapKey, JSON.parse(data), 'base64')\n          switch (msg.status) {\n            case 'allowed':\n              success(msg)\n              break\n            case 'denied':\n              fail(msg)\n              break\n            default:\n              throw new Error(`Unexpectedly received message with status ${msg.status}`)\n          }\n        })\n      } catch (e) {\n        console.error(e)\n      }\n    }\n\n    async acceptedLogin (claim) {\n      // TODO verify claim\n      console.log('Login accepted', claim)\n      this.claim = claim\n    }\n\n    async rejectedLogin () {\n      console.log('Login rejected')\n    }\n}\n\nclass DIDwallet {\n  constructor (hubUrls) {\n    // init config\n    this.config = {\n      hubUrls: hubUrls ? hubUrls : HUB_URLS\n    }\n    this.did = `did:akasha:${generateId()}`\n  }\n\n  // Parse a base64 encoded login link\n  parseLoginLink (hash) {\n    const decoded = Buffer.from(hash, 'base64')\n\n    try {\n      return JSON.parse(decoded) // eslint-disable-line\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  async respondToLogin (rawKey, channel, claim, status) {\n    // init Websocket hub connection\n    const hub = initHub(channel, this.config.hubUrls)\n    // encrypt payload\n    const key = await crypto.importKey(Buffer.from(rawKey, 'base64'))\n    const encryptedMsg = await crypto.encrypt(key, {status, claim}, 'base64')\n\n    hub.broadcast(channel, JSON.stringify(encryptedMsg))\n    hub.close()\n  }\n}\n\nmodule.exports = {\n  DIDclient,\n  DIDwallet,\n  generateId\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var events = require('events')\nvar ess = require('event-source-stream')\nvar nets = require('nets')\nvar pump = require('pump')\nvar through = require('through2')\nvar inherits = require('inherits')\n\nmodule.exports = SignalHub\n\nfunction SignalHub (app, urls) {\n  if (!(this instanceof SignalHub)) return new SignalHub(app, urls)\n  if (!app) throw new Error('app name required')\n  if (!urls || !urls.length) throw new Error('signalhub url(s) required')\n\n  events.EventEmitter.call(this)\n  this.setMaxListeners(0)\n\n  this.app = app\n  if (!Array.isArray(urls)) urls = [urls]\n  this.urls = urls.map(function (url) {\n    url = url.replace(/\\/$/, '')\n    return url.indexOf('://') === -1 ? 'http://' + url : url\n  })\n  this.subscribers = []\n  this.closed = false\n}\n\ninherits(SignalHub, events.EventEmitter)\n\nSignalHub.prototype.subscribe = function (channel) {\n  if (this.closed) throw new Error('Cannot subscribe after close')\n\n  var self = this\n  var endpoint = Array.isArray(channel) ? channel.join(',') : channel\n  var streams = this.urls.map(function (url) {\n    return ess(url + '/v1/' + self.app + '/' + endpoint, {json: true})\n  })\n\n  var subscriber\n  if (streams.length === 1) {\n    subscriber = streams[0]\n  } else {\n    subscriber = through.obj()\n    subscriber.setMaxListeners(0)\n    streams.forEach(function (stream) {\n      stream.on('open', function () {\n        subscriber.emit('open')\n      })\n      pump(stream, subscriber)\n    })\n  }\n\n  this.subscribers.push(subscriber)\n\n  subscriber.once('close', function () {\n    var i = self.subscribers.indexOf(subscriber)\n    if (i > -1) self.subscribers.splice(i, 1)\n  })\n\n  return subscriber\n}\n\nSignalHub.prototype.broadcast = function (channel, message, cb) {\n  if (this.closed) throw new Error('Cannot broadcast after close')\n  if (!message) message = {}\n  if (!cb) cb = noop\n\n  var pending = this.urls.length\n  var errors = 0\n\n  var self = this\n  this.urls.forEach(function (url) {\n    broadcast(self.app, url, channel, message, function (err) {\n      if (err) errors++\n      if (--pending) return\n      if (errors === self.urls.length) return cb(err)\n      cb()\n    })\n  })\n}\n\nSignalHub.prototype.close = function (cb) {\n  if (this.closed) return\n  this.closed = true\n\n  if (cb) this.once('close', cb)\n  var len = this.subscribers.length\n  if (len > 0) {\n    var self = this\n    var closed = 0\n    this.subscribers.forEach(function (subscriber) {\n      subscriber.once('close', function () {\n        if (++closed === len) {\n          self.emit('close')\n        }\n      })\n      process.nextTick(function () {\n        subscriber.destroy()\n      })\n    })\n  } else {\n    this.emit('close')\n  }\n}\n\nfunction broadcast (app, url, channel, message, cb) {\n  return nets({\n    method: 'POST',\n    json: message,\n    url: url + '/v1/' + app + '/' + channel\n  }, function (err, res) {\n    if (err) return cb(err)\n    if (res.statusCode !== 200) return cb(new Error('Bad status: ' + res.statusCode))\n    cb()\n  })\n}\n\nfunction noop () {}\n","var stream = require('readable-stream')\n\nmodule.exports = function(url, opts) {\n  if (!opts) opts = {}\n\n  var es = new EventSource(url)\n  var rs = new stream.Readable({objectMode:true})\n\n  var json = !!opts.json\n  var decode = function (data) {\n    try {\n      if (json) return JSON.parse(data)\n      return data\n    } catch (err) {\n      return undefined\n    }\n  }\n\n  rs._read = function() {}\n\n  es.onmessage = function(e) {\n    rs.push(decode(e.data))\n  }\n\n  es.onerror = function(err) {\n    if (rs.listeners('error').length) rs.emit('error', err)\n  }\n\n  es.onopen = function () {\n    rs.emit('open')\n  }\n\n  var destroyed = false\n  rs.destroy = function() {\n    if (destroyed) return\n    destroyed = true\n    es.close()\n    rs.emit('close')\n  }\n\n  return rs\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","var req = require('request')\n\nmodule.exports = Nets\n\nfunction Nets (opts, cb) {\n  if (typeof opts === 'string') opts = { uri: opts }\n\n  // in node, if encoding === null then response will be a Buffer. we want this to be the default\n  if (!opts.hasOwnProperty('encoding')) opts.encoding = null\n\n  // in browser, we should by default convert the arraybuffer into a Buffer\n  if (process.browser && !opts.hasOwnProperty('json') && opts.encoding === null) {\n    opts.responseType = 'arraybuffer'\n    var originalCb = cb\n    cb = bufferify\n  }\n\n  function bufferify (err, resp, body) {\n    if (body) body = new Buffer(new Uint8Array(body))\n    originalCb(err, resp, body)\n  }\n\n  return req(opts, cb)\n}\n","\"use strict\";\nvar window = require(\"global/window\")\nvar isFunction = require(\"is-function\")\nvar parseHeaders = require(\"parse-headers\")\nvar xtend = require(\"xtend\")\n\nmodule.exports = createXHR\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\ncreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback)\n        options.method = method.toUpperCase()\n        return _createXHR(options)\n    }\n})\n\nfunction forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n        iterator(array[i])\n    }\n}\n\nfunction isEmpty(obj){\n    for(var i in obj){\n        if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n}\n\nfunction initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n        callback = options\n        if (typeof uri === \"string\") {\n            params = {uri:uri}\n        }\n    } else {\n        params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n}\n\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n}\n\nfunction _createXHR(options) {\n    if(typeof options.callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n\n    var called = false\n    var callback = function cbOnce(err, response, body){\n        if(!called){\n            called = true\n            options.callback(err, response, body)\n        }\n    }\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0)\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else {\n            body = xhr.responseText || getXml(xhr)\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n        }\n        evt.statusCode = 0\n        return callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return\n        var status\n        clearTimeout(timeoutTimer)\n        if(options.useXDR && xhr.status===undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200\n        } else {\n            status = (xhr.status === 1223 ? 204 : xhr.status)\n        }\n        var response = failureResponse\n        var err = null\n\n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        return callback(err, response, response.body)\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest()\n        }else{\n            xhr = new createXHR.XMLHttpRequest()\n        }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    }\n\n    if (\"json\" in options && options.json !== false) {\n        isJson = true\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.onabort = function(){\n        aborted = true;\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            if (aborted) return\n            aborted = true//IE9 may still call readystatechange\n            xhr.abort(\"timeout\")\n            var e = new Error(\"XMLHttpRequest timeout\")\n            e.code = \"ETIMEDOUT\"\n            errorFunc(e)\n        }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null)\n\n    return xhr\n\n\n}\n\nfunction getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n        if (xhr.responseType === \"document\") {\n            return xhr.responseXML\n        }\n        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n            return xhr.responseXML\n        }\n    } catch (e) {}\n\n    return null\n}\n\nfunction noop() {}\n","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n","var trim = require('string.prototype.trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n","'use strict';\n\nvar bind = require('function-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar boundTrim = bind.call(Function.call, getPolyfill());\n\ndefine(boundTrim, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = boundTrim;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar $Object = GetIntrinsic('%Object%');\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $String = GetIntrinsic('%String%');\n\nvar assertRecord = require('./helpers/assertRecord');\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\n\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\n\nvar IsCallable = require('is-callable');\nvar toPrimitive = require('es-to-primitive/es5');\n\nvar has = require('has');\n\n// https://es5.github.io/#x9\nvar ES5 = {\n\tToPrimitive: toPrimitive,\n\n\tToBoolean: function ToBoolean(value) {\n\t\treturn !!value;\n\t},\n\tToNumber: function ToNumber(value) {\n\t\treturn +value; // eslint-disable-line no-implicit-coercion\n\t},\n\tToInteger: function ToInteger(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number)) { return 0; }\n\t\tif (number === 0 || !$isFinite(number)) { return number; }\n\t\treturn sign(number) * Math.floor(Math.abs(number));\n\t},\n\tToInt32: function ToInt32(x) {\n\t\treturn this.ToNumber(x) >> 0;\n\t},\n\tToUint32: function ToUint32(x) {\n\t\treturn this.ToNumber(x) >>> 0;\n\t},\n\tToUint16: function ToUint16(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x10000);\n\t},\n\tToString: function ToString(value) {\n\t\treturn $String(value);\n\t},\n\tToObject: function ToObject(value) {\n\t\tthis.CheckObjectCoercible(value);\n\t\treturn $Object(value);\n\t},\n\tCheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n\t\t/* jshint eqnull:true */\n\t\tif (value == null) {\n\t\t\tthrow new $TypeError(optMessage || 'Cannot call method on ' + value);\n\t\t}\n\t\treturn value;\n\t},\n\tIsCallable: IsCallable,\n\tSameValue: function SameValue(x, y) {\n\t\tif (x === y) { // 0 === -0, but they are not identical.\n\t\t\tif (x === 0) { return 1 / x === 1 / y; }\n\t\t\treturn true;\n\t\t}\n\t\treturn $isNaN(x) && $isNaN(y);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/5.1/#sec-8\n\tType: function Type(x) {\n\t\tif (x === null) {\n\t\t\treturn 'Null';\n\t\t}\n\t\tif (typeof x === 'undefined') {\n\t\t\treturn 'Undefined';\n\t\t}\n\t\tif (typeof x === 'function' || typeof x === 'object') {\n\t\t\treturn 'Object';\n\t\t}\n\t\tif (typeof x === 'number') {\n\t\t\treturn 'Number';\n\t\t}\n\t\tif (typeof x === 'boolean') {\n\t\t\treturn 'Boolean';\n\t\t}\n\t\tif (typeof x === 'string') {\n\t\t\treturn 'String';\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\tIsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n\t\tif (this.Type(Desc) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n\tIsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n\tIsDataDescriptor: function IsDataDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n\tIsGenericDescriptor: function IsGenericDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (this.IsDataDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tvalue: Desc['[[Value]]'],\n\t\t\t\twritable: !!Desc['[[Writable]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else if (this.IsAccessorDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tget: Desc['[[Get]]'],\n\t\t\t\tset: Desc['[[Set]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new $TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n\tToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n\t\tif (this.Type(Obj) !== 'Object') {\n\t\t\tthrow new $TypeError('ToPropertyDescriptor requires an object');\n\t\t}\n\n\t\tvar desc = {};\n\t\tif (has(Obj, 'enumerable')) {\n\t\t\tdesc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n\t\t}\n\t\tif (has(Obj, 'configurable')) {\n\t\t\tdesc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n\t\t}\n\t\tif (has(Obj, 'value')) {\n\t\t\tdesc['[[Value]]'] = Obj.value;\n\t\t}\n\t\tif (has(Obj, 'writable')) {\n\t\t\tdesc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n\t\t}\n\t\tif (has(Obj, 'get')) {\n\t\t\tvar getter = Obj.get;\n\t\t\tif (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n\t\t\t\tthrow new TypeError('getter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Get]]'] = getter;\n\t\t}\n\t\tif (has(Obj, 'set')) {\n\t\t\tvar setter = Obj.set;\n\t\t\tif (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n\t\t\t\tthrow new $TypeError('setter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Set]]'] = setter;\n\t\t}\n\n\t\tif ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n\t\t\tthrow new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n\t\t}\n\t\treturn desc;\n\t}\n};\n\nmodule.exports = ES5;\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\n\nvar has = require('has');\n\nvar predicates = {\n  // https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n  'Property Descriptor': function isPropertyDescriptor(ES, Desc) {\n    if (ES.Type(Desc) !== 'Object') {\n      return false;\n    }\n    var allowed = {\n      '[[Configurable]]': true,\n      '[[Enumerable]]': true,\n      '[[Get]]': true,\n      '[[Set]]': true,\n      '[[Value]]': true,\n      '[[Writable]]': true\n    };\n\n    for (var key in Desc) { // eslint-disable-line\n      if (has(Desc, key) && !allowed[key]) {\n        return false;\n      }\n    }\n\n    var isData = has(Desc, '[[Value]]');\n    var IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n    if (isData && IsAccessor) {\n      throw new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n    }\n    return true;\n  }\n};\n\nmodule.exports = function assertRecord(ES, recordType, argumentName, value) {\n  var predicate = predicates[recordType];\n  if (typeof predicate !== 'function') {\n    throw new $SyntaxError('unknown record type: ' + recordType);\n  }\n  if (!predicate(ES, value)) {\n    throw new $TypeError(argumentName + ' must be a ' + recordType);\n  }\n  console.log(predicate(ES, value), value);\n};\n","module.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","var $isNaN = Number.isNaN || function (a) { return a !== a; };\n\nmodule.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };\n","module.exports = function sign(number) {\n\treturn number >= 0 ? 1 : -1;\n};\n","module.exports = function mod(number, modulo) {\n\tvar remain = number % modulo;\n\treturn Math.floor(remain >= 0 ? remain : remain + modulo);\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isPrimitive = require('./helpers/isPrimitive');\n\nvar isCallable = require('is-callable');\n\n// http://ecma-international.org/ecma-262/5.1/#sec-8.12.8\nvar ES5internalSlots = {\n\t'[[DefaultValue]]': function (O) {\n\t\tvar actualHint;\n\t\tif (arguments.length > 1) {\n\t\t\tactualHint = arguments[1];\n\t\t} else {\n\t\t\tactualHint = toStr.call(O) === '[object Date]' ? String : Number;\n\t\t}\n\n\t\tif (actualHint === String || actualHint === Number) {\n\t\t\tvar methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\t\t\tvar value, i;\n\t\t\tfor (i = 0; i < methods.length; ++i) {\n\t\t\t\tif (isCallable(O[methods[i]])) {\n\t\t\t\t\tvalue = O[methods[i]]();\n\t\t\t\t\tif (isPrimitive(value)) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new TypeError('No default value');\n\t\t}\n\t\tthrow new TypeError('invalid [[DefaultValue]] hint supplied');\n\t}\n};\n\n// http://ecma-international.org/ecma-262/5.1/#sec-9.1\nmodule.exports = function ToPrimitive(input) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tif (arguments.length > 1) {\n\t\treturn ES5internalSlots['[[DefaultValue]]'](input, arguments[1]);\n\t}\n\treturn ES5internalSlots['[[DefaultValue]]'](input);\n};\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimStringTrim() {\n\tvar polyfill = getPolyfill();\n\tdefine(String.prototype, { trim: polyfill }, {\n\t\ttrim: function testTrim() {\n\t\t\treturn String.prototype.trim !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            if (receiver == null) {\n                iterator(array[i], i, array);\n            } else {\n                iterator.call(receiver, array[i], i, array);\n            }\n        }\n    }\n};\n\nvar forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        if (receiver == null) {\n            iterator(string.charAt(i), i, string);\n        } else {\n            iterator.call(receiver, string.charAt(i), i, string);\n        }\n    }\n};\n\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            if (receiver == null) {\n                iterator(object[k], k, object);\n            } else {\n                iterator.call(receiver, object[k], k, object);\n            }\n        }\n    }\n};\n\nvar forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n        throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n    if (arguments.length >= 3) {\n        receiver = thisArg;\n    }\n\n    if (toStr.call(list) === '[object Array]') {\n        forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n        forEachString(list, iterator, receiver);\n    } else {\n        forEachObject(list, iterator, receiver);\n    }\n};\n\nmodule.exports = forEach;\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var once = require('once')\nvar eos = require('end-of-stream')\nvar fs = require('fs') // we only need fs to get the ReadStream and WriteStream prototypes\n\nvar noop = function () {}\n\nvar isFn = function (fn) {\n  return typeof fn === 'function'\n}\n\nvar isFS = function (stream) {\n  if (!fs) return false // browser\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close)\n}\n\nvar isRequest = function (stream) {\n  return stream.setHeader && isFn(stream.abort)\n}\n\nvar destroyer = function (stream, reading, writing, callback) {\n  callback = once(callback)\n\n  var closed = false\n  stream.on('close', function () {\n    closed = true\n  })\n\n  eos(stream, {readable: reading, writable: writing}, function (err) {\n    if (err) return callback(err)\n    closed = true\n    callback()\n  })\n\n  var destroyed = false\n  return function (err) {\n    if (closed) return\n    if (destroyed) return\n    destroyed = true\n\n    if (isFS(stream)) return stream.close(noop) // use close for fs streams to avoid fd leaks\n    if (isRequest(stream)) return stream.abort() // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy()\n\n    callback(err || new Error('stream was destroyed'))\n  }\n}\n\nvar call = function (fn) {\n  fn()\n}\n\nvar pipe = function (from, to) {\n  return from.pipe(to)\n}\n\nvar pump = function () {\n  var streams = Array.prototype.slice.call(arguments)\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop\n\n  if (Array.isArray(streams[0])) streams = streams[0]\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum')\n\n  var error\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1\n    var writing = i > 0\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err\n      if (err) destroys.forEach(call)\n      if (reading) return\n      destroys.forEach(call)\n      callback(error)\n    })\n  })\n\n  return streams.reduce(pipe)\n}\n\nmodule.exports = pump\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tif (readable && !(rs && rs.ended)) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && ws.ended)) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n","var Transform = require('readable-stream/transform')\n  , inherits  = require('util').inherits\n  , xtend     = require('xtend')\n\nfunction DestroyableTransform(opts) {\n  Transform.call(this, opts)\n  this._destroyed = false\n}\n\ninherits(DestroyableTransform, Transform)\n\nDestroyableTransform.prototype.destroy = function(err) {\n  if (this._destroyed) return\n  this._destroyed = true\n  \n  var self = this\n  process.nextTick(function() {\n    if (err)\n      self.emit('error', err)\n    self.emit('close')\n  })\n}\n\n// a noop _transform function\nfunction noop (chunk, enc, callback) {\n  callback(null, chunk)\n}\n\n\n// create a new export function, used by both the main export and\n// the .ctor export, contains common logic for dealing with arguments\nfunction through2 (construct) {\n  return function (options, transform, flush) {\n    if (typeof options == 'function') {\n      flush     = transform\n      transform = options\n      options   = {}\n    }\n\n    if (typeof transform != 'function')\n      transform = noop\n\n    if (typeof flush != 'function')\n      flush = null\n\n    return construct(options, transform, flush)\n  }\n}\n\n\n// main export, just make me a transform stream!\nmodule.exports = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(options)\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n\n// make me a reusable prototype that I can `new`, or implicitly `new`\n// with a constructor call\nmodule.exports.ctor = through2(function (options, transform, flush) {\n  function Through2 (override) {\n    if (!(this instanceof Through2))\n      return new Through2(override)\n\n    this.options = xtend(options, override)\n\n    DestroyableTransform.call(this, this.options)\n  }\n\n  inherits(Through2, DestroyableTransform)\n\n  Through2.prototype._transform = transform\n\n  if (flush)\n    Through2.prototype._flush = flush\n\n  return Through2\n})\n\n\nmodule.exports.obj = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(xtend({ objectMode: true, highWaterMark: 16 }, options))\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n","module.exports = require(\"./lib/_stream_transform.js\")\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined)\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  var ts = this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('finish', function() {\n    if ('function' === typeof this._flush)\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = false;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // In streams that never have any data, and do push(null) right away,\n  // the consumer can miss the 'end' event if they do some I/O before\n  // consuming the stream.  So, we don't emit('end') until some reading\n  // happens.\n  this.calledRead = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (typeof chunk === 'string' && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null || chunk === undefined) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      // update the buffer info.\n      state.length += state.objectMode ? 1 : chunk.length;\n      if (addToFront) {\n        state.buffer.unshift(chunk);\n      } else {\n        state.reading = false;\n        state.buffer.push(chunk);\n      }\n\n      if (state.needReadable)\n        emitReadable(stream);\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (n === null || isNaN(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  var state = this._readableState;\n  state.calledRead = true;\n  var nOrig = n;\n  var ret;\n\n  if (typeof n !== 'number' || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    ret = null;\n\n    // In cases where the decoder did not receive enough data\n    // to produce a full chunk, then immediately received an\n    // EOF, state.buffer will contain [<Buffer >, <Buffer 00 ...>].\n    // howMuchToRead will see this and coerce the amount to\n    // read to zero (because it's looking at the length of the\n    // first <Buffer > in state.buffer), and we'll end up here.\n    //\n    // This can only happen via state.decoder -- no other venue\n    // exists for pushing a zero-length chunk into state.buffer\n    // and triggering this behavior. In this case, we return our\n    // remaining data and end the stream, if appropriate.\n    if (state.length > 0 && state.decoder) {\n      ret = fromList(n, state);\n      state.length -= ret.length;\n    }\n\n    if (state.length === 0)\n      endReadable(this);\n\n    return ret;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length - n <= state.highWaterMark)\n    doRead = true;\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading)\n    doRead = false;\n\n  if (doRead) {\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read called its callback synchronously, then `reading`\n  // will be false, and we need to re-evaluate how much data we\n  // can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we happened to read() exactly the remaining amount in the\n  // buffer, and the EOF has been seen at this point, then make sure\n  // that we emit 'end' on the very next tick.\n  if (state.ended && !state.endEmitted && state.length === 0)\n    endReadable(this);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // if we've ended and we have some data left, then emit\n  // 'readable' now to make sure it gets picked up.\n  if (state.length > 0)\n    emitReadable(stream);\n  else\n    endReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (state.emittedReadable)\n    return;\n\n  state.emittedReadable = true;\n  if (state.sync)\n    process.nextTick(function() {\n      emitReadable_(stream);\n    });\n  else\n    emitReadable_(stream);\n}\n\nfunction emitReadable_(stream) {\n  stream.emit('readable');\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    if (readable !== src) return;\n    cleanup();\n  }\n\n  function onend() {\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (!dest._writableState || dest._writableState.needDrain)\n      ondrain();\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    // the handler that waits for readable events after all\n    // the data gets sucked out in flow.\n    // This would be easier to follow with a .once() handler\n    // in flow(), but that is too slow.\n    this.on('readable', pipeOnReadable);\n\n    state.flowing = true;\n    process.nextTick(function() {\n      flow(src);\n    });\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var dest = this;\n    var state = src._readableState;\n    state.awaitDrain--;\n    if (state.awaitDrain === 0)\n      flow(src);\n  };\n}\n\nfunction flow(src) {\n  var state = src._readableState;\n  var chunk;\n  state.awaitDrain = 0;\n\n  function write(dest, i, list) {\n    var written = dest.write(chunk);\n    if (false === written) {\n      state.awaitDrain++;\n    }\n  }\n\n  while (state.pipesCount && null !== (chunk = src.read())) {\n\n    if (state.pipesCount === 1)\n      write(state.pipes, 0, null);\n    else\n      forEach(state.pipes, write);\n\n    src.emit('data', chunk);\n\n    // if anyone needs a drain, then we have to wait for that.\n    if (state.awaitDrain > 0)\n      return;\n  }\n\n  // if every destination was unpiped, either before entering this\n  // function, or in the while loop, then stop flowing.\n  //\n  // NB: This is a pretty rare edge case.\n  if (state.pipesCount === 0) {\n    state.flowing = false;\n\n    // if there were data event listeners added, then switch to old mode.\n    if (EE.listenerCount(src, 'data') > 0)\n      emitDataEvents(src);\n    return;\n  }\n\n  // at this point, no one needed a drain, so we just ran out of data\n  // on the next readable event, start it over again.\n  state.ranOut = true;\n}\n\nfunction pipeOnReadable() {\n  if (this._readableState.ranOut) {\n    this._readableState.ranOut = false;\n    flow(this);\n  }\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data' && !this._readableState.flowing)\n    emitDataEvents(this);\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        this.read(0);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  emitDataEvents(this);\n  this.read(0);\n  this.emit('resume');\n};\n\nReadable.prototype.pause = function() {\n  emitDataEvents(this, true);\n  this.emit('pause');\n};\n\nfunction emitDataEvents(stream, startPaused) {\n  var state = stream._readableState;\n\n  if (state.flowing) {\n    // https://github.com/isaacs/readable-stream/issues/16\n    throw new Error('Cannot switch to old mode now.');\n  }\n\n  var paused = startPaused || false;\n  var readable = false;\n\n  // convert to an old-style stream.\n  stream.readable = true;\n  stream.pipe = Stream.prototype.pipe;\n  stream.on = stream.addListener = Stream.prototype.on;\n\n  stream.on('readable', function() {\n    readable = true;\n\n    var c;\n    while (!paused && (null !== (c = stream.read())))\n      stream.emit('data', c);\n\n    if (c === null) {\n      readable = false;\n      stream._readableState.needReadable = true;\n    }\n  });\n\n  stream.pause = function() {\n    paused = true;\n    this.emit('pause');\n  };\n\n  stream.resume = function() {\n    paused = false;\n    if (readable)\n      process.nextTick(function() {\n        stream.emit('readable');\n      });\n    else\n      this.read(0);\n    this.emit('resume');\n  };\n\n  // now make it start, just in case it hadn't already.\n  stream.emit('readable');\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    //if (state.objectMode && util.isNullOrUndefined(chunk))\n    if (state.objectMode && (chunk === null || chunk === undefined))\n      return;\n    else if (!state.objectMode && (!chunk || !chunk.length))\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (typeof stream[i] === 'function' &&\n        typeof this[i] === 'undefined') {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted && state.calledRead) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","module.exports = require('./lib/_stream_writable.js');\n","module.exports = require('./lib/_stream_duplex.js');\n","module.exports = require('./readable').Transform\n","module.exports = require('./readable').PassThrough\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function')\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb))\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n\n  return ret;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      typeof chunk === 'string') {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      cb(er);\n    });\n  else\n    cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished && !state.bufferProcessing && state.buffer.length)\n      clearBuffer(stream, state);\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  cb();\n  if (finished)\n    finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  for (var c = 0; c < state.buffer.length; c++) {\n    var entry = state.buffer[c];\n    var chunk = entry.chunk;\n    var encoding = entry.encoding;\n    var cb = entry.callback;\n    var len = state.objectMode ? 1 : chunk.length;\n\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n    // if we didn't call the onwrite immediately, then\n    // it means that we need to wait until it does.\n    // also, that means that the chunk and cb are currently\n    // being processed, so move the buffer counter past them.\n    if (state.writing) {\n      c++;\n      break;\n    }\n  }\n\n  state.bufferProcessing = false;\n  if (c < state.buffer.length)\n    state.buffer = state.buffer.slice(c);\n  else\n    state.buffer.length = 0;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (typeof chunk !== 'undefined' && chunk !== null)\n    this.write(chunk, encoding);\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    state.finished = true;\n    stream.emit('finish');\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","// generateId :: Integer -> String\nfunction generateId (len) {\n  function dec2hex (dec) {\n    return ('0' + dec.toString(16)).substr(-2)\n  }\n  var arr = new Uint8Array((len || 40) / 2)\n  window.crypto.getRandomValues(arr)\n  return Array.from(arr, dec2hex).join('')\n}\n\nmodule.exports = {\n  generateId\n}","import * as utils from './utils'\nimport * as crypto from './crypto'\nimport * as errors from './errors'\n\nexport { utils, errors, crypto }\n","var hypercore = require('hypercore')\nvar protocol = require('hypercore-protocol')\nvar thunky = require('thunky')\nvar remove = require('unordered-array-remove')\nvar toStream = require('nanoiterator/to-stream')\nvar varint = require('varint')\nvar mutexify = require('mutexify')\nvar codecs = require('codecs')\nvar raf = require('random-access-file')\nvar path = require('path')\nvar util = require('util')\nvar bulk = require('bulk-write-stream')\nvar events = require('events')\nvar sodium = require('sodium-universal')\nvar alru = require('array-lru')\nvar inherits = require('inherits')\nvar hash = require('./lib/hash')\nvar iterator = require('./lib/iterator')\nvar differ = require('./lib/differ')\nvar history = require('./lib/history')\nvar keyHistory = require('./lib/key-history')\nvar get = require('./lib/get')\nvar put = require('./lib/put')\nvar messages = require('./lib/messages')\nvar trie = require('./lib/trie-encoding')\nvar watch = require('./lib/watch')\nvar normalizeKey = require('./lib/normalize')\nvar derive = require('./lib/derive')\n\nmodule.exports = HyperDB\n\nfunction HyperDB (storage, key, opts) {\n  if (!(this instanceof HyperDB)) return new HyperDB(storage, key, opts)\n  events.EventEmitter.call(this)\n\n  if (isOptions(key)) {\n    opts = key\n    key = null\n  }\n\n  opts = Object.assign({}, opts)\n  if (opts.firstNode) opts.reduce = reduceFirst\n\n  var checkout = opts.checkout\n\n  this.key = typeof key === 'string' ? Buffer.from(key, 'hex') : key\n  this.discoveryKey = this.key ? hypercore.discoveryKey(this.key) : null\n  this.source = checkout ? checkout.source : null\n  this.local = checkout ? checkout.local : null\n  this.localContent = checkout ? checkout.localContent : null\n  this.feeds = checkout ? checkout.feeds : []\n  this.contentFeeds = checkout ? checkout.contentFeeds : (opts.contentFeed ? [] : null)\n  this.ready = thunky(this._ready.bind(this))\n  this.opened = false\n  this.sparse = !!opts.sparse\n  this.sparseContent = opts.sparseContent !== undefined ? !!opts.sparseContent : this.sparse\n  this.id = Buffer.alloc(32)\n  sodium.randombytes_buf(this.id)\n\n  this._storage = createStorage(storage)\n  this._contentStorage = typeof opts.contentFeed === 'function'\n    ? opts.contentFeed\n    : opts.contentFeed ? this._storage : null\n  this._writers = checkout ? checkout._writers : []\n  this._watching = checkout ? checkout._watching : []\n  this._replicating = []\n  this._localWriter = null\n  this._byKey = new Map()\n  this._heads = opts.heads || null\n  this._version = opts.version || null\n  this._checkout = checkout || null\n  this._lock = mutexify()\n  this._map = opts.map || null\n  this._reduce = opts.reduce || null\n  this._valueEncoding = codecs(opts.valueEncoding || 'binary')\n  this._batching = null\n  this._batchingNodes = null\n  this._secretKey = opts.secretKey || null\n  this._storeSecretKey = opts.storeSecretKey !== false\n  this._onwrite = opts.onwrite || null\n  this._authorized = []\n\n  this.ready()\n}\n\ninherits(HyperDB, events.EventEmitter)\n\nHyperDB.prototype.batch = function (batch, cb) {\n  if (!cb) cb = noop\n\n  var self = this\n\n  this._lock(function (release) {\n    var clock = self._clock()\n\n    self._batching = []\n    self._batchingNodes = []\n\n    self.heads(function (err, heads) {\n      if (err) return cb(err)\n\n      var i = 0\n\n      loop(null)\n\n      function loop (err, node) {\n        if (err) return done(err)\n\n        if (node) {\n          node.path = hash(node.key, true)\n          heads = [node]\n        }\n\n        if (i === batch.length) {\n          self.local.append(self._batching, done)\n          return\n        }\n\n        var next = batch[i++]\n        put(self, clock, heads, normalizeKey(next.key), next.value, {delete: next.type === 'del'}, loop)\n      }\n\n      function done (err) {\n        var nodes = self._batchingNodes\n        self._batching = null\n        self._batchingNodes = null\n        return release(cb, err, nodes)\n      }\n    })\n  })\n}\n\nHyperDB.prototype.put = function (key, val, opts, cb) {\n  if (typeof opts === 'function') return this.put(key, val, null, opts)\n  if (!cb) cb = noop\n\n  if (this._checkout) {\n    return process.nextTick(cb, new Error('Cannot put on a checkout'))\n  }\n\n  var self = this\n\n  key = normalizeKey(key)\n\n  this._lock(function (release) {\n    var clock = self._clock()\n    self._getHeads(false, function (err, heads) {\n      if (err) return unlock(err)\n      put(self, clock, heads, key, val, opts, unlock)\n    })\n\n    function unlock (err, node) {\n      release(cb, err, node)\n    }\n  })\n}\n\nHyperDB.prototype.del = function (key, cb) {\n  this.put(key, null, { delete: true }, cb)\n}\n\nHyperDB.prototype.watch = function (key, cb) {\n  if (typeof key === 'function') return this.watch('', key)\n  return watch(this, normalizeKey(key), cb)\n}\n\nHyperDB.prototype.get = function (key, opts, cb) {\n  if (typeof opts === 'function') return this.get(key, null, opts)\n\n  var self = this\n\n  this._getHeads((opts && opts.update) !== false, function (err, heads) {\n    if (err) return cb(err)\n    get(self, heads, normalizeKey(key), opts, cb)\n  })\n}\n\nHyperDB.prototype.version = function (cb) {\n  var self = this\n\n  this.heads(function (err, heads) {\n    if (err) return cb(err)\n\n    var buffers = []\n\n    for (var i = 0; i < heads.length; i++) {\n      buffers.push(self.feeds[heads[i].feed].key)\n      buffers.push(Buffer.from(varint.encode(heads[i].seq)))\n    }\n\n    cb(null, Buffer.concat(buffers))\n  })\n}\n\nHyperDB.prototype.checkout = function (version, opts) {\n  if (!opts) opts = {}\n\n  if (typeof version === 'string') {\n    version = Buffer.from(version, 'hex')\n  }\n\n  if (Array.isArray(version)) {\n    opts.heads = version\n    version = null\n  }\n\n  return new HyperDB(this._storage, this.key, {\n    checkout: this,\n    version: version,\n    map: opts.map !== undefined ? opts.map : this._map,\n    reduce: opts.reduce !== undefined ? opts.reduce : this._reduce,\n    heads: opts.heads\n  })\n}\n\nHyperDB.prototype.snapshot = function (opts) {\n  return this.checkout(null, opts)\n}\n\nHyperDB.prototype.heads = function (cb) {\n  this._getHeads(true, cb)\n}\n\nHyperDB.prototype._getHeads = function (update, cb) {\n  if (!this.opened) return readyAndHeads(this, update, cb)\n  if (this._heads) return process.nextTick(cb, null, this._heads)\n\n  // This is a bit of a hack. Basically when the db is empty\n  // we wanna wait for data to come in. TODO: We should guarantee\n  // that the db always has a single block of data (like a header)\n  if (update && this._waitForUpdate()) {\n    this.setMaxListeners(0)\n    this.once('remote-update', this.heads.bind(this, cb))\n    return\n  }\n\n  var self = this\n  var len = this._writers.length\n  var missing = len\n  var error = null\n  var nodes = new Array(len)\n\n  for (var i = 0; i < len; i++) {\n    this._writers[i].head(onhead)\n  }\n\n  function onhead (err, head, i) {\n    if (err) error = err\n    else nodes[i] = head\n\n    if (--missing) return\n\n    if (error) return cb(error)\n    if (len !== self._writers.length) return self.heads(cb)\n\n    if (nodes.length === 1) return cb(null, nodes[0] ? nodes : [])\n    cb(null, filterHeads(nodes))\n  }\n}\n\nHyperDB.prototype._waitForUpdate = function () {\n  return !this._writers[0].length() && this.local.length < 2\n}\n\nHyperDB.prototype._index = function (key) {\n  if (key.key) key = key.key\n  for (var i = 0; i < this.feeds.length; i++) {\n    if (this.feeds[i].key.equals(key)) return i\n  }\n  return -1\n}\n\nHyperDB.prototype.authorized = function (key, cb) {\n  var self = this\n\n  this._getHeads(false, function (err) {\n    if (err) return cb(err)\n    // writers[0] is the source, always authed\n    cb(null, self._writers[0].authorizes(key, null))\n  })\n}\n\nHyperDB.prototype.authorize = function (key, cb) {\n  if (!cb) cb = noop\n\n  var self = this\n\n  this.heads(function (err) { // populates .feeds to be up to date\n    if (err) return cb(err)\n    self._addWriter(key, function (err) {\n      if (err) return cb(err)\n      self.put('', null, cb)\n    })\n  })\n}\n\nHyperDB.prototype.replicate = function (opts) {\n  opts = Object.assign({}, opts)\n\n  var self = this\n  var expectedFeeds = Math.max(1, this._authorized.length)\n  var factor = this.contentFeeds ? 2 : 1\n\n  opts.expectedFeeds = expectedFeeds * factor\n  if (!opts.id) opts.id = this.id\n\n  if (!opts.stream) opts.stream = protocol(opts)\n  var stream = opts.stream\n\n  if (!opts.live) stream.on('prefinalize', prefinalize)\n\n  this.ready(onready)\n\n  return stream\n\n  function onready (err) {\n    if (err) return stream.destroy(err)\n    if (stream.destroyed) return\n\n    // bootstrap content feeds\n    if (self.contentFeeds && !self.contentFeeds[0]) self._writers[0].get(1, noop)\n\n    var i = 0\n\n    self._replicating.push(replicate)\n    stream.on('close', onclose)\n    stream.on('end', onclose)\n\n    replicate()\n\n    function oncontent () {\n      this._contentFeed.replicate(opts)\n    }\n\n    function replicate () {\n      for (; i < self._authorized.length; i++) {\n        var j = self._authorized[i]\n        self.feeds[j].replicate(opts)\n        if (!self.contentFeeds) continue\n        var w = self._writers[j]\n        if (w._contentFeed) w._contentFeed.replicate(opts)\n        else w.once('content-feed', oncontent)\n      }\n    }\n\n    function onclose () {\n      var i = self._replicating.indexOf(replicate)\n      if (i > -1) remove(self._replicating, i)\n      for (i = 0; i < self._writers.length; i++) {\n        self._writers[i].removeListener('content-feed', oncontent)\n      }\n    }\n  }\n\n  function prefinalize (cb) {\n    self.heads(function (err) {\n      if (err) return cb(err)\n      stream.expectedFeeds += factor * (self._authorized.length - expectedFeeds)\n      expectedFeeds = self._writers.length\n      cb()\n    })\n  }\n}\n\nHyperDB.prototype._clock = function () {\n  var clock = new Array(this._writers.length)\n\n  for (var i = 0; i < clock.length; i++) {\n    var w = this._writers[i]\n    clock[i] = w === this._localWriter ? w._clock : w.length()\n  }\n\n  return clock\n}\n\nHyperDB.prototype._getPointer = function (feed, index, isPut, cb) {\n  if (isPut && this._batching && feed === this._localWriter._id && index >= this._localWriter._feed.length) {\n    process.nextTick(cb, null, this._batchingNodes[index - this._localWriter._feed.length])\n    return\n  }\n  this._writers[feed].get(index, cb)\n}\n\nHyperDB.prototype._getAllPointers = function (list, isPut, cb) {\n  var error = null\n  var result = new Array(list.length)\n  var missing = result.length\n\n  if (!missing) return process.nextTick(cb, null, result)\n\n  for (var i = 0; i < result.length; i++) {\n    this._getPointer(list[i].feed, list[i].seq, isPut, done)\n  }\n\n  function done (err, node) {\n    if (err) error = err\n    else result[indexOf(list, node)] = node\n    if (!--missing) cb(error, result)\n  }\n}\n\nHyperDB.prototype._writer = function (dir, key, opts) {\n  var writer = key && this._byKey.get(key.toString('hex'))\n  if (writer) return writer\n\n  opts = Object.assign({}, opts, {\n    sparse: this.sparse,\n    onwrite: this._onwrite ? onwrite : null\n  })\n\n  var self = this\n  var feed = hypercore(storage, key, opts)\n\n  writer = new Writer(self, feed)\n  feed.on('append', onappend)\n  feed.on('remote-update', onremoteupdate)\n  feed.on('sync', onreloadhead)\n\n  if (key) addWriter(null)\n  else feed.ready(addWriter)\n\n  return writer\n\n  function onwrite (index, data, peer, cb) {\n    if (!index) return cb(null) // do not intercept the header\n    if (peer) peer.maxRequests++\n    if (index >= writer._writeLength) writer._writeLength = index + 1\n    writer._writes.set(index, data)\n    writer._decode(index, data, function (err, entry) {\n      if (err) return done(cb, index, peer, err)\n      self._onwrite(entry, peer, function (err) {\n        done(cb, index, peer, err)\n      })\n    })\n  }\n\n  function done (cb, index, peer, err) {\n    if (peer) peer.maxRequests--\n    writer._writes.delete(index)\n    cb(err)\n  }\n\n  function onremoteupdate () {\n    self.emit('remote-update', feed, writer._id)\n  }\n\n  function onreloadhead () {\n    // read writer head to see if any new writers are added on full sync\n    writer.head(noop)\n  }\n\n  function onappend () {\n    for (var i = 0; i < self._watching.length; i++) self._watching[i]._kick()\n    self.emit('append', feed, writer._id)\n  }\n\n  function addWriter (err) {\n    if (!err) self._byKey.set(feed.key.toString('hex'), writer)\n  }\n\n  function storage (name) {\n    return self._storage(dir + '/' + name, {feed})\n  }\n}\n\nHyperDB.prototype._getWriter = function (key) {\n  return this._byKey.get(key.toString('hex'))\n}\n\nHyperDB.prototype._addWriter = function (key, cb) {\n  var self = this\n  var writer = this._writer('peers/' + hypercore.discoveryKey(key).toString('hex'), key)\n\n  writer._feed.ready(function (err) {\n    if (err) return cb(err)\n    if (self._index(key) <= -1) self._pushWriter(writer)\n    cb(null)\n  })\n}\n\nHyperDB.prototype._pushWriter = function (writer) {\n  writer._id = this._writers.push(writer) - 1\n  this.feeds.push(writer._feed)\n  if (this.contentFeeds) this.contentFeeds.push(null)\n\n  if (!this.opened) return\n\n  for (var i = 0; i < this._replicating.length; i++) {\n    this._replicating[i]()\n  }\n}\n\nHyperDB.prototype.list = function (prefix, opts, cb) {\n  if (typeof prefix === 'function') return this.list('', null, prefix)\n  if (typeof opts === 'function') return this.list(prefix, null, opts)\n\n  var ite = this.iterator(prefix, opts)\n  var list = []\n\n  ite.next(loop)\n\n  function loop (err, nodes) {\n    if (err) return cb(err)\n    if (!nodes) return cb(null, list)\n    list.push(nodes)\n    ite.next(loop)\n  }\n}\n\nHyperDB.prototype.history = function (opts) {\n  return history(this, opts)\n}\n\nHyperDB.prototype.keyHistory = function (prefix, opts) {\n  return keyHistory(this, prefix, opts)\n}\n\nHyperDB.prototype.diff = function (other, prefix, opts) {\n  if (isOptions(prefix)) return this.diff(other, null, prefix)\n  return differ(this, other || checkoutEmpty(this), prefix || '', opts)\n}\n\nHyperDB.prototype.iterator = function (prefix, opts) {\n  if (isOptions(prefix)) return this.iterator('', prefix)\n  return iterator(this, normalizeKey(prefix || ''), opts)\n}\n\nHyperDB.prototype.createHistoryStream = function (opts) {\n  return toStream(this.history(opts))\n}\n\nHyperDB.prototype.createKeyHistoryStream = function (prefix, opts) {\n  return toStream(this.keyHistory(prefix, opts))\n}\n\nHyperDB.prototype.createDiffStream = function (other, prefix, opts) {\n  if (isOptions(prefix)) return this.createDiffStream(other, '', prefix)\n  return toStream(this.diff(other, prefix, opts))\n}\n\nHyperDB.prototype.createReadStream = function (prefix, opts) {\n  return toStream(this.iterator(prefix, opts))\n}\n\nHyperDB.prototype.createWriteStream = function (cb) {\n  var self = this\n  return bulk.obj(write)\n\n  function write (batch, cb) {\n    var flattened = []\n    for (var i = 0; i < batch.length; i++) {\n      var content = batch[i]\n      if (Array.isArray(content)) {\n        for (var j = 0; j < content.length; j++) {\n          flattened.push(content[j])\n        }\n      } else {\n        flattened.push(content)\n      }\n    }\n    self.batch(flattened, cb)\n  }\n}\n\nHyperDB.prototype._ready = function (cb) {\n  var self = this\n\n  if (this._checkout) {\n    if (this._heads) oncheckout(null, this._heads)\n    else if (this._version) this._checkout.heads(onversion)\n    else this._checkout.heads(oncheckout)\n    return\n  }\n\n  if (!this.source) {\n    this.source = feed('source', this.key, {\n      secretKey: this._secretKey,\n      storeSecretKey: this._storeSecretKey\n    })\n  }\n\n  this.source.ready(function (err) {\n    if (err) return done(err)\n    if (self.source.writable) self.local = self.source\n    if (!self.local) self.local = feed('local')\n\n    self.key = self.source.key\n    self.discoveryKey = self.source.discoveryKey\n    self._writers[0].authorize() // source is always authorized\n\n    self.local.ready(function (err) {\n      if (err) return done(err)\n\n      self._localWriter = self._writers[self.feeds.indexOf(self.local)]\n\n      if (self._contentStorage) {\n        self._localWriter._ensureContentFeed(null)\n        self.localContent = self._localWriter._contentFeed\n      }\n\n      self._localWriter.head(function (err) {\n        if (err) return done(err)\n        if (!self.localContent) return done(null)\n        self.localContent.ready(done)\n      })\n    })\n  })\n\n  function done (err) {\n    if (err) return cb(err)\n    self._localWriter.ensureHeader(onheader)\n\n    function onheader (err) {\n      if (err) return cb(err)\n      self.opened = true\n      self.emit('ready')\n      cb(null)\n    }\n  }\n\n  function feed (dir, key, feedOpts) {\n    var writer = self._writer(dir, key, feedOpts)\n    self._pushWriter(writer)\n    return writer._feed\n  }\n\n  function onversion (err) {\n    if (err) return done(err)\n\n    var offset = 0\n    var missing = 0\n    var nodes = []\n    var error = null\n\n    if (typeof self._version === 'number') {\n      missing = 1\n      self._checkout._writers[0].get(self._version, onnode)\n      return\n    }\n\n    while (offset < self._version.length) {\n      var key = self._version.slice(offset, offset + 32)\n      var seq = varint.decode(self._version, offset + 32)\n      offset += 32 + varint.decode.bytes\n      var writer = self._checkout._byKey.get(key.toString('hex'))\n      if (!writer) {\n        error = new Error('Invalid version')\n        continue\n      }\n      missing++\n      writer.get(seq, onnode)\n    }\n\n    if (!missing) oncheckout(error, [])\n\n    function onnode (err, node) {\n      if (err) error = err\n      else nodes.push(node)\n      if (!--missing) oncheckout(error, nodes)\n    }\n  }\n\n  function oncheckout (err, heads) {\n    if (err) return done(err)\n\n    self.opened = true\n    self.source = self._checkout.source\n    self.local = self._checkout.local\n    self.localContent = self._checkout.localContent\n    self._localWriter = self._checkout._localWriter\n    self.key = self._checkout.key\n    self.discoveryKey = self._checkout.discoveryKey\n    self._heads = heads\n\n    done(null)\n  }\n}\n\nfunction Writer (db, feed) {\n  events.EventEmitter.call(this)\n\n  this._id = 0\n  this._db = db\n  this._feed = feed\n  this._contentFeed = null\n  this._feeds = 0\n  this._feedsMessage = null\n  this._feedsLoaded = -1\n  this._entry = 0\n  this._clock = 0\n  this._encodeMap = []\n  this._decodeMap = []\n  this._checkout = false\n  this._length = 0\n  this._authorized = false\n\n  this._cache = alru(4096)\n\n  this._writes = new Map()\n  this._writeLength = 0\n\n  this.setMaxListeners(0)\n}\n\ninherits(Writer, events.EventEmitter)\n\nWriter.prototype.authorize = function () {\n  if (this._authorized) return\n  this._authorized = true\n  this._db._authorized.push(this._id)\n  if (this._feedsMessage) this._updateFeeds()\n}\n\nWriter.prototype.ensureHeader = function (cb) {\n  if (this._feed.length) return cb(null)\n\n  var header = {\n    protocol: 'hyperdb'\n  }\n\n  this._feed.append(messages.Header.encode(header), cb)\n}\n\nWriter.prototype.append = function (entry, cb) {\n  if (!this._clock) this._clock = this._feed.length\n\n  var enc = messages.Entry\n  this._entry = this._clock++\n\n  entry.clock[this._id] = this._clock\n  entry.seq = this._clock - 1\n  entry.feed = this._id\n  entry[util.inspect.custom] = inspect\n\n  var mapped = {\n    key: entry.key,\n    value: null,\n    deleted: entry.deleted,\n    inflate: 0,\n    clock: null,\n    trie: null,\n    feeds: null,\n    contentFeed: null\n  }\n\n  if (this._needsInflate()) {\n    enc = messages.InflatedEntry\n    mapped.feeds = this._mapList(this._db.feeds, this._encodeMap, null)\n    if (this._db.contentFeeds) mapped.contentFeed = this._db.contentFeeds[this._id].key\n    this._feedsMessage = mapped\n    this._feedsLoaded = this._feeds = this._entry\n    this._updateFeeds()\n  }\n\n  mapped.clock = this._mapList(entry.clock, this._encodeMap, 0)\n  mapped.inflate = this._feeds\n  mapped.trie = trie.encode(entry.trie, this._encodeMap)\n  if (!isNullish(entry.value)) mapped.value = this._db._valueEncoding.encode(entry.value)\n\n  if (this._db._batching) {\n    this._db._batching.push(enc.encode(mapped))\n    this._db._batchingNodes.push(entry)\n    return cb(null)\n  }\n\n  this._feed.append(enc.encode(mapped), cb)\n}\n\nWriter.prototype._needsInflate = function () {\n  var msg = this._feedsMessage\n  return !msg || msg.feeds.length !== this._db.feeds.length\n}\n\nWriter.prototype._maybeUpdateFeeds = function () {\n  if (!this._feedsMessage) return\n  var writers = this._feedsMessage.feeds || []\n  if (\n    this._decodeMap.length !== writers.length ||\n    this._encodeMap.length !== this._db.feeds.length\n  ) {\n    this._updateFeeds()\n  }\n}\n\nWriter.prototype._decode = function (seq, buf, cb) {\n  try {\n    var val = messages.Entry.decode(buf)\n  } catch (e) {\n    return cb(e)\n  }\n  val[util.inspect.custom] = inspect\n  val.seq = seq\n  val.path = hash(val.key, true)\n  try {\n    val.value = val.value && this._db._valueEncoding.decode(val.value)\n  } catch (e) {\n    return cb(e)\n  }\n\n  if (this._feedsMessage && this._feedsLoaded === val.inflate) {\n    this._maybeUpdateFeeds()\n    val.feed = this._id\n    if (val.clock.length > this._decodeMap.length) {\n      return cb(new Error('Missing feed mappings'))\n    }\n    val.clock = this._mapList(val.clock, this._decodeMap, 0)\n    val.trie = trie.decode(val.trie, this._decodeMap)\n    this._cache.set(val.seq, val)\n    return cb(null, val, this._id)\n  }\n\n  this._loadFeeds(val, buf, cb)\n}\n\nWriter.prototype.get = function (seq, cb) {\n  var self = this\n  var cached = this._cache.get(seq)\n  if (cached) return process.nextTick(cb, null, cached, this._id)\n\n  this._getFeed(seq, function (err, val) {\n    if (err) return cb(err)\n    self._decode(seq, val, cb)\n  })\n}\n\nWriter.prototype._getFeed = function (seq, cb) {\n  if (this._writes && this._writes.size) {\n    var buf = this._writes.get(seq)\n    if (buf) return process.nextTick(cb, null, buf)\n  }\n  this._feed.get(seq, cb)\n}\n\nWriter.prototype.head = function (cb) {\n  var len = this.length()\n  if (len < 2) return process.nextTick(cb, null, null, this._id)\n  this.get(len - 1, cb)\n}\n\nWriter.prototype._mapList = function (list, map, def) {\n  var mapped = []\n  var i\n  for (i = 0; i < map.length; i++) mapped[map[i]] = i < list.length ? list[i] : def\n  for (; i < list.length; i++) mapped[i] = list[i]\n  for (i = 0; i < mapped.length; i++) {\n    if (!mapped[i]) mapped[i] = def\n  }\n  return mapped\n}\n\nWriter.prototype._loadFeeds = function (head, buf, cb) {\n  var self = this\n\n  if (head.feeds) done(head)\n  else if (head.inflate === head.seq) onfeeds(null, buf)\n  else this._getFeed(head.inflate, onfeeds)\n\n  function onfeeds (err, buf) {\n    if (err) return cb(err)\n    try {\n      var msg = messages.InflatedEntry.decode(buf)\n    } catch (e) {\n      return cb(e)\n    }\n    done(msg)\n  }\n\n  function done (msg) {\n    self._addWriters(head, msg, cb)\n  }\n}\n\nWriter.prototype._addWriters = function (head, inflated, cb) {\n  var self = this\n  var id = this._id\n  var writers = inflated.feeds || []\n  var missing = writers.length + 1\n  var error = null\n\n  for (var i = 0; i < writers.length; i++) {\n    this._db._addWriter(writers[i].key, done)\n  }\n\n  done(null)\n\n  function done (err) {\n    if (err) error = err\n    if (--missing) return\n    if (error) return cb(error)\n    var seq = head.inflate\n    if (seq > self._feedsLoaded) {\n      self._feedsLoaded = self._feeds = seq\n      self._feedsMessage = inflated\n    }\n    self._updateFeeds()\n    head.feed = self._id\n    if (head.clock.length > self._decodeMap.length) {\n      return cb(new Error('Missing feed mappings'))\n    }\n    head.clock = self._mapList(head.clock, self._decodeMap, 0)\n    head.trie = trie.decode(head.trie, self._decodeMap)\n    self._cache.set(head.seq, head)\n    cb(null, head, id)\n  }\n}\n\nWriter.prototype._ensureContentFeed = function (key) {\n  if (this._contentFeed) return\n\n  var self = this\n  var secretKey = null\n\n  if (!key) {\n    var pair = derive(this._db.local.secretKey)\n    secretKey = pair.secretKey\n    key = pair.publicKey\n  }\n\n  this._contentFeed = hypercore(storage, key, {\n    sparse: this._db.sparseContent,\n    storeSecretKey: false,\n    secretKey\n  })\n\n  if (this._db.contentFeeds) this._db.contentFeeds[this._id] = this._contentFeed\n  this.emit('content-feed')\n\n  function storage (name) {\n    name = 'content/' + self._feed.discoveryKey.toString('hex') + '/' + name\n    return self._db._contentStorage(name, {\n      metadata: self._feed,\n      feed: self._contentFeed\n    })\n  }\n}\n\nWriter.prototype._updateFeeds = function () {\n  var i\n  var updateReplicates = false\n\n  if (this._feedsMessage.contentFeed && this._db.contentFeeds && !this._contentFeed) {\n    this._ensureContentFeed(this._feedsMessage.contentFeed)\n    updateReplicates = true\n  }\n\n  var writers = this._feedsMessage.feeds || []\n  var map = new Map()\n\n  for (i = 0; i < this._db.feeds.length; i++) {\n    map.set(this._db.feeds[i].key.toString('hex'), i)\n  }\n\n  for (i = 0; i < writers.length; i++) {\n    var id = map.get(writers[i].key.toString('hex'))\n    this._decodeMap[i] = id\n    this._encodeMap[id] = i\n    if (this._authorized) {\n      this._db._writers[id].authorize()\n      updateReplicates = true\n    }\n  }\n\n  if (!updateReplicates) return\n\n  for (i = 0; i < this._db._replicating.length; i++) {\n    this._db._replicating[i]()\n  }\n}\n\nWriter.prototype.authorizes = function (key, visited) {\n  if (!visited) visited = new Array(this._db._writers.length)\n\n  if (this._feed.key.equals(key)) return true\n  if (!this._feedsMessage || visited[this._id]) return false\n  visited[this._id] = true\n\n  var feeds = this._feedsMessage.feeds || []\n  for (var i = 0; i < feeds.length; i++) {\n    var authedKey = feeds[i].key\n    if (authedKey.equals(key)) return true\n    var authedWriter = this._db._getWriter(authedKey)\n    if (authedWriter.authorizes(key, visited)) return true\n  }\n\n  return false\n}\n\nWriter.prototype.length = function () {\n  if (this._checkout) return this._length\n  return Math.max(this._writeLength, Math.max(this._feed.length, this._feed.remoteLength))\n}\n\nfunction filterHeads (list) {\n  var heads = []\n  for (var i = 0; i < list.length; i++) {\n    if (isHead(list[i], list)) heads.push(list[i])\n  }\n  return heads\n}\n\nfunction isHead (node, list) {\n  if (!node) return false\n\n  var clock = node.seq + 1\n\n  for (var i = 0; i < list.length; i++) {\n    var other = list[i]\n    if (other === node || !other) continue\n    if ((other.clock[node.feed] || 0) >= clock) return false\n  }\n\n  return true\n}\n\nfunction checkoutEmpty (db) {\n  db = db.checkout(Buffer.from([]))\n  return db\n}\n\nfunction readyAndHeads (self, update, cb) {\n  self.ready(function (err) {\n    if (err) return cb(err)\n    self._getHeads(update, cb)\n  })\n}\n\nfunction indexOf (list, ptr) {\n  for (var i = 0; i < list.length; i++) {\n    var p = list[i]\n    if (ptr.feed === p.feed && ptr.seq === p.seq) return i\n  }\n  return -1\n}\n\nfunction isOptions (opts) {\n  return typeof opts === 'object' && !!opts && !Buffer.isBuffer(opts)\n}\n\nfunction createStorage (st) {\n  if (typeof st === 'function') return st\n  return function (name) {\n    return raf(path.join(st, name))\n  }\n}\n\nfunction reduceFirst (a, b) {\n  return a\n}\n\nfunction isNullish (v) {\n  return v === null || v === undefined\n}\n\nfunction noop () {}\n\nfunction inspect () {\n  return `Node(key=${this.key}` +\n    `, value=${util.inspect(this.value)}` +\n    `, seq=${this.seq}` +\n    `, feed=${this.feed})` +\n    `)`\n}\n","var low = require('last-one-wins')\nvar remove = require('unordered-array-remove')\nvar set = require('unordered-set')\nvar merkle = require('merkle-tree-stream/generator')\nvar flat = require('flat-tree')\nvar bulk = require('bulk-write-stream')\nvar from = require('from2')\nvar codecs = require('codecs')\nvar thunky = require('thunky')\nvar batcher = require('atomic-batcher')\nvar inherits = require('inherits')\nvar events = require('events')\nvar raf = require('random-access-file')\nvar bitfield = require('./lib/bitfield')\nvar sparseBitfield = require('sparse-bitfield')\nvar treeIndex = require('./lib/tree-index')\nvar storage = require('./lib/storage')\nvar crypto = require('hypercore-crypto')\nvar nextTick = require('process-nextick-args')\nvar bufferFrom = require('buffer-from')\nvar bufferAlloc = require('buffer-alloc-unsafe')\nvar inspect = require('inspect-custom-symbol')\nvar pretty = require('pretty-hash')\nvar safeBufferEquals = require('./lib/safe-buffer-equals')\nvar replicate = null\n\nmodule.exports = Feed\n\nfunction Feed (createStorage, key, opts) {\n  if (!(this instanceof Feed)) return new Feed(createStorage, key, opts)\n  events.EventEmitter.call(this)\n\n  if (typeof createStorage === 'string') createStorage = defaultStorage(createStorage)\n  if (typeof createStorage !== 'function') throw new Error('Storage should be a function or string')\n\n  if (typeof key === 'string') key = bufferFrom(key, 'hex')\n\n  if (!Buffer.isBuffer(key) && !opts) {\n    opts = key\n    key = null\n  }\n\n  if (!opts) opts = {}\n\n  var self = this\n\n  var secretKey = opts.secretKey || null\n  if (typeof secretKey === 'string') secretKey = bufferFrom(secretKey, 'hex')\n\n  this.id = opts.id || crypto.randomBytes(32)\n  this.live = opts.live !== false\n  this.sparse = !!opts.sparse\n  this.length = 0\n  this.byteLength = 0\n  this.maxRequests = opts.maxRequests || 16\n  this.key = key || opts.key || null\n  this.discoveryKey = this.key && crypto.discoveryKey(this.key)\n  this.secretKey = secretKey\n  this.bitfield = null\n  this.tree = null\n  this.writable = !!opts.writable\n  this.readable = true\n  this.opened = false\n  this.closed = false\n  this.allowPush = !!opts.allowPush\n  this.peers = []\n\n  // hooks\n  this._onwrite = opts.onwrite || null\n\n  this._ready = thunky(open) // TODO: if open fails, do not reopen next time\n  this._indexing = !!opts.indexing\n  this._createIfMissing = opts.createIfMissing !== false\n  this._overwrite = !!opts.overwrite\n  this._storeSecretKey = opts.storeSecretKey !== false\n  this._merkle = null\n  this._storage = storage(createStorage, opts.storageCacheSize)\n  this._batch = batcher(this._onwrite ? workHook : work)\n\n  this._seq = 0\n  this._waiting = []\n  this._selections = []\n  this._reserved = sparseBitfield()\n  this._synced = null\n\n  this._stats = (typeof opts.stats !== 'undefined' && !opts.stats) ? null : {\n    downloadedBlocks: 0,\n    downloadedBytes: 0,\n    uploadedBlocks: 0,\n    uploadedBytes: 0\n  }\n\n  this._codec = toCodec(opts.valueEncoding)\n  this._sync = low(sync)\n  if (!this.sparse) this.download({start: 0, end: -1})\n\n  // open it right away. TODO: do not reopen (i.e, set a flag not to retry)\n  this._ready(onerror)\n\n  function onerror (err) {\n    if (err) self.emit('error', err)\n  }\n\n  function workHook (values, cb) {\n    if (!self._merkle) return self._reloadMerkleStateBeforeAppend(workHook, values, cb)\n    self._appendHook(values, cb)\n  }\n\n  function work (values, cb) {\n    if (!self._merkle) return self._reloadMerkleStateBeforeAppend(work, values, cb)\n    self._append(values, cb)\n  }\n\n  function sync (_, cb) {\n    self._syncBitfield(cb)\n  }\n\n  function open (cb) {\n    self._open(cb)\n  }\n}\n\ninherits(Feed, events.EventEmitter)\n\nFeed.discoveryKey = crypto.discoveryKey\n\nFeed.prototype[inspect] = function (depth, opts) {\n  var indent = ''\n  if (typeof opts.indentationLvl === 'number') {\n    while (indent.length < opts.indentationLvl) indent += ' '\n  }\n  return 'Hypercore(\\n' +\n    indent + '  key: ' + opts.stylize((this.key && pretty(this.key)), 'string') + '\\n' +\n    indent + '  discoveryKey: ' + opts.stylize((this.discoveryKey && pretty(this.discoveryKey)), 'string') + '\\n' +\n    indent + '  opened: ' + opts.stylize(this.opened, 'boolean') + '\\n' +\n    indent + '  writable: ' + opts.stylize(this.writable, 'boolean') + '\\n' +\n    indent + '  length: ' + opts.stylize(this.length, 'number') + '\\n' +\n    indent + '  byteLength: ' + opts.stylize(this.byteLength, 'number') + '\\n' +\n    indent + '  peers: ' + opts.stylize(this.peers.length, 'number') + '\\n' +\n    indent + ')'\n}\n\n// TODO: instead of using a getter, update on remote-update/add/remove\nObject.defineProperty(Feed.prototype, 'remoteLength', {\n  enumerable: true,\n  get: function () {\n    var len = 0\n    for (var i = 0; i < this.peers.length; i++) {\n      var remoteLength = this.peers[i].remoteLength\n      if (remoteLength > len) len = remoteLength\n    }\n    return len\n  }\n})\n\nObject.defineProperty(Feed.prototype, 'stats', {\n  enumerable: true,\n  get: function () {\n    if (!this._stats) return null\n    var peerStats = []\n    for (var i = 0; i < this.peers.length; i++) {\n      var peer = this.peers[i]\n      peerStats[i] = peer._stats\n    }\n    return {\n      peers: peerStats,\n      totals: this._stats\n    }\n  }\n})\n\nFeed.prototype.replicate = function (opts) {\n  // Lazy load replication deps\n  if (!replicate) replicate = require('./lib/replicate')\n\n  if ((!this._selections.length || this._selections[0].end !== -1) && !this.sparse && !(opts && opts.live)) {\n    // hack!! proper fix is to refactor ./replicate to *not* clear our non-sparse selection\n    this.download({start: 0, end: -1})\n  }\n\n  opts = opts || {}\n  opts.stats = !!this._stats\n\n  return replicate(this, opts)\n}\n\nFeed.prototype.ready = function (onready) {\n  this._ready(function (err) {\n    if (!err) onready()\n  })\n}\n\nFeed.prototype.update = function (len, cb) {\n  if (typeof len === 'function') return this.update(-1, len)\n  if (typeof len !== 'number') len = -1\n  if (!cb) cb = noop\n\n  var self = this\n\n  this.ready(function (err) {\n    if (err) return cb(err)\n    if (len === -1) len = self.length + 1\n    if (self.length >= len) return cb(null)\n\n    if (self.writable) cb = self._writeStateReloader(cb)\n\n    self._waiting.push({\n      hash: true,\n      bytes: 0,\n      index: len - 1,\n      update: true,\n      callback: cb\n    })\n\n    self._updatePeers()\n  })\n}\n\n// will reload the writable state. used by .update on a writable peer\nFeed.prototype._writeStateReloader = function (cb) {\n  var self = this\n  return function (err) {\n    if (err) return cb(err)\n    self._reloadMerkleState(cb)\n  }\n}\n\nFeed.prototype._reloadMerkleState = function (cb) {\n  var self = this\n\n  this._roots(self.length, function (err, roots) {\n    if (err) return cb(err)\n    self._merkle = merkle(crypto, roots)\n    cb(null)\n  })\n}\n\nFeed.prototype._reloadMerkleStateBeforeAppend = function (work, values, cb) {\n  this._reloadMerkleState(function (err) {\n    if (err) return cb(err)\n    work(values, cb)\n  })\n}\n\nFeed.prototype._open = function (cb) {\n  var self = this\n  var generatedKey = false\n\n  // TODO: clean up the duplicate code below ...\n\n  this._storage.openKey(function (_, key) {\n    if (key && !self._overwrite && !self.key) self.key = key\n\n    if (!self.key && self.live) {\n      var keyPair = crypto.keyPair()\n      self.secretKey = keyPair.secretKey\n      self.key = keyPair.publicKey\n      generatedKey = true\n    }\n\n    self.discoveryKey = self.key && crypto.discoveryKey(self.key)\n    self._storage.open({key: self.key, discoveryKey: self.discoveryKey}, onopen)\n  })\n\n  function onopen (err, state) {\n    if (err) return cb(err)\n\n    // if no key but we have data do a bitfield reset since we cannot verify the data.\n    if (!state.key && state.bitfield.length) {\n      self._overwrite = true\n    }\n\n    if (self._overwrite) {\n      state.bitfield = []\n      state.key = state.secretKey = null\n    }\n\n    self.bitfield = bitfield(state.bitfieldPageSize, state.bitfield)\n    self.tree = treeIndex(self.bitfield.tree)\n    self.length = self.tree.blocks()\n    self._seq = self.length\n\n    if (state.key && self.key && Buffer.compare(state.key, self.key) !== 0) {\n      return cb(new Error('Another hypercore is stored here'))\n    }\n\n    if (state.key) self.key = state.key\n    if (state.secretKey) self.secretKey = state.secretKey\n\n    // verify key and secretKey go together\n    if (self.key && self.secretKey) {\n      var challenge = bufferAlloc(0)\n      if (!crypto.verify(challenge, crypto.sign(challenge, self.secretKey), self.key)) {\n        return cb(new Error('Key and secret do not match'))\n      }\n    }\n\n    if (!self.length) return onsignature(null, null)\n    self._storage.getSignature(self.length - 1, onsignature)\n\n    function onsignature (_, sig) {\n      if (self.length) self.live = !!sig\n\n      if ((generatedKey || !self.key) && !self._createIfMissing) {\n        return cb(new Error('No hypercore is stored here'))\n      }\n\n      if (!self.key && self.live) {\n        var keyPair = crypto.keyPair()\n        self.secretKey = keyPair.secretKey\n        self.key = keyPair.publicKey\n      }\n\n      var writable = !!self.secretKey || self.key === null\n\n      if (!writable && self.writable) return cb(new Error('Feed is not writable'))\n      self.writable = writable\n      self.discoveryKey = self.key && crypto.discoveryKey(self.key)\n\n      if (self._storeSecretKey && !self.secretKey) {\n        self._storeSecretKey = false\n      }\n\n      var shouldWriteKey = generatedKey || !safeBufferEquals(self.key, state.key)\n      var shouldWriteSecretKey = self._storeSecretKey && (generatedKey || !safeBufferEquals(self.secretKey, state.secretKey))\n\n      var missing = 1 +\n        (shouldWriteKey ? 1 : 0) +\n        (shouldWriteSecretKey ? 1 : 0) +\n        (self._overwrite ? 1 : 0)\n      var error = null\n\n      if (shouldWriteKey) self._storage.key.write(0, self.key, done)\n      if (shouldWriteSecretKey) self._storage.secretKey.write(0, self.secretKey, done)\n\n      if (self._overwrite) {\n        self._storage.bitfield.del(0, Infinity, done)\n      }\n\n      done(null)\n\n      function done (err) {\n        if (err) error = err\n        if (--missing) return\n        if (error) return cb(error)\n        self._roots(self.length, onroots)\n      }\n\n      function onroots (err, roots) {\n        if (err) return cb(err)\n\n        self._merkle = merkle(crypto, roots)\n        self.byteLength = roots.reduce(addSize, 0)\n        self.opened = true\n        self.emit('ready')\n\n        cb(null)\n      }\n    }\n  }\n}\n\nFeed.prototype.download = function (range, cb) {\n  if (typeof range === 'function') return this.download(null, range)\n  if (typeof range === 'number') range = {start: range, end: range + 1}\n  if (!range) range = {}\n  if (!cb) cb = noop\n  if (!this.readable) return cb(new Error('Feed is closed'))\n\n  // TODO: if no peers, check if range is already satisfied and nextTick(cb) if so\n  // this._updatePeers does this for us when there is a peer though, so not critical\n\n  var sel = {\n    _index: this._selections.length,\n    hash: !!range.hash,\n    iterator: null,\n    start: range.start || 0,\n    end: range.end || -1,\n    want: 0,\n    linear: !!range.linear,\n    callback: cb\n  }\n\n  sel.want = toWantRange(sel.start)\n\n  this._selections.push(sel)\n  this._updatePeers()\n\n  return sel\n}\n\nFeed.prototype.undownload = function (range) {\n  if (typeof range === 'number') range = {start: range, end: range + 1}\n  if (!range) range = {}\n\n  if (range.callback && range._index > -1) {\n    set.remove(this._selections, range)\n    nextTick(range.callback, createError('ECANCELED', -11, 'Download was cancelled'))\n    return\n  }\n\n  var start = range.start || 0\n  var end = range.end || -1\n  var hash = !!range.hash\n  var linear = !!range.linear\n\n  for (var i = 0; i < this._selections.length; i++) {\n    var s = this._selections[i]\n\n    if (s.start === start && s.end === end && s.hash === hash && s.linear === linear) {\n      set.remove(this._selections, s)\n      nextTick(range.callback, createError('ECANCELED', -11, 'Download was cancelled'))\n      return\n    }\n  }\n}\n\nFeed.prototype.digest = function (index) {\n  return this.tree.digest(2 * index)\n}\n\nFeed.prototype.proof = function (index, opts, cb) {\n  if (typeof opts === 'function') return this.proof(index, null, opts)\n  if (!this.opened) return this._readyAndProof(index, opts, cb)\n  if (!opts) opts = {}\n\n  var proof = this.tree.proof(2 * index, opts)\n  if (!proof) return cb(new Error('No proof available for this index'))\n\n  var needsSig = this.live && !!proof.verifiedBy\n  var pending = proof.nodes.length + (needsSig ? 1 : 0)\n  var error = null\n  var signature = null\n  var nodes = new Array(proof.nodes.length)\n\n  if (!pending) return cb(null, {nodes: nodes, signature: null})\n\n  for (var i = 0; i < proof.nodes.length; i++) {\n    this._storage.getNode(proof.nodes[i], onnode)\n  }\n  if (needsSig) {\n    this._storage.getSignature(proof.verifiedBy / 2 - 1, onsignature)\n  }\n\n  function onsignature (err, sig) {\n    if (sig) signature = sig\n    onnode(err, null)\n  }\n\n  function onnode (err, node) {\n    if (err) error = err\n\n    if (node) {\n      nodes[proof.nodes.indexOf(node.index)] = node\n    }\n\n    if (--pending) return\n    if (error) return cb(error)\n    cb(null, {nodes: nodes, signature: signature})\n  }\n}\n\nFeed.prototype._readyAndProof = function (index, opts, cb) {\n  var self = this\n  this._ready(function (err) {\n    if (err) return cb(err)\n    self.proof(index, opts, cb)\n  })\n}\n\nFeed.prototype.put = function (index, data, proof, cb) {\n  if (!this.opened) return this._readyAndPut(index, data, proof, cb)\n  this._putBuffer(index, this._codec.encode(data), proof, null, cb)\n}\n\nFeed.prototype.cancel = function (start, end) { // TODO: use same argument scheme as download\n  if (!end) end = start + 1\n\n  // cancel these right away as .download does not wait for ready\n  for (var i = this._selections.length - 1; i >= 0; i--) {\n    var sel = this._selections[i]\n    if (start <= sel.start && sel.end <= end) {\n      this.undownload(sel)\n    }\n  }\n\n  // defer the last part until after ready as .get does that as well\n  if (this.opened) this._cancel(start, end)\n  else this._readyAndCancel(start, end)\n}\n\nFeed.prototype._cancel = function (start, end) {\n  var i = 0\n\n  for (i = start; i < end; i++) {\n    this._reserved.set(i, false) // TODO: send cancel message if set returns true\n  }\n\n  for (i = this._waiting.length - 1; i >= 0; i--) {\n    var w = this._waiting[i]\n    if ((start <= w.start && w.end <= end) || (start <= w.index && w.index < end)) {\n      remove(this._waiting, i)\n      if (w.callback) nextTick(w.callback, new Error('Request cancelled'))\n    }\n  }\n}\n\nFeed.prototype.clear = function (start, end, opts, cb) { // TODO: use same argument scheme as download\n  if (typeof end === 'function') return this.clear(start, start + 1, null, end)\n  if (typeof opts === 'function') return this.clear(start, end, null, opts)\n  if (!opts) opts = {}\n  if (!end) end = start + 1\n  if (!cb) cb = noop\n\n  // TODO: this needs some work. fx we can only calc byte offset for blocks we know about\n  // so internally we should make sure to only do that. We should use the merkle tree for this\n\n  var self = this\n  var byteOffset = start === 0 ? 0 : (typeof opts.byteOffset === 'number' ? opts.byteOffset : -1)\n  var byteLength = typeof opts.byteLength === 'number' ? opts.byteLength : -1\n\n  this._ready(function (err) {\n    if (err) return cb(err)\n\n    var modified = false\n\n    // TODO: use a buffer.fill thing here to speed this up!\n\n    for (var i = start; i < end; i++) {\n      if (self.bitfield.set(i, false)) modified = true\n    }\n\n    if (!modified) return nextTick(cb)\n\n    // TODO: write to a tmp/update file that we want to del this incase it crashes will del'ing\n\n    self._unannounce({start: start, length: end - start})\n    if (opts.delete === false || self._indexing) return sync()\n    if (byteOffset > -1) return onstartbytes(null, byteOffset)\n    self._storage.dataOffset(start, [], onstartbytes)\n\n    function sync () {\n      self.emit('clear', start, end)\n      self._sync(null, cb)\n    }\n\n    function onstartbytes (err, offset) {\n      if (err) return cb(err)\n      byteOffset = offset\n      if (byteLength > -1) return onendbytes(null, byteLength + byteOffset)\n      if (end === self.length) return onendbytes(null, self.byteLength)\n      self._storage.dataOffset(end, [], onendbytes)\n    }\n\n    function onendbytes (err, end) {\n      if (err) return cb(err)\n      if (!self._storage.data.del) return sync() // Not all data storage impls del\n      self._storage.data.del(byteOffset, end - byteOffset, sync)\n    }\n  })\n}\n\nFeed.prototype.signature = function (index, cb) {\n  if (typeof index === 'function') return this.signature(this.length - 1, index)\n\n  if (index < 0 || index >= this.length) return cb(new Error('No signature available for this index'))\n\n  this._storage.nextSignature(index, cb)\n}\n\nFeed.prototype.verify = function (index, signature, cb) {\n  var self = this\n\n  this.rootHashes(index, function (err, roots) {\n    if (err) return cb(err)\n\n    var checksum = crypto.tree(roots)\n\n    if (!crypto.verify(checksum, signature, self.key)) {\n      cb(new Error('Signature verification failed'))\n    } else {\n      cb(null, true)\n    }\n  })\n}\n\nFeed.prototype.rootHashes = function (index, cb) {\n  this._getRootsToVerify(index * 2 + 2, {}, [], cb)\n}\n\nFeed.prototype.seek = function (bytes, opts, cb) {\n  if (typeof opts === 'function') return this.seek(bytes, null, opts)\n  if (!opts) opts = {}\n  if (!this.opened) return this._readyAndSeek(bytes, opts, cb)\n\n  var self = this\n\n  this._seek(bytes, function (err, index, offset) {\n    if (!err && isBlock(index)) return done(index / 2, offset)\n    if (opts.wait === false) return cb(err || new Error('Unable to seek to this offset'))\n\n    var start = opts.start || 0\n    var end = opts.end || -1\n\n    if (!err) {\n      var left = flat.leftSpan(index) / 2\n      var right = flat.rightSpan(index) / 2 + 1\n\n      if (left > start) start = left\n      if (right < end || end === -1) end = right\n    }\n\n    if (end > -1 && end <= start) return cb(new Error('Unable to seek to this offset'))\n\n    self._waiting.push({\n      hash: opts.hash !== false,\n      bytes: bytes,\n      index: -1,\n      start: start,\n      end: end,\n      want: toWantRange(start),\n      callback: cb || noop\n    })\n\n    self._updatePeers()\n  })\n\n  function done (index, offset) {\n    for (var i = 0; i < self.peers.length; i++) {\n      self.peers[i].haveBytes(bytes)\n    }\n    cb(null, index, offset)\n  }\n}\n\nFeed.prototype._seek = function (offset, cb) {\n  if (offset === 0) return cb(null, 0, 0)\n\n  var self = this\n  var roots = flat.fullRoots(this.length * 2)\n  var nearestRoot = 0\n\n  loop(null, null)\n\n  function onroot (top) {\n    if (isBlock(top)) return cb(null, top, offset)\n\n    var left = flat.leftChild(top)\n    while (!self.tree.get(left)) {\n      if (isBlock(left)) return cb(null, nearestRoot, offset)\n      left = flat.leftChild(left)\n    }\n\n    self._storage.getNode(left, onleftchild)\n  }\n\n  function onleftchild (err, node) {\n    if (err) return cb(err)\n\n    if (node.size > offset) {\n      nearestRoot = node.index\n      onroot(node.index)\n    } else {\n      offset -= node.size\n      onroot(flat.sibling(node.index))\n    }\n  }\n\n  function loop (err, node) {\n    if (err) return cb(err)\n\n    if (node) {\n      if (node.size > offset) {\n        nearestRoot = node.index\n        return onroot(node.index)\n      }\n      offset -= node.size\n    }\n\n    if (!roots.length) return cb(new Error('Out of bounds'))\n    self._storage.getNode(roots.shift(), loop)\n  }\n}\n\nFeed.prototype._readyAndSeek = function (bytes, opts, cb) {\n  var self = this\n  this._ready(function (err) {\n    if (err) return cb(err)\n    self.seek(bytes, opts, cb)\n  })\n}\n\nFeed.prototype._getBuffer = function (index, cb) {\n  this._storage.getData(index, cb)\n}\n\nFeed.prototype._putBuffer = function (index, data, proof, from, cb) {\n  // TODO: this nodes in proof are not instances of our Node prototype\n  // but just similar. Check if this has any v8 perf implications.\n\n  // TODO: if the proof contains a valid signature BUT fails, emit a critical error\n  // --> feed should be considered dead\n\n  var self = this\n  var trusted = -1\n  var missing = []\n  var next = 2 * index\n  var i = data ? 0 : 1\n\n  while (true) {\n    if (this.tree.get(next)) {\n      trusted = next\n      break\n    }\n\n    var sib = flat.sibling(next)\n    next = flat.parent(next)\n\n    if (i < proof.nodes.length && proof.nodes[i].index === sib) {\n      i++\n      continue\n    }\n\n    if (!this.tree.get(sib)) break\n    missing.push(sib)\n  }\n\n  if (trusted === -1 && this.tree.get(next)) trusted = next\n\n  var error = null\n  var trustedNode = null\n  var missingNodes = new Array(missing.length)\n  var pending = missing.length + (trusted > -1 ? 1 : 0)\n\n  for (i = 0; i < missing.length; i++) this._storage.getNode(missing[i], onmissing)\n  if (trusted > -1) this._storage.getNode(trusted, ontrusted)\n  if (!missing.length && trusted === -1) onmissingloaded(null)\n\n  function ontrusted (err, node) {\n    if (err) error = err\n    if (node) trustedNode = node\n    if (!--pending) onmissingloaded(error)\n  }\n\n  function onmissing (err, node) {\n    if (err) error = err\n    if (node) missingNodes[missing.indexOf(node.index)] = node\n    if (!--pending) onmissingloaded(error)\n  }\n\n  function onmissingloaded (err) {\n    if (err) return cb(err)\n    self._verifyAndWrite(index, data, proof, missingNodes, trustedNode, from, cb)\n  }\n}\n\nFeed.prototype._readyAndPut = function (index, data, proof, cb) {\n  var self = this\n  this._ready(function (err) {\n    if (err) return cb(err)\n    self.put(index, data, proof, cb)\n  })\n}\n\nFeed.prototype._write = function (index, data, nodes, sig, from, cb) {\n  if (!this._onwrite) return this._writeAfterHook(index, data, nodes, sig, from, cb)\n  this._onwrite(index, data, from, writeHookDone(this, index, data, nodes, sig, from, cb))\n}\n\nfunction writeHookDone (self, index, data, nodes, sig, from, cb) {\n  return function (err) {\n    if (err) return cb(err)\n    self._writeAfterHook(index, data, nodes, sig, from, cb)\n  }\n}\n\nFeed.prototype._writeAfterHook = function (index, data, nodes, sig, from, cb) {\n  var self = this\n  var pending = nodes.length + 1 + (sig ? 1 : 0)\n  var error = null\n\n  for (var i = 0; i < nodes.length; i++) this._storage.putNode(nodes[i].index, nodes[i], ondone)\n  if (data) this._storage.putData(index, data, nodes, ondone)\n  else ondone()\n  if (sig) this._storage.putSignature(sig.index, sig.signature, ondone)\n\n  function ondone (err) {\n    if (err) error = err\n    if (--pending) return\n    if (error) return cb(error)\n    self._writeDone(index, data, nodes, from, cb)\n  }\n}\n\nFeed.prototype._writeDone = function (index, data, nodes, from, cb) {\n  for (var i = 0; i < nodes.length; i++) this.tree.set(nodes[i].index)\n  this.tree.set(2 * index)\n\n  if (data) {\n    if (this.bitfield.set(index, true)) {\n      if (this._stats) {\n        this._stats.downloadedBlocks += 1\n        this._stats.downloadedBytes += data.length\n      }\n      this.emit('download', index, data, from)\n    }\n    if (this.peers.length) this._announce({start: index}, from)\n\n    if (!this.writable) {\n      if (!this._synced) this._synced = this.bitfield.iterator(0, this.length)\n      if (this._synced.next() === -1) {\n        this._synced.range(0, this.length)\n        this._synced.seek(0)\n        if (this._synced.next() === -1) {\n          this.emit('sync')\n        }\n      }\n    }\n  }\n\n  this._sync(null, cb)\n}\n\nFeed.prototype._verifyAndWrite = function (index, data, proof, localNodes, trustedNode, from, cb) {\n  var visited = []\n  var remoteNodes = proof.nodes\n  var top = data ? new storage.Node(2 * index, crypto.data(data), data.length) : remoteNodes.shift()\n\n  // check if we already have the hash for this node\n  if (verifyNode(trustedNode, top)) {\n    this._write(index, data, visited, null, from, cb)\n    return\n  }\n\n  // keep hashing with siblings until we reach or trusted node\n  while (true) {\n    var node = null\n    var next = flat.sibling(top.index)\n\n    if (remoteNodes.length && remoteNodes[0].index === next) {\n      node = remoteNodes.shift()\n      visited.push(node)\n    } else if (localNodes.length && localNodes[0].index === next) {\n      node = localNodes.shift()\n    } else {\n      // we cannot create another parent, i.e. these nodes must be roots in the tree\n      this._verifyRootsAndWrite(index, data, top, proof, visited, from, cb)\n      return\n    }\n\n    visited.push(top)\n    top = new storage.Node(flat.parent(top.index), crypto.parent(top, node), top.size + node.size)\n\n    // the tree checks out, write the data and the visited nodes\n    if (verifyNode(trustedNode, top)) {\n      this._write(index, data, visited, null, from, cb)\n      return\n    }\n  }\n}\n\nFeed.prototype._verifyRootsAndWrite = function (index, data, top, proof, nodes, from, cb) {\n  var remoteNodes = proof.nodes\n  var lastNode = remoteNodes.length ? remoteNodes[remoteNodes.length - 1].index : top.index\n  var verifiedBy = Math.max(flat.rightSpan(top.index), flat.rightSpan(lastNode)) + 2\n  var self = this\n\n  this._getRootsToVerify(verifiedBy, top, remoteNodes, function (err, roots, extraNodes) {\n    if (err) return cb(err)\n\n    var checksum = crypto.tree(roots)\n    var signature = null\n\n    if (self.length && self.live && !proof.signature) {\n      return cb(new Error('Remote did not include a signature'))\n    }\n\n    if (proof.signature) { // check signaturex\n      if (!crypto.verify(checksum, proof.signature, self.key)) {\n        return cb(new Error('Remote signature could not be verified'))\n      }\n\n      signature = {index: verifiedBy / 2 - 1, signature: proof.signature}\n    } else { // check tree root\n      if (Buffer.compare(checksum, self.key) !== 0) {\n        return cb(new Error('Remote checksum failed'))\n      }\n    }\n\n    self.live = !!signature\n\n    var length = verifiedBy / 2\n    if (length > self.length) {\n      // TODO: only emit this after the info has been flushed to storage\n      if (self.writable) self._merkle = null // We need to reload merkle state now\n      self.length = length\n      self._seq = length\n      self.byteLength = roots.reduce(addSize, 0)\n      if (self._synced) self._synced.seek(0, self.length)\n      self.emit('append')\n    }\n\n    self._write(index, data, nodes.concat(extraNodes), signature, from, cb)\n  })\n}\n\nFeed.prototype._getRootsToVerify = function (verifiedBy, top, remoteNodes, cb) {\n  var indexes = flat.fullRoots(verifiedBy)\n  var roots = new Array(indexes.length)\n  var nodes = []\n  var error = null\n  var pending = roots.length\n\n  for (var i = 0; i < indexes.length; i++) {\n    if (indexes[i] === top.index) {\n      nodes.push(top)\n      onnode(null, top)\n    } else if (remoteNodes.length && indexes[i] === remoteNodes[0].index) {\n      nodes.push(remoteNodes[0])\n      onnode(null, remoteNodes.shift())\n    } else if (this.tree.get(indexes[i])) {\n      this._storage.getNode(indexes[i], onnode)\n    } else {\n      onnode(new Error('Missing tree roots needed for verify'))\n    }\n  }\n\n  function onnode (err, node) {\n    if (err) error = err\n    if (node) roots[indexes.indexOf(node.index)] = node\n    if (!--pending) done(error)\n  }\n\n  function done (err) {\n    if (err) return cb(err)\n\n    cb(null, roots, nodes)\n  }\n}\n\nFeed.prototype._announce = function (message, from) {\n  for (var i = 0; i < this.peers.length; i++) {\n    var peer = this.peers[i]\n    if (peer !== from) peer.have(message)\n  }\n}\n\nFeed.prototype._unannounce = function (message) {\n  for (var i = 0; i < this.peers.length; i++) this.peers[i].unhave(message)\n}\n\nFeed.prototype.downloaded = function (start, end) {\n  return this.bitfield.total(start, end)\n}\n\nFeed.prototype.has = function (start, end) {\n  if (end === undefined) return this.bitfield.get(start)\n  var total = end - start\n  return total === this.bitfield.total(start, end)\n}\n\nFeed.prototype.head = function (opts, cb) {\n  if (typeof opts === 'function') return this.head({}, opts)\n  var self = this\n  this._ready(function (err) {\n    if (err) return cb(err)\n    if (self.length === 0) cb(new Error('feed is empty'))\n    else self.get(self.length - 1, cb)\n  })\n}\n\nFeed.prototype.get = function (index, opts, cb) {\n  if (typeof opts === 'function') return this.get(index, null, opts)\n  if (!this.opened) return this._readyAndGet(index, opts, cb)\n  if (!this.readable) return cb(new Error('Feed is closed'))\n\n  if (opts && opts.timeout) cb = timeoutCallback(cb, opts.timeout)\n\n  if (!this.bitfield.get(index)) {\n    if (opts && opts.wait === false) return cb(new Error('Block not downloaded'))\n\n    this._waiting.push({bytes: 0, hash: false, index: index, options: opts, callback: cb})\n    this._updatePeers()\n    return\n  }\n\n  if (opts && opts.valueEncoding) cb = wrapCodec(toCodec(opts.valueEncoding), cb)\n  else if (this._codec !== codecs.binary) cb = wrapCodec(this._codec, cb)\n\n  this._getBuffer(index, cb)\n}\n\nFeed.prototype._readyAndGet = function (index, opts, cb) {\n  var self = this\n  this._ready(function (err) {\n    if (err) return cb(err)\n    self.get(index, opts, cb)\n  })\n}\n\nFeed.prototype.getBatch = function (start, end, opts, cb) {\n  if (typeof opts === 'function') return this.getBatch(start, end, null, opts)\n  if (!this.opened) return this._readyAndGetBatch(start, end, opts, cb)\n\n  var self = this\n  var wait = !opts || opts.wait !== false\n\n  if (this.has(start, end)) return this._getBatch(start, end, opts, cb)\n  if (!wait) return cb(new Error('Block not downloaded'))\n\n  if (opts && opts.timeout) cb = timeoutCallback(cb, opts.timeout)\n\n  this.download({start: start, end: end}, function (err) {\n    if (err) return cb(err)\n    self._getBatch(start, end, opts, cb)\n  })\n}\n\nFeed.prototype._getBatch = function (start, end, opts, cb) {\n  var enc = opts && opts.valueEncoding\n  var codec = enc ? toCodec(enc) : this._codec\n\n  this._storage.getDataBatch(start, end - start, onbatch)\n\n  function onbatch (err, buffers) {\n    if (err) return cb(err)\n\n    var batch = new Array(buffers.length)\n\n    for (var i = 0; i < buffers.length; i++) {\n      try {\n        batch[i] = codec ? codec.decode(buffers[i]) : buffers[i]\n      } catch (err) {\n        return cb(err)\n      }\n    }\n\n    cb(null, batch)\n  }\n}\n\nFeed.prototype._readyAndGetBatch = function (start, end, opts, cb) {\n  var self = this\n  this._ready(function (err) {\n    if (err) return cb(err)\n    self.getBatch(start, end, opts, cb)\n  })\n}\n\nFeed.prototype._updatePeers = function () {\n  for (var i = 0; i < this.peers.length; i++) this.peers[i].update()\n}\n\nFeed.prototype.createWriteStream = function () {\n  var self = this\n  return bulk.obj(write)\n\n  function write (batch, cb) {\n    self.append(batch, cb)\n  }\n}\n\nFeed.prototype.createReadStream = function (opts) {\n  if (!opts) opts = {}\n\n  var self = this\n  var start = opts.start || 0\n  var end = typeof opts.end === 'number' ? opts.end : -1\n  var live = !!opts.live\n  var snapshot = opts.snapshot !== false\n  var first = true\n  var range = this.download({start: start, end: end, linear: true})\n\n  return from.obj(read).on('end', cleanup).on('close', cleanup)\n\n  function read (size, cb) {\n    if (!self.opened) return open(size, cb)\n    if (!self.readable) return cb(new Error('Feed is closed'))\n\n    if (first) {\n      if (end === -1) {\n        if (live) end = Infinity\n        else if (snapshot) end = self.length\n        if (start > end) return cb(null, null)\n      }\n      if (opts.tail) start = self.length\n      first = false\n    }\n\n    if (start === end || (end === -1 && start === self.length)) return cb(null, null)\n\n    range.start++\n    if (range.iterator) range.iterator.start++\n\n    self.get(start++, opts, cb)\n  }\n\n  function cleanup () {\n    if (!range) return\n    self.undownload(range)\n    range = null\n  }\n\n  function open (size, cb) {\n    self._ready(function (err) {\n      if (err) return cb(err)\n      read(size, cb)\n    })\n  }\n}\n\n// TODO: when calling finalize on a live feed write an END_OF_FEED block (length === 0?)\nFeed.prototype.finalize = function (cb) {\n  if (!this.key) {\n    this.key = crypto.tree(this._merkle.roots)\n    this.discoveryKey = crypto.discoveryKey(this.key)\n  }\n  this._storage.key.write(0, this.key, cb)\n}\n\nFeed.prototype.append = function (batch, cb) {\n  if (!cb) cb = noop\n\n  var self = this\n  var list = Array.isArray(batch) ? batch : [batch]\n  this._batch(list, onappend)\n\n  function onappend (err) {\n    if (err) return cb(err)\n    var seq = self._seq\n    self._seq += list.length\n    cb(null, seq)\n  }\n}\n\nFeed.prototype.flush = function (cb) {\n  this.append([], cb)\n}\n\nFeed.prototype.close = function (cb) {\n  var self = this\n\n  this._ready(function () {\n    self.writable = false\n    self.readable = false\n    self._storage.close(function (err) {\n      if (!self.closed && !err) self._onclose()\n      if (cb) cb(err)\n    })\n  })\n}\n\nFeed.prototype._onclose = function () {\n  this.closed = true\n\n  while (this._waiting.length) {\n    this._waiting.pop().callback(new Error('Feed is closed'))\n  }\n  while (this._selections.length) {\n    this._selections.pop().callback(new Error('Feed is closed'))\n  }\n\n  this.emit('close')\n}\n\nFeed.prototype._appendHook = function (batch, cb) {\n  var self = this\n  var missing = batch.length\n  var error = null\n\n  if (!missing) return this._append(batch, cb)\n  for (var i = 0; i < batch.length; i++) {\n    this._onwrite(i + this.length, batch[i], null, done)\n  }\n\n  function done (err) {\n    if (err) error = err\n    if (--missing) return\n    if (error) return cb(error)\n    self._append(batch, cb)\n  }\n}\n\nFeed.prototype._append = function (batch, cb) {\n  if (!this.opened) return this._readyAndAppend(batch, cb)\n  if (!this.writable) return cb(new Error('This feed is not writable. Did you create it?'))\n\n  var self = this\n  var pending = 1\n  var offset = 0\n  var error = null\n  var nodeBatch = new Array(batch.length ? batch.length * 2 - 1 : 0)\n  var nodeOffset = this.length * 2\n  var dataBatch = new Array(batch.length)\n\n  if (!pending) return cb()\n\n  for (var i = 0; i < batch.length; i++) {\n    var data = this._codec.encode(batch[i])\n    var nodes = this._merkle.next(data)\n\n    if (this.live && i === batch.length - 1) {\n      pending++\n      var sig = crypto.sign(crypto.tree(this._merkle.roots), this.secretKey)\n      this._storage.putSignature(this.length + i, sig, done)\n    }\n\n    offset += data.length\n    dataBatch[i] = data\n\n    for (var j = 0; j < nodes.length; j++) {\n      var node = nodes[j]\n      if (node.index >= nodeOffset && node.index - nodeOffset < nodeBatch.length) {\n        nodeBatch[node.index - nodeOffset] = node\n      } else {\n        pending++\n        this._storage.putNode(node.index, node, done)\n      }\n    }\n  }\n\n  if (!this._indexing) {\n    pending++\n    if (dataBatch.length === 1) this._storage.data.write(this.byteLength, dataBatch[0], done)\n    else this._storage.data.write(this.byteLength, Buffer.concat(dataBatch), done)\n  }\n\n  this._storage.putNodeBatch(nodeOffset, nodeBatch, done)\n\n  function done (err) {\n    if (err) error = err\n    if (--pending) return\n    if (error) return cb(error)\n\n    var start = self.length\n\n    // TODO: only emit append and update length / byteLength after the info has been flushed to storage\n    self.byteLength += offset\n    for (var i = 0; i < batch.length; i++) {\n      self.bitfield.set(self.length, true)\n      self.tree.set(2 * self.length++)\n    }\n    self.emit('append')\n\n    var message = self.length - start > 1 ? {start: start, length: self.length - start} : {start: start}\n    if (self.peers.length) self._announce(message)\n\n    self._sync(null, cb)\n  }\n}\n\nFeed.prototype._readyAndAppend = function (batch, cb) {\n  var self = this\n  this._ready(function (err) {\n    if (err) return cb(err)\n    self._append(batch, cb)\n  })\n}\n\nFeed.prototype._readyAndCancel = function (start, end) {\n  var self = this\n  this.ready(function () {\n    self._cancel(start, end)\n  })\n}\n\nFeed.prototype._pollWaiting = function () {\n  var len = this._waiting.length\n  for (var i = 0; i < len; i++) {\n    var next = this._waiting[i]\n    if (!next.bytes && !this.bitfield.get(next.index)) continue\n\n    remove(this._waiting, i--)\n    len--\n\n    if (next.bytes) this.seek(next.bytes, next, next.callback)\n    else if (next.update) this.update(next.index + 1, next.callback)\n    else this.get(next.index, next.options, next.callback)\n  }\n}\n\nFeed.prototype._syncBitfield = function (cb) {\n  var missing = this.bitfield.pages.updates.length\n  var next = null\n  var error = null\n\n  // All data / nodes have been written now. We still need to update the bitfields though\n\n  // TODO 1: if the program fails during this write the bitfield might not have been fully written\n  // HOWEVER, we can easily recover from this by traversing the tree and checking if the nodes exists\n  // on disk. So if a get fails, it should try and recover once.\n\n  // TODO 2: if .writable append bitfield updates into a single buffer for extra perf\n  // Added benefit is that if the program exits while flushing the bitfield the feed will only get\n  // truncated and not have missing chunks which is what you expect.\n\n  if (!missing) {\n    this._pollWaiting()\n    return cb(null)\n  }\n\n  while ((next = this.bitfield.pages.lastUpdate()) !== null) {\n    this._storage.putBitfield(next.offset, next.buffer, ondone)\n  }\n\n  this._pollWaiting()\n\n  function ondone (err) {\n    if (err) error = err\n    if (--missing) return\n    cb(error)\n  }\n}\n\nFeed.prototype._roots = function (index, cb) {\n  var roots = flat.fullRoots(2 * index)\n  var result = new Array(roots.length)\n  var pending = roots.length\n  var error = null\n\n  if (!pending) return cb(null, result)\n\n  for (var i = 0; i < roots.length; i++) {\n    this._storage.getNode(roots[i], onnode)\n  }\n\n  function onnode (err, node) {\n    if (err) error = err\n    if (node) result[roots.indexOf(node.index)] = node\n    if (--pending) return\n    if (error) return cb(error)\n    cb(null, result)\n  }\n}\n\nFeed.prototype.audit = function (cb) {\n  if (!cb) cb = noop\n\n  var self = this\n  var report = {\n    valid: 0,\n    invalid: 0\n  }\n\n  this.ready(function (err) {\n    if (err) return cb(err)\n\n    var block = 0\n    var max = self.length\n\n    next()\n\n    function onnode (err, node) {\n      if (err) return ondata(null, null)\n      self._storage.getData(block, ondata)\n\n      function ondata (_, data) {\n        var verified = data && crypto.data(data).equals(node.hash)\n        if (verified) report.valid++\n        else report.invalid++\n        self.bitfield.set(block, verified)\n        block++\n        next()\n      }\n    }\n\n    function next () {\n      while (block < max && !self.bitfield.get(block)) block++\n      if (block >= max) return done()\n      self._storage.getNode(2 * block, onnode)\n    }\n\n    function done () {\n      self._sync(null, function (err) {\n        if (err) return cb(err)\n        cb(null, report)\n      })\n    }\n  })\n}\n\nfunction noop () {}\n\nfunction verifyNode (trusted, node) {\n  return trusted && trusted.index === node.index && Buffer.compare(trusted.hash, node.hash) === 0\n}\n\nfunction addSize (size, node) {\n  return size + node.size\n}\n\nfunction isBlock (index) {\n  return (index & 1) === 0\n}\n\nfunction defaultStorage (dir) {\n  return function (name) {\n    try {\n      var lock = name === 'bitfield' ? require('fd-lock') : null\n    } catch (err) {}\n    return raf(name, {directory: dir, lock: lock})\n  }\n}\n\nfunction toCodec (enc) {\n  // Switch to ndjson encoding if JSON is used. That way data files parse like ndjson \\o/\n  return codecs(enc === 'json' ? 'ndjson' : enc)\n}\n\nfunction wrapCodec (enc, cb) {\n  return function (err, buf) {\n    if (err) return cb(err)\n    try {\n      buf = enc.decode(buf)\n    } catch (err) {\n      return cb(err)\n    }\n    cb(null, buf)\n  }\n}\n\nfunction timeoutCallback (cb, timeout) {\n  var failed = false\n  var id = setTimeout(ontimeout, timeout)\n  return done\n\n  function ontimeout () {\n    failed = true\n    // TODO: make libs/errors for all this stuff\n    var err = new Error('ETIMEDOUT')\n    err.code = 'ETIMEDOUT'\n    cb(err)\n  }\n\n  function done (err, val) {\n    if (failed) return\n    clearTimeout(id)\n    cb(err, val)\n  }\n}\n\nfunction toWantRange (i) {\n  return Math.floor(i / 1024 / 1024) * 1024 * 1024\n}\n\nfunction createError (code, errno, msg) {\n  var err = new Error(msg)\n  err.code = code\n  err.errno = errno\n  return err\n}\n","module.exports = function (work) {\n  var pending = null\n  var callback = null\n  var callbacks = null\n  var next = null\n\n  return function (val, cb) {\n    next = val\n    update(cb || noop)\n  }\n\n  function update (cb) {\n    if (callback) {\n      if (!pending) pending = []\n      pending.push(cb)\n      return\n    }\n\n    var val = next\n    next = null\n    callback = cb\n    work(val, done)\n  }\n\n  function done (err) {\n    var cb = callback\n    var cbs = callbacks\n    callbacks = null\n    callback = null\n\n    if (pending) {\n      callbacks = pending\n      pending = null\n      update(noop)\n    }\n\n    if (cbs) {\n      for (var i = 0; i < cbs.length; i++) cbs[i](err)\n    }\n    cb(err)\n  }\n}\n\nfunction noop (_) {}\n","// a more low level interface to the merkle tree stream.\n// useful for certain applications the require non-streamy access to the algos.\n// versioned by the same semver as the stream interface.\n\nvar flat = require('flat-tree')\n\nmodule.exports = MerkleGenerator\n\nfunction MerkleGenerator (opts, roots) {\n  if (!(this instanceof MerkleGenerator)) return new MerkleGenerator(opts, roots)\n  if (!opts || !opts.leaf || !opts.parent) throw new Error('opts.leaf and opts.parent required')\n\n  this.roots = roots || opts.roots || []\n  this.blocks = this.roots.length ? 1 + flat.rightSpan(this.roots[this.roots.length - 1].index) / 2 : 0\n\n  for (var i = 0; i < this.roots.length; i++) {\n    var r = this.roots[i]\n    if (r && !r.parent) r.parent = flat.parent(r.index)\n  }\n\n  this._leaf = opts.leaf\n  this._parent = opts.parent\n}\n\nMerkleGenerator.prototype.next = function (data, nodes) {\n  if (!Buffer.isBuffer(data)) data = new Buffer(data)\n  if (!nodes) nodes = []\n\n  var index = 2 * this.blocks++\n\n  var leaf = {\n    index: index,\n    parent: flat.parent(index),\n    hash: null,\n    size: data.length,\n    data: data\n  }\n\n  leaf.hash = this._leaf(leaf, this.roots)\n  this.roots.push(leaf)\n  nodes.push(leaf)\n\n  while (this.roots.length > 1) {\n    var left = this.roots[this.roots.length - 2]\n    var right = this.roots[this.roots.length - 1]\n\n    if (left.parent !== right.parent) break\n\n    this.roots.pop()\n    this.roots[this.roots.length - 1] = leaf = {\n      index: left.parent,\n      parent: flat.parent(left.parent),\n      hash: this._parent(left, right),\n      size: left.size + right.size,\n      data: null\n    }\n    nodes.push(leaf)\n  }\n\n  return nodes\n}\n","var Readable = require('readable-stream').Readable\nvar inherits = require('inherits')\n\nmodule.exports = from2\n\nfrom2.ctor = ctor\nfrom2.obj = obj\n\nvar Proto = ctor()\n\nfunction toFunction(list) {\n  list = list.slice()\n  return function (_, cb) {\n    var err = null\n    var item = list.length ? list.shift() : null\n    if (item instanceof Error) {\n      err = item\n      item = null\n    }\n\n    cb(err, item)\n  }\n}\n\nfunction from2(opts, read) {\n  if (typeof opts !== 'object' || Array.isArray(opts)) {\n    read = opts\n    opts = {}\n  }\n\n  var rs = new Proto(opts)\n  rs._from = Array.isArray(read) ? toFunction(read) : (read || noop)\n  return rs\n}\n\nfunction ctor(opts, read) {\n  if (typeof opts === 'function') {\n    read = opts\n    opts = {}\n  }\n\n  opts = defaults(opts)\n\n  inherits(Class, Readable)\n  function Class(override) {\n    if (!(this instanceof Class)) return new Class(override)\n    this._reading = false\n    this._callback = check\n    this.destroyed = false\n    Readable.call(this, override || opts)\n\n    var self = this\n    var hwm = this._readableState.highWaterMark\n\n    function check(err, data) {\n      if (self.destroyed) return\n      if (err) return self.destroy(err)\n      if (data === null) return self.push(null)\n      self._reading = false\n      if (self.push(data)) self._read(hwm)\n    }\n  }\n\n  Class.prototype._from = read || noop\n  Class.prototype._read = function(size) {\n    if (this._reading || this.destroyed) return\n    this._reading = true\n    this._from(size, this._callback)\n  }\n\n  Class.prototype.destroy = function(err) {\n    if (this.destroyed) return\n    this.destroyed = true\n\n    var self = this\n    process.nextTick(function() {\n      if (err) self.emit('error', err)\n      self.emit('close')\n    })\n  }\n\n  return Class\n}\n\nfunction obj(opts, read) {\n  if (typeof opts === 'function' || Array.isArray(opts)) {\n    read = opts\n    opts = {}\n  }\n\n  opts = defaults(opts)\n  opts.objectMode = true\n  opts.highWaterMark = 16\n\n  return from2(opts, read)\n}\n\nfunction noop () {}\n\nfunction defaults(opts) {\n  opts = opts || {}\n  return opts\n}\n","module.exports = batcher\n\nfunction batcher (run) {\n  var running = false\n  var pendingBatch = null\n  var pendingCallbacks = null\n  var callbacks = null\n\n  return append\n\n  function done (err) {\n    if (callbacks) callAll(callbacks, err)\n\n    running = false\n    callbacks = pendingCallbacks\n    var nextBatch = pendingBatch\n\n    pendingBatch = null\n    pendingCallbacks = null\n\n    if (!nextBatch || !nextBatch.length) {\n      if (!callbacks || !callbacks.length) {\n        callbacks = null\n        return\n      }\n      if (!nextBatch) nextBatch = []\n    }\n\n    running = true\n    run(nextBatch, done)\n  }\n\n  function append (val, cb) {\n    if (running) {\n      if (!pendingBatch) {\n        pendingBatch = []\n        pendingCallbacks = []\n      }\n      pushAll(pendingBatch, val)\n      if (cb) pendingCallbacks.push(cb)\n    } else {\n      if (cb) callbacks = [cb]\n      running = true\n      run(Array.isArray(val) ? val : [val], done)\n    }\n  }\n}\n\nfunction pushAll (list, val) {\n  if (Array.isArray(val)) pushArray(list, val)\n  else list.push(val)\n}\n\nfunction pushArray (list, val) {\n  for (var i = 0; i < val.length; i++) list.push(val[i])\n}\n\nfunction callAll (list, err) {\n  for (var i = 0; i < list.length; i++) list[i](err)\n}\n","var flat = require('flat-tree')\nvar rle = require('bitfield-rle')\nvar pager = require('memory-pager')\nvar bitfield = require('sparse-bitfield')\nvar allocUnsafe = require('buffer-alloc-unsafe')\n\nvar INDEX_UPDATE_MASK = [63, 207, 243, 252]\nvar INDEX_ITERATE_MASK = [0, 192, 240, 252]\nvar DATA_ITERATE_MASK = [128, 192, 224, 240, 248, 252, 254, 255]\nvar DATA_UPDATE_MASK = [127, 191, 223, 239, 247, 251, 253, 254]\nvar MAP_PARENT_RIGHT = new Array(256)\nvar MAP_PARENT_LEFT = new Array(256)\nvar NEXT_DATA_0_BIT = new Array(256)\nvar NEXT_INDEX_0_BIT = new Array(256)\nvar TOTAL_1_BITS = new Array(256)\n\nfor (var i = 0; i < 256; i++) {\n  var a = (i & (15 << 4)) >> 4\n  var b = i & 15\n  var nibble = [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4]\n  MAP_PARENT_RIGHT[i] = ((a === 15 ? 3 : a === 0 ? 0 : 1) << 2) | (b === 15 ? 3 : b === 0 ? 0 : 1)\n  MAP_PARENT_LEFT[i] = MAP_PARENT_RIGHT[i] << 4\n  NEXT_DATA_0_BIT[i] = i === 255 ? -1 : (8 - Math.ceil(Math.log(256 - i) / Math.log(2)))\n  NEXT_INDEX_0_BIT[i] = i === 255 ? -1 : Math.floor(NEXT_DATA_0_BIT[i] / 2)\n  TOTAL_1_BITS[i] = nibble[i >> 4] + nibble[i & 0x0F]\n}\n\nmodule.exports = Bitfield\n\nfunction Bitfield (pageSize, pages) {\n  if (!(this instanceof Bitfield)) return new Bitfield(pageSize, pages)\n  if (!pageSize) pageSize = 2048 + 1024 + 512\n\n  var deduplicate = allocUnsafe(pageSize)\n  deduplicate.fill(255)\n\n  this.indexSize = pageSize - 2048 - 1024\n  this.pages = pager(pageSize, { deduplicate })\n\n  if (pages) {\n    for (var i = 0; i < pages.length; i++) {\n      this.pages.set(i, pages[i])\n    }\n  }\n\n  this.data = bitfield({\n    pageSize: 1024,\n    pageOffset: 0,\n    pages: this.pages,\n    trackUpdates: true\n  })\n\n  this.tree = bitfield({\n    pageSize: 2048,\n    pageOffset: 1024,\n    pages: this.pages,\n    trackUpdates: true\n  })\n\n  this.index = bitfield({\n    pageSize: this.indexSize,\n    pageOffset: 1024 + 2048,\n    pages: this.pages,\n    trackUpdates: true\n  })\n\n  this.length = this.data.length\n  this._iterator = flat.iterator(0)\n}\n\nBitfield.prototype.set = function (i, value) {\n  var o = i & 7\n  i = (i - o) / 8\n  var v = value ? this.data.getByte(i) | (128 >> o) : this.data.getByte(i) & DATA_UPDATE_MASK[o]\n\n  if (!this.data.setByte(i, v)) return false\n  this.length = this.data.length\n  this._setIndex(i, v)\n  return true\n}\n\nBitfield.prototype.get = function (i) {\n  return this.data.get(i)\n}\n\nBitfield.prototype.total = function (start, end) {\n  if (!start || start < 0) start = 0\n  if (!end) end = this.data.length\n  if (end < start) return 0\n  if (end > this.data.length) {\n    this._expand(end)\n  }\n  var o = start & 7\n  var e = end & 7\n  var pos = (start - o) / 8\n  var last = (end - e) / 8\n  var leftMask = (255 - (o ? DATA_ITERATE_MASK[o - 1] : 0))\n  var rightMask = (e ? DATA_ITERATE_MASK[e - 1] : 0)\n  var byte = this.data.getByte(pos)\n  if (pos === last) {\n    return TOTAL_1_BITS[byte & leftMask & rightMask]\n  }\n  var total = TOTAL_1_BITS[byte & leftMask]\n  for (var i = pos + 1; i < last; i++) {\n    total += TOTAL_1_BITS[this.data.getByte(i)]\n  }\n  total += TOTAL_1_BITS[this.data.getByte(last) & rightMask]\n  return total\n}\n\n// TODO: use the index to speed this up *a lot*\nBitfield.prototype.compress = function (start, length) {\n  if (!start && !length) return rle.encode(this.data.toBuffer())\n\n  var buf = Buffer.alloc(length)\n  var p = start / this.data.pageSize / 8\n  var end = p + length / this.data.pageSize / 8\n  var offset = p * this.data.pageSize\n\n  for (; p < end; p++) {\n    var page = this.data.pages.get(p, true)\n    if (!page || !page.buffer) continue\n    page.buffer.copy(buf, p * this.data.pageSize - offset, this.data.pageOffset, this.data.pageOffset + this.data.pageSize)\n  }\n\n  return rle.encode(buf)\n}\n\nBitfield.prototype._setIndex = function (i, value) {\n  //                    (a + b | c + d | e + f | g + h)\n  // -> (a | b | c | d)                                (e | f | g | h)\n  //\n\n  var o = i & 3\n  i = (i - o) / 4\n\n  var bitfield = this.index\n  var ite = this._iterator\n  var start = 2 * i\n  var byte = (bitfield.getByte(start) & INDEX_UPDATE_MASK[o]) | (getIndexValue(value) >> (2 * o))\n  var len = bitfield.length\n  var maxLength = this.pages.length * this.indexSize\n\n  ite.seek(start)\n\n  while (ite.index < maxLength && bitfield.setByte(ite.index, byte)) {\n    if (ite.isLeft()) {\n      byte = MAP_PARENT_LEFT[byte] | MAP_PARENT_RIGHT[bitfield.getByte(ite.sibling())]\n    } else {\n      byte = MAP_PARENT_RIGHT[byte] | MAP_PARENT_LEFT[bitfield.getByte(ite.sibling())]\n    }\n    ite.parent()\n  }\n\n  if (len !== bitfield.length) this._expand(len)\n\n  return ite.index !== start\n}\n\nBitfield.prototype._expand = function (len) {\n  var roots = flat.fullRoots(2 * len)\n  var bitfield = this.index\n  var ite = this._iterator\n  var byte = 0\n\n  for (var i = 0; i < roots.length; i++) {\n    ite.seek(roots[i])\n    byte = bitfield.getByte(ite.index)\n\n    do {\n      if (ite.isLeft()) {\n        byte = MAP_PARENT_LEFT[byte] | MAP_PARENT_RIGHT[bitfield.getByte(ite.sibling())]\n      } else {\n        byte = MAP_PARENT_RIGHT[byte] | MAP_PARENT_LEFT[bitfield.getByte(ite.sibling())]\n      }\n    } while (setByteNoAlloc(bitfield, ite.parent(), byte))\n  }\n}\n\nfunction setByteNoAlloc (bitfield, i, b) {\n  if (8 * i >= bitfield.length) return false\n  return bitfield.setByte(i, b)\n}\n\nBitfield.prototype.iterator = function (start, end) {\n  var ite = new Iterator(this)\n\n  ite.range(start || 0, end || this.length)\n  ite.seek(0)\n\n  return ite\n}\n\nfunction Iterator (bitfield) {\n  this.start = 0\n  this.end = 0\n\n  this._indexEnd = 0\n  this._pos = 0\n  this._byte = 0\n  this._bitfield = bitfield\n}\n\nIterator.prototype.range = function (start, end) {\n  this.start = start\n  this.end = end\n  this._indexEnd = 2 * Math.ceil(end / 32)\n\n  if (this.end > this._bitfield.length) {\n    this._bitfield._expand(this.end)\n  }\n\n  return this\n}\n\nIterator.prototype.seek = function (offset) {\n  offset += this.start\n  if (offset < this.start) offset = this.start\n\n  if (offset >= this.end) {\n    this._pos = -1\n    return this\n  }\n\n  var o = offset & 7\n\n  this._pos = (offset - o) / 8\n  this._byte = this._bitfield.data.getByte(this._pos) | (o ? DATA_ITERATE_MASK[o - 1] : 0)\n\n  return this\n}\n\nIterator.prototype.random = function () {\n  var i = this.seek(Math.floor(Math.random() * (this.end - this.start))).next()\n  return i === -1 ? this.seek(0).next() : i\n}\n\nIterator.prototype.next = function () {\n  if (this._pos === -1) return -1\n\n  var dataBitfield = this._bitfield.data\n  var free = NEXT_DATA_0_BIT[this._byte]\n\n  while (free === -1) {\n    this._byte = dataBitfield.getByte(++this._pos)\n    free = NEXT_DATA_0_BIT[this._byte]\n\n    if (free === -1) {\n      this._pos = this._skipAhead(this._pos)\n      if (this._pos === -1) return -1\n\n      this._byte = dataBitfield.getByte(this._pos)\n      free = NEXT_DATA_0_BIT[this._byte]\n    }\n  }\n\n  this._byte |= DATA_ITERATE_MASK[free]\n\n  var n = 8 * this._pos + free\n  return n < this.end ? n : -1\n}\n\nIterator.prototype.peek = function () {\n  if (this._pos === -1) return -1\n\n  var free = NEXT_DATA_0_BIT[this._byte]\n  var n = 8 * this._pos + free\n  return n < this.end ? n : -1\n}\n\nIterator.prototype._skipAhead = function (start) {\n  var indexBitfield = this._bitfield.index\n  var treeEnd = this._indexEnd\n  var ite = this._bitfield._iterator\n  var o = start & 3\n\n  ite.seek(2 * ((start - o) / 4))\n\n  var treeByte = indexBitfield.getByte(ite.index) | INDEX_ITERATE_MASK[o]\n\n  while (NEXT_INDEX_0_BIT[treeByte] === -1) {\n    if (ite.isLeft()) {\n      ite.next()\n    } else {\n      ite.next()\n      ite.parent()\n    }\n\n    if (rightSpan(ite) >= treeEnd) {\n      while (rightSpan(ite) >= treeEnd && isParent(ite)) ite.leftChild()\n      if (rightSpan(ite) >= treeEnd) return -1\n    }\n\n    treeByte = indexBitfield.getByte(ite.index)\n  }\n\n  while (ite.factor > 2) {\n    if (NEXT_INDEX_0_BIT[treeByte] < 2) ite.leftChild()\n    else ite.rightChild()\n\n    treeByte = indexBitfield.getByte(ite.index)\n  }\n\n  var free = NEXT_INDEX_0_BIT[treeByte]\n  if (free === -1) free = 4\n\n  var next = ite.index * 2 + free\n\n  return next <= start ? start + 1 : next\n}\n\nfunction rightSpan (ite) {\n  return ite.index + ite.factor / 2 - 1\n}\n\nfunction isParent (ite) {\n  return ite.index & 1\n}\n\nfunction getIndexValue (n) {\n  switch (n) {\n    case 255: return 192\n    case 0: return 0\n    default: return 64\n  }\n}\n","module.exports = {\n    encode: require('./encode.js')\n  , decode: require('./decode.js')\n  , encodingLength: require('./length.js')\n}\n","module.exports = encode\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31)\n\nfunction encode(num, out, offset) {\n  out = out || []\n  offset = offset || 0\n  var oldOffset = offset\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB\n    num /= 128\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB\n    num >>>= 7\n  }\n  out[offset] = num | 0\n  \n  encode.bytes = offset - oldOffset + 1\n  \n  return out\n}\n","module.exports = read\n\nvar MSB = 0x80\n  , REST = 0x7F\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length\n\n  do {\n    if(counter >= l) {\n      read.bytes = 0\n      read.bytesRead = 0 // DEPRECATED\n      return undefined\n    }\n    b = buf[counter++]\n    res += shift < 28\n      ? (b & REST) << shift\n      : (b & REST) * Math.pow(2, shift)\n    shift += 7\n  } while (b >= MSB)\n\n  read.bytes = counter - offset\n\n  return res\n}\n","\nvar N1 = Math.pow(2,  7)\nvar N2 = Math.pow(2, 14)\nvar N3 = Math.pow(2, 21)\nvar N4 = Math.pow(2, 28)\nvar N5 = Math.pow(2, 35)\nvar N6 = Math.pow(2, 42)\nvar N7 = Math.pow(2, 49)\nvar N8 = Math.pow(2, 56)\nvar N9 = Math.pow(2, 63)\n\nmodule.exports = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n}\n","var uint64be = require('uint64be')\nvar flat = require('flat-tree')\nvar alru = require('array-lru')\nvar bufferAlloc = require('buffer-alloc-unsafe')\nvar bufferAllocSafe = require('buffer-alloc')\n\nmodule.exports = Storage\n\nvar noarr = []\n\nfunction Storage (create, cacheSize) {\n  if (!(this instanceof Storage)) return new Storage(create, cacheSize)\n  cacheSize = typeof cacheSize === 'undefined' ? 65536 : cacheSize\n\n  this.cache = cacheSize > 0 ? alru(cacheSize, {indexedValues: true}) : null\n  this.key = null\n  this.secretKey = null\n  this.tree = null\n  this.data = null\n  this.bitfield = null\n  this.signatures = null\n  this.create = create\n}\n\nStorage.prototype.putData = function (index, data, nodes, cb) {\n  if (!cb) cb = noop\n  var self = this\n  if (!data.length) return cb(null)\n  this.dataOffset(index, nodes, function (err, offset, size) {\n    if (err) return cb(err)\n    if (size !== data.length) return cb(new Error('Unexpected data size'))\n    self.data.write(offset, data, cb)\n  })\n}\n\nStorage.prototype.getData = function (index, cb) {\n  var self = this\n  this.dataOffset(index, noarr, function (err, offset, size) {\n    if (err) return cb(err)\n    self.data.read(offset, size, cb)\n  })\n}\n\nStorage.prototype.nextSignature = function (index, cb) {\n  var self = this\n\n  this._getSignature(index, function (err, signature) {\n    if (err) return cb(err)\n    if (isBlank(signature)) return self.nextSignature(index + 1, cb)\n    cb(null, { index: index, signature: signature })\n  })\n}\n\nStorage.prototype.getSignature = function (index, cb) {\n  this._getSignature(index, function (err, signature) {\n    if (err) return cb(err)\n    if (isBlank(signature)) return cb(new Error('No signature found'))\n    cb(null, signature)\n  })\n}\n\nStorage.prototype._getSignature = function (index, cb) {\n  this.signatures.read(32 + 64 * index, 64, cb)\n}\n\nStorage.prototype.putSignature = function (index, signature, cb) {\n  this.signatures.write(32 + 64 * index, signature, cb)\n}\n\nStorage.prototype.dataOffset = function (index, cachedNodes, cb) {\n  var roots = flat.fullRoots(2 * index)\n  var self = this\n  var offset = 0\n  var pending = roots.length\n  var error = null\n  var blk = 2 * index\n\n  if (!pending) {\n    pending = 1\n    onnode(null, null)\n    return\n  }\n\n  for (var i = 0; i < roots.length; i++) {\n    var node = findNode(cachedNodes, roots[i])\n    if (node) onnode(null, node)\n    else this.getNode(roots[i], onnode)\n  }\n\n  function onlast (err, node) {\n    if (err) return cb(err)\n    cb(null, offset, node.size)\n  }\n\n  function onnode (err, node) {\n    if (err) error = err\n    if (node) offset += node.size\n    if (--pending) return\n\n    if (error) return cb(error)\n\n    var last = findNode(cachedNodes, blk)\n    if (last) onlast(null, last)\n    else self.getNode(blk, onlast)\n  }\n}\n\nStorage.prototype.getDataBatch = function (start, n, cb) {\n  var result = new Array(n)\n  var sizes = new Array(n)\n  var self = this\n\n  this.dataOffset(start, noarr, function (err, offset, size) {\n    if (err) return cb(err)\n\n    start++\n    n--\n\n    if (n <= 0) return ontree(null, null)\n    self.tree.read(32 + 80 * start, 80 * n - 40, ontree)\n\n    function ontree (err, buf) {\n      if (err) return cb(err)\n\n      var total = sizes[0] = size\n\n      if (buf) {\n        for (var i = 1; i < sizes.length; i++) {\n          sizes[i] = uint64be.decode(buf, 32 + (i - 1) * 80)\n          total += sizes[i]\n        }\n      }\n\n      self.data.read(offset, total, ondata)\n    }\n\n    function ondata (err, buf) {\n      if (err) return cb(err)\n      var total = 0\n      for (var i = 0; i < result.length; i++) {\n        result[i] = buf.slice(total, total += sizes[i])\n      }\n\n      cb(null, result)\n    }\n  })\n}\n\nStorage.prototype.getNode = function (index, cb) {\n  if (this.cache) {\n    var cached = this.cache.get(index)\n    if (cached) return cb(null, cached)\n  }\n\n  var self = this\n\n  this.tree.read(32 + 40 * index, 40, function (err, buf) {\n    if (err) return cb(err)\n\n    var hash = buf.slice(0, 32)\n    var size = uint64be.decode(buf, 32)\n\n    if (!size && isBlank(hash)) return cb(new Error('No node found'))\n\n    var val = new Node(index, hash, size, null)\n    if (self.cache) self.cache.set(index, val)\n    cb(null, val)\n  })\n}\n\nStorage.prototype.putNodeBatch = function (index, nodes, cb) {\n  if (!cb) cb = noop\n\n  var buf = bufferAllocSafe(nodes.length * 40)\n\n  for (var i = 0; i < nodes.length; i++) {\n    var offset = i * 40\n    var node = nodes[i]\n    if (!node) continue\n    node.hash.copy(buf, offset)\n    uint64be.encode(node.size, buf, 32 + offset)\n  }\n\n  this.tree.write(32 + 40 * index, buf, cb)\n}\n\nStorage.prototype.putNode = function (index, node, cb) {\n  if (!cb) cb = noop\n\n  // TODO: re-enable put cache. currently this causes a memleak\n  // because node.hash is a slice of the big data buffer on replicate\n  // if (this.cache) this.cache.set(index, node)\n\n  var buf = bufferAlloc(40)\n\n  node.hash.copy(buf, 0)\n  uint64be.encode(node.size, buf, 32)\n  this.tree.write(32 + 40 * index, buf, cb)\n}\n\nStorage.prototype.putBitfield = function (offset, data, cb) {\n  this.bitfield.write(32 + offset, data, cb)\n}\n\nStorage.prototype.close = function (cb) {\n  if (!cb) cb = noop\n  var missing = 6\n  var error = null\n\n  close(this.bitfield, done)\n  close(this.tree, done)\n  close(this.data, done)\n  close(this.key, done)\n  close(this.secretKey, done)\n  close(this.signatures, done)\n\n  function done (err) {\n    if (err) error = err\n    if (--missing) return\n    cb(error)\n  }\n}\n\nStorage.prototype.openKey = function (opts, cb) {\n  if (typeof opts === 'function') return this.openKey({}, opts)\n  if (!this.key) this.key = this.create('key', opts)\n  this.key.read(0, 32, cb)\n}\n\nStorage.prototype.open = function (opts, cb) {\n  if (typeof opts === 'function') return this.open({}, opts)\n\n  var self = this\n  var error = null\n  var missing = 5\n\n  if (!this.key) this.key = this.create('key', opts)\n  if (!this.secretKey) this.secretKey = this.create('secret_key', opts)\n  if (!this.tree) this.tree = this.create('tree', opts)\n  if (!this.data) this.data = this.create('data', opts)\n  if (!this.bitfield) this.bitfield = this.create('bitfield', opts)\n  if (!this.signatures) this.signatures = this.create('signatures', opts)\n\n  var result = {\n    bitfield: [],\n    bitfieldPageSize: 3584, // we upgraded the page size to fix a bug\n    secretKey: null,\n    key: null\n  }\n\n  this.bitfield.read(0, 32, function (_, h) {\n    if (h) result.bitfieldPageSize = h.readUInt16BE(5)\n    self.bitfield.write(0, header(0, result.bitfieldPageSize, null), function (err) {\n      if (err) return cb(err)\n      readAll(self.bitfield, 32, result.bitfieldPageSize, function (err, pages) {\n        if (pages) result.bitfield = pages\n        done(err)\n      })\n    })\n  })\n\n  this.signatures.write(0, header(1, 64, 'Ed25519'), done)\n  this.tree.write(0, header(2, 40, 'BLAKE2b'), done)\n\n  // TODO: Improve the error handling here.\n  // I.e. if secretKey length === 64 and it fails, error\n\n  this.secretKey.read(0, 64, function (_, data) {\n    if (data) result.secretKey = data\n    done(null)\n  })\n\n  this.key.read(0, 32, function (_, data) {\n    if (data) result.key = data\n    done(null)\n  })\n\n  function done (err) {\n    if (err) error = err\n    if (--missing) return\n    if (error) cb(error)\n    else cb(null, result)\n  }\n}\n\nStorage.Node = Node\n\nfunction noop () {}\n\nfunction header (type, size, name) {\n  var buf = bufferAlloc(32)\n  buf.fill(0)\n\n  // magic number\n  buf[0] = 5\n  buf[1] = 2\n  buf[2] = 87\n  buf[3] = type\n\n  // version\n  buf[4] = 0\n\n  // block size\n  buf.writeUInt16BE(size, 5)\n\n  if (name) {\n    // algo name\n    buf[7] = name.length\n    buf.write(name, 8)\n  }\n\n  return buf\n}\n\nfunction Node (index, hash, size) {\n  this.index = index\n  this.hash = hash\n  this.size = size\n}\n\nfunction findNode (nodes, index) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].index === index) return nodes[i]\n  }\n  return null\n}\n\nfunction isBlank (buf) {\n  for (var i = 0; i < buf.length; i++) {\n    if (buf[i]) return false\n  }\n  return true\n}\n\nfunction close (st, cb) {\n  if (st.close) st.close(cb)\n  else cb()\n}\n\nfunction statAndReadAll (st, offset, pageSize, cb) {\n  st.stat(function (err, stat) {\n    if (err) return cb(null, [])\n\n    var result = []\n\n    loop(null, null)\n\n    function loop (err, batch) {\n      if (err) return cb(err)\n\n      if (batch) {\n        offset += batch.length\n        for (var i = 0; i < batch.length; i += pageSize) {\n          result.push(batch.slice(i, i + pageSize))\n        }\n      }\n\n      var next = Math.min(stat.size - offset, 32 * pageSize)\n      if (!next) return cb(null, result)\n\n      st.read(offset, next, loop)\n    }\n  })\n}\n\nfunction readAll (st, offset, pageSize, cb) {\n  if (st.statable === true) return statAndReadAll(st, offset, pageSize, cb)\n\n  var bufs = []\n\n  st.read(offset, pageSize, loop)\n\n  function loop (err, buf) {\n    if (err) return cb(null, bufs)\n    bufs.push(buf)\n    st.read(offset + bufs.length * pageSize, pageSize, loop)\n  }\n}\n","/* Node.js 6.4.0 and up has full support */\nvar hasFullSupport = (function () {\n  try {\n    if (!Buffer.isEncoding('latin1')) {\n      return false\n    }\n\n    var buf = Buffer.alloc ? Buffer.alloc(4) : new Buffer(4)\n\n    buf.fill('ab', 'ucs2')\n\n    return (buf.toString('hex') === '61006200')\n  } catch (_) {\n    return false\n  }\n}())\n\nfunction isSingleByte (val) {\n  return (val.length === 1 && val.charCodeAt(0) < 256)\n}\n\nfunction fillWithNumber (buffer, val, start, end) {\n  if (start < 0 || end > buffer.length) {\n    throw new RangeError('Out of range index')\n  }\n\n  start = start >>> 0\n  end = end === undefined ? buffer.length : end >>> 0\n\n  if (end > start) {\n    buffer.fill(val, start, end)\n  }\n\n  return buffer\n}\n\nfunction fillWithBuffer (buffer, val, start, end) {\n  if (start < 0 || end > buffer.length) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return buffer\n  }\n\n  start = start >>> 0\n  end = end === undefined ? buffer.length : end >>> 0\n\n  var pos = start\n  var len = val.length\n  while (pos <= (end - len)) {\n    val.copy(buffer, pos)\n    pos += len\n  }\n\n  if (pos !== end) {\n    val.copy(buffer, pos, 0, end - pos)\n  }\n\n  return buffer\n}\n\nfunction fill (buffer, val, start, end, encoding) {\n  if (hasFullSupport) {\n    return buffer.fill(val, start, end, encoding)\n  }\n\n  if (typeof val === 'number') {\n    return fillWithNumber(buffer, val, start, end)\n  }\n\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = buffer.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = buffer.length\n    }\n\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n\n    if (encoding === 'latin1') {\n      encoding = 'binary'\n    }\n\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n\n    if (val === '') {\n      return fillWithNumber(buffer, 0, start, end)\n    }\n\n    if (isSingleByte(val)) {\n      return fillWithNumber(buffer, val.charCodeAt(0), start, end)\n    }\n\n    val = new Buffer(val, encoding)\n  }\n\n  if (Buffer.isBuffer(val)) {\n    return fillWithBuffer(buffer, val, start, end)\n  }\n\n  // Other values (e.g. undefined, boolean, object) results in zero-fill\n  return fillWithNumber(buffer, 0, start, end)\n}\n\nmodule.exports = fill\n","// crc16 impl, optimized for numeric inputs\n\nvar TABLE = [\n  0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5, 0x60c6, 0x70e7,\n  0x8108, 0x9129, 0xa14a, 0xb16b, 0xc18c, 0xd1ad, 0xe1ce, 0xf1ef,\n  0x1231, 0x0210, 0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,\n  0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c, 0xf3ff, 0xe3de,\n  0x2462, 0x3443, 0x0420, 0x1401, 0x64e6, 0x74c7, 0x44a4, 0x5485,\n  0xa56a, 0xb54b, 0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,\n  0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6, 0x5695, 0x46b4,\n  0xb75b, 0xa77a, 0x9719, 0x8738, 0xf7df, 0xe7fe, 0xd79d, 0xc7bc,\n  0x48c4, 0x58e5, 0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,\n  0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969, 0xa90a, 0xb92b,\n  0x5af5, 0x4ad4, 0x7ab7, 0x6a96, 0x1a71, 0x0a50, 0x3a33, 0x2a12,\n  0xdbfd, 0xcbdc, 0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,\n  0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03, 0x0c60, 0x1c41,\n  0xedae, 0xfd8f, 0xcdec, 0xddcd, 0xad2a, 0xbd0b, 0x8d68, 0x9d49,\n  0x7e97, 0x6eb6, 0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,\n  0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a, 0x9f59, 0x8f78,\n  0x9188, 0x81a9, 0xb1ca, 0xa1eb, 0xd10c, 0xc12d, 0xf14e, 0xe16f,\n  0x1080, 0x00a1, 0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,\n  0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c, 0xe37f, 0xf35e,\n  0x02b1, 0x1290, 0x22f3, 0x32d2, 0x4235, 0x5214, 0x6277, 0x7256,\n  0xb5ea, 0xa5cb, 0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,\n  0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447, 0x5424, 0x4405,\n  0xa7db, 0xb7fa, 0x8799, 0x97b8, 0xe75f, 0xf77e, 0xc71d, 0xd73c,\n  0x26d3, 0x36f2, 0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,\n  0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9, 0xb98a, 0xa9ab,\n  0x5844, 0x4865, 0x7806, 0x6827, 0x18c0, 0x08e1, 0x3882, 0x28a3,\n  0xcb7d, 0xdb5c, 0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,\n  0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0, 0x2ab3, 0x3a92,\n  0xfd2e, 0xed0f, 0xdd6c, 0xcd4d, 0xbdaa, 0xad8b, 0x9de8, 0x8dc9,\n  0x7c26, 0x6c07, 0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,\n  0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba, 0x8fd9, 0x9ff8,\n  0x6e17, 0x7e36, 0x4e55, 0x5e74, 0x2e93, 0x3eb2, 0x0ed1, 0x1ef0\n]\n\nmodule.exports = crc16\n\nfunction crc16 (n) {\n  var crc = 0\n  var r = 0\n\n  for (var i = 0; i < 8; i++) {\n    r = n & 0xff\n    n = (n - r) / 256\n    crc = ((crc << 8) ^ TABLE[((crc >> 8) ^ r) & 0xff]) & 0xffff\n  }\n\n  return crc\n}\n","var sodium = require('sodium-universal')\nvar uint64be = require('uint64be')\nvar bufferFrom = require('buffer-from')\nvar bufferAlloc = require('buffer-alloc-unsafe')\n\n// https://en.wikipedia.org/wiki/Merkle_tree#Second_preimage_attack\nvar LEAF_TYPE = bufferFrom([0])\nvar PARENT_TYPE = bufferFrom([1])\nvar ROOT_TYPE = bufferFrom([2])\nvar HYPERCORE = bufferFrom('hypercore')\n\nexports.keyPair = function (seed) {\n  var publicKey = bufferAlloc(sodium.crypto_sign_PUBLICKEYBYTES)\n  var secretKey = bufferAlloc(sodium.crypto_sign_SECRETKEYBYTES)\n\n  if (seed) sodium.crypto_sign_seed_keypair(publicKey, secretKey, seed)\n  else sodium.crypto_sign_keypair(publicKey, secretKey)\n\n  return {\n    publicKey: publicKey,\n    secretKey: secretKey\n  }\n}\n\nexports.sign = function (message, secretKey) {\n  var signature = bufferAlloc(sodium.crypto_sign_BYTES)\n  sodium.crypto_sign_detached(signature, message, secretKey)\n  return signature\n}\n\nexports.verify = function (message, signature, publicKey) {\n  return sodium.crypto_sign_verify_detached(signature, message, publicKey)\n}\n\nexports.data = function (data) {\n  return blake2b([\n    LEAF_TYPE,\n    encodeUInt64(data.length),\n    data\n  ])\n}\n\nexports.leaf = function (leaf) {\n  return exports.data(leaf.data)\n}\n\nexports.parent = function (a, b) {\n  if (a.index > b.index) {\n    var tmp = a\n    a = b\n    b = tmp\n  }\n\n  return blake2b([\n    PARENT_TYPE,\n    encodeUInt64(a.size + b.size),\n    a.hash,\n    b.hash\n  ])\n}\n\nexports.tree = function (roots) {\n  var buffers = new Array(3 * roots.length + 1)\n  var j = 0\n\n  buffers[j++] = ROOT_TYPE\n\n  for (var i = 0; i < roots.length; i++) {\n    var r = roots[i]\n    buffers[j++] = r.hash\n    buffers[j++] = encodeUInt64(r.index)\n    buffers[j++] = encodeUInt64(r.size)\n  }\n\n  return blake2b(buffers)\n}\n\nexports.randomBytes = function (n) {\n  var buf = bufferAlloc(n)\n  sodium.randombytes_buf(buf)\n  return buf\n}\n\nexports.discoveryKey = function (tree) {\n  var digest = bufferAlloc(32)\n  sodium.crypto_generichash(digest, HYPERCORE, tree)\n  return digest\n}\n\nfunction encodeUInt64 (n) {\n  return uint64be.encode(n, bufferAlloc(8))\n}\n\nfunction blake2b (buffers) {\n  var digest = bufferAlloc(32)\n  sodium.crypto_generichash_batch(digest, buffers)\n  return digest\n}\n","'use strict';\n\n// Based on https://github.com/dchest/tweetnacl-js/blob/6dcbcaf5f5cbfd313f2dcfe763db35c828c8ff5b/nacl-fast.js.\n\nvar sodium = module.exports\nvar cs = require('./crypto_stream')\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n// also forwarded at the bottom but randombytes is non-enumerable\nvar randombytes = require('./randombytes').randombytes\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_stream_xor (c, cpos, m, mpos, clen, n, k) {\n  cs.crypto_stream_xor(c, m, n, k)\n}\n\nfunction crypto_stream (c, cpos, clen, n, k) {\n  cs.crypto_stream(c, n, k)\n}\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  check(q, crypto_scalarmult_BYTES)\n  check(n, crypto_scalarmult_SCALARBYTES)\n  check(p, crypto_scalarmult_BYTES)\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  check(pk, sodium.crypto_sign_PUBLICKEYBYTES)\n  check(sk, sodium.crypto_sign_SECRETKEYBYTES)\n\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nfunction crypto_sign_seed_keypair (pk, sk, seed) {\n  check(seed, sodium.crypto_sign_SEEDBYTES)\n  seed.copy(sk)\n  crypto_sign_keypair(pk, sk, true)\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = (x[j] + 128) >> 8;\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, sk) {\n  check(sm, crypto_sign_BYTES + m.length)\n  check(m, 0)\n  check(sk, crypto_sign_SECRETKEYBYTES)\n  var n = m.length\n\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n}\n\nfunction crypto_sign_detached(sig, m, sk) {\n  var sm = new Uint8Array(m.length + crypto_sign_BYTES)\n  crypto_sign(sm, m, sk)\n  for (var i = 0; i < crypto_sign_BYTES; i++) sig[i] = sm[i]\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(msg, sm, pk) {\n  check(msg, sm.length - crypto_sign_BYTES)\n  check(sm, crypto_sign_BYTES)\n  check(pk, crypto_sign_PUBLICKEYBYTES)\n  var n = sm.length\n  var m = new Uint8Array(sm.length)\n\n  var i, mlen;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  mlen = -1;\n  if (n < 64) return false;\n\n  if (unpackneg(q, pk)) return false;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return false;\n  }\n\n  for (i = 0; i < n; i++) msg[i] = sm[i + 64];\n  mlen = n;\n  return true;\n}\n\nfunction crypto_sign_verify_detached (sig, m, pk) {\n  check(sig, crypto_sign_BYTES)\n  var sm = new Uint8Array(m.length + crypto_sign_BYTES)\n  var i = 0\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i]\n  for (i = 0; i < m.length; i++) sm[i + crypto_sign_BYTES] = m[i]\n  return crypto_sign_open(m, sm, pk)\n}\n\nfunction crypto_secretbox_detached (o, mac, msg, n, k) {\n  check(mac, sodium.crypto_secretbox_MACBYTES)\n  var tmp = new Uint8Array(msg.length + mac.length)\n  crypto_secretbox_easy(tmp, msg, n, k)\n  o.set(tmp.subarray(0, msg.length))\n  mac.set(tmp.subarray(msg.length))\n}\n\nfunction crypto_secretbox_open_detached (msg, o, mac, n, k) {\n  check(mac, sodium.crypto_secretbox_MACBYTES)\n  var tmp = new Uint8Array(o.length + mac.length)\n  tmp.set(o)\n  tmp.set(mac, msg.length)\n  return crypto_secretbox_open_easy(msg, tmp, n, k)\n}\n\nfunction crypto_secretbox_easy(o, msg, n, k) {\n  check(msg, 0)\n  check(o, msg.length + sodium.crypto_secretbox_MACBYTES)\n  check(n, crypto_secretbox_NONCEBYTES)\n  check(k, crypto_secretbox_KEYBYTES)\n\n  var i\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, n, k);\n  for (i = crypto_secretbox_BOXZEROBYTES; i < c.length; i++) o[i - crypto_secretbox_BOXZEROBYTES] = c[i]\n}\n\nfunction crypto_secretbox_open_easy(msg, box, n, k) {\n  check(box, sodium.crypto_secretbox_MACBYTES)\n  check(msg, box.length - sodium.crypto_secretbox_MACBYTES)\n  check(n, crypto_secretbox_NONCEBYTES)\n  check(k, crypto_secretbox_KEYBYTES)\n\n  var i\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return false;\n  if (crypto_secretbox_open(m, c, c.length, n, k) !== 0) return false;\n\n  for (i = crypto_secretbox_ZEROBYTES; i < m.length; i++) msg[i - crypto_secretbox_ZEROBYTES] = m[i]\n  return true\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nsodium.memzero = function (len, offset) {\n  for (var i = offset; i < len; i++) arr[i] = 0;\n}\n\nsodium.crypto_sign_BYTES = crypto_sign_BYTES\nsodium.crypto_sign_PUBLICKEYBYTES = crypto_sign_PUBLICKEYBYTES\nsodium.crypto_sign_SECRETKEYBYTES = crypto_sign_SECRETKEYBYTES\nsodium.crypto_sign_SEEDBYTES = crypto_sign_SEEDBYTES\nsodium.crypto_sign_keypair = crypto_sign_keypair\nsodium.crypto_sign_seed_keypair = crypto_sign_seed_keypair\nsodium.crypto_sign = crypto_sign\nsodium.crypto_sign_open = crypto_sign_open\nsodium.crypto_sign_detached = crypto_sign_detached\nsodium.crypto_sign_verify_detached = crypto_sign_verify_detached\n\nforward(require('./crypto_generichash'))\nforward(require('./crypto_kdf'))\nforward(require('./crypto_shorthash'))\nforward(require('./randombytes'))\nforward(require('./crypto_stream'))\n\nsodium.crypto_scalarmult_BYTES = crypto_scalarmult_BYTES\nsodium.crypto_scalarmult_SCALARBYTES = crypto_scalarmult_SCALARBYTES\nsodium.crypto_scalarmult_base = crypto_scalarmult_base\nsodium.crypto_scalarmult = crypto_scalarmult\n\nsodium.crypto_secretbox_KEYBYTES = crypto_secretbox_KEYBYTES,\nsodium.crypto_secretbox_NONCEBYTES = crypto_secretbox_NONCEBYTES,\nsodium.crypto_secretbox_MACBYTES = 16\nsodium.crypto_secretbox_easy = crypto_secretbox_easy\nsodium.crypto_secretbox_open_easy = crypto_secretbox_open_easy\nsodium.crypto_secretbox_detached = crypto_secretbox_detached\nsodium.crypto_secretbox_open_detached = crypto_secretbox_open_detached\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nfunction check (buf, len) {\n  if (!buf || (len && buf.length < len)) throw new Error('Argument must be a buffer' + (len ? ' of length ' + len : ''))\n}\n\nfunction forward (submodule) {\n  Object.keys(submodule).forEach(function (prop) {\n    module.exports[prop] = submodule[prop]\n  })\n}\n","var xsalsa20 = require('./xsalsa20')()\n\nvar SIGMA = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107])\nvar head = 144\nvar top = head\nvar free = []\n\nmodule.exports = XSalsa20\n\nXSalsa20.NONCEBYTES = 24\nXSalsa20.KEYBYTES = 32\n\nfunction XSalsa20 (nonce, key) {\n  if (!(this instanceof XSalsa20)) return new XSalsa20(nonce, key)\n  if (!nonce || nonce.length < 24) throw new Error('nonce must be at least 24 bytes')\n  if (!key || key.length < 32) throw new Error('key must be at least 32 bytes')\n  this._xor = xsalsa20 && xsalsa20.exports ? new WASM(nonce, key) : new Fallback(nonce, key)\n}\n\nXSalsa20.prototype.update = function (input, output) {\n  if (!input) throw new Error('input must be Uint8Array or Buffer')\n  if (!output) output = new Uint8Array(input.length)\n  if (input.length) this._xor.update(input, output)\n  return output\n}\n\nXSalsa20.prototype.final =\nXSalsa20.prototype.finalize = function () {\n  this._xor.finalize()\n  this._xor = null\n}\n\nfunction WASM (nonce, key) {\n  if (!free.length) {\n    free.push(head)\n    head += 64\n  }\n\n  this._pointer = free.pop()\n  this._nonce = this._pointer + 8\n  this._key = this._nonce + 24\n  this._overflow = 0\n\n  xsalsa20.memory.fill(0, this._pointer, this._pointer + 8)\n  xsalsa20.memory.set(nonce, this._nonce)\n  xsalsa20.memory.set(key, this._key)\n}\n\nWASM.prototype.update = function (input, output) {\n  var len = this._overflow + input.length\n  var start = head + this._overflow\n\n  top = head + len\n  if (top >= xsalsa20.memory.length) xsalsa20.realloc(top)\n\n  xsalsa20.memory.set(input, start)\n  xsalsa20.exports.xsalsa20_xor(this._pointer, head, head, len, this._nonce, this._key)\n  output.set(xsalsa20.memory.subarray(start, head + len))\n\n  this._overflow = len & 63\n}\n\nWASM.prototype.finalize = function () {\n  xsalsa20.memory.fill(0, this._pointer, this._key + 32)\n  if (top > head) {\n    xsalsa20.memory.fill(0, head, top)\n    top = 0\n  }\n  free.push(this._pointer)\n}\n\nfunction Fallback (nonce, key) {\n  this._s = new Uint8Array(32)\n  this._z = new Uint8Array(16)\n  this._overflow = 0\n  core_hsalsa20(this._s, nonce, key, SIGMA)\n  for (var i = 0; i < 8; i++) this._z[i] = nonce[i + 16]\n}\n\nFallback.prototype.update = function (input, output) {\n  var x = new Uint8Array(64)\n  var u = 0\n  var i = this._overflow\n  var b = input.length + this._overflow\n  var z = this._z\n  var mpos = -this._overflow\n  var cpos = -this._overflow\n\n  while (b >= 64) {\n    core_salsa20(x, z, this._s, SIGMA)\n    for (; i < 64; i++) output[cpos + i] = input[mpos + i] ^ x[i]\n    u = 1\n    for (i = 8; i < 16; i++) {\n      u += (z[i] & 0xff) | 0\n      z[i] = u & 0xff\n      u >>>= 8\n    }\n    b -= 64\n    cpos += 64\n    mpos += 64\n    i = 0\n  }\n  if (b > 0) {\n    core_salsa20(x, z, this._s, SIGMA)\n    for (; i < b; i++) output[cpos + i] = input[mpos + i] ^ x[i]\n  }\n\n  this._overflow = b & 63\n}\n\nFallback.prototype.finalize = function () {\n  this._s.fill(0)\n  this._z.fill(0)\n}\n\n// below methods are ported from tweet nacl\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff) << 8 | (c[ 2] & 0xff) << 16 | (c[ 3] & 0xff) << 24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff) << 8 | (k[ 2] & 0xff) << 16 | (k[ 3] & 0xff) << 24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff) << 8 | (k[ 6] & 0xff) << 16 | (k[ 7] & 0xff) << 24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,\n      j4  = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff) << 8 | (c[ 6] & 0xff) << 16 | (c[ 7] & 0xff) << 24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff) << 8 | (p[ 2] & 0xff) << 16 | (p[ 3] & 0xff) << 24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff) << 8 | (p[ 6] & 0xff) << 16 | (p[ 7] & 0xff) << 24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,\n      j9  = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,\n      j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,\n      j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,\n      j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,\n      j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,\n      j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0\n    x4 ^= u << 7 | u >>> 25\n    u = x4 + x0 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x4 | 0\n    x12 ^= u << 13 | u >>> 19\n    u = x12 + x8 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x1 | 0\n    x9 ^= u << 7 | u >>> 25\n    u = x9 + x5 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x9 | 0\n    x1 ^= u << 13 | u >>> 19\n    u = x1 + x13 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x6 | 0\n    x14 ^= u << 7 | u >>> 25\n    u = x14 + x10 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x14 | 0\n    x6 ^= u << 13 | u >>> 19\n    u = x6 + x2 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x11 | 0\n    x3 ^= u << 7 | u >>> 25\n    u = x3 + x15 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x3 | 0\n    x11 ^= u << 13 | u >>> 19\n    u = x11 + x7 | 0\n    x15 ^= u << 18 | u >>> 14\n\n    u = x0 + x3 | 0\n    x1 ^= u << 7 | u >>> 25\n    u = x1 + x0 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x1 | 0\n    x3 ^= u << 13 | u >>> 19\n    u = x3 + x2 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x4 | 0\n    x6 ^= u << 7 | u >>> 25\n    u = x6 + x5 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x6 | 0\n    x4 ^= u << 13 | u >>> 19\n    u = x4 + x7 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x9 | 0\n    x11 ^= u << 7 | u >>> 25\n    u = x11 + x10 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x11 | 0\n    x9 ^= u << 13 | u >>> 19\n    u = x9 + x8 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x14 | 0\n    x12 ^= u << 7 | u >>> 25\n    u = x12 + x15 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x12 | 0\n    x14 ^= u << 13 | u >>> 19\n    u = x14 + x13 | 0\n    x15 ^= u << 18 | u >>> 14\n  }\n   x0 =  x0 +  j0 | 0\n   x1 =  x1 +  j1 | 0\n   x2 =  x2 +  j2 | 0\n   x3 =  x3 +  j3 | 0\n   x4 =  x4 +  j4 | 0\n   x5 =  x5 +  j5 | 0\n   x6 =  x6 +  j6 | 0\n   x7 =  x7 +  j7 | 0\n   x8 =  x8 +  j8 | 0\n   x9 =  x9 +  j9 | 0\n  x10 = x10 + j10 | 0\n  x11 = x11 + j11 | 0\n  x12 = x12 + j12 | 0\n  x13 = x13 + j13 | 0\n  x14 = x14 + j14 | 0\n  x15 = x15 + j15 | 0\n\n  o[ 0] = x0 >>>  0 & 0xff\n  o[ 1] = x0 >>>  8 & 0xff\n  o[ 2] = x0 >>> 16 & 0xff\n  o[ 3] = x0 >>> 24 & 0xff\n\n  o[ 4] = x1 >>>  0 & 0xff\n  o[ 5] = x1 >>>  8 & 0xff\n  o[ 6] = x1 >>> 16 & 0xff\n  o[ 7] = x1 >>> 24 & 0xff\n\n  o[ 8] = x2 >>>  0 & 0xff\n  o[ 9] = x2 >>>  8 & 0xff\n  o[10] = x2 >>> 16 & 0xff\n  o[11] = x2 >>> 24 & 0xff\n\n  o[12] = x3 >>>  0 & 0xff\n  o[13] = x3 >>>  8 & 0xff\n  o[14] = x3 >>> 16 & 0xff\n  o[15] = x3 >>> 24 & 0xff\n\n  o[16] = x4 >>>  0 & 0xff\n  o[17] = x4 >>>  8 & 0xff\n  o[18] = x4 >>> 16 & 0xff\n  o[19] = x4 >>> 24 & 0xff\n\n  o[20] = x5 >>>  0 & 0xff\n  o[21] = x5 >>>  8 & 0xff\n  o[22] = x5 >>> 16 & 0xff\n  o[23] = x5 >>> 24 & 0xff\n\n  o[24] = x6 >>>  0 & 0xff\n  o[25] = x6 >>>  8 & 0xff\n  o[26] = x6 >>> 16 & 0xff\n  o[27] = x6 >>> 24 & 0xff\n\n  o[28] = x7 >>>  0 & 0xff\n  o[29] = x7 >>>  8 & 0xff\n  o[30] = x7 >>> 16 & 0xff\n  o[31] = x7 >>> 24 & 0xff\n\n  o[32] = x8 >>>  0 & 0xff\n  o[33] = x8 >>>  8 & 0xff\n  o[34] = x8 >>> 16 & 0xff\n  o[35] = x8 >>> 24 & 0xff\n\n  o[36] = x9 >>>  0 & 0xff\n  o[37] = x9 >>>  8 & 0xff\n  o[38] = x9 >>> 16 & 0xff\n  o[39] = x9 >>> 24 & 0xff\n\n  o[40] = x10 >>>  0 & 0xff\n  o[41] = x10 >>>  8 & 0xff\n  o[42] = x10 >>> 16 & 0xff\n  o[43] = x10 >>> 24 & 0xff\n\n  o[44] = x11 >>>  0 & 0xff\n  o[45] = x11 >>>  8 & 0xff\n  o[46] = x11 >>> 16 & 0xff\n  o[47] = x11 >>> 24 & 0xff\n\n  o[48] = x12 >>>  0 & 0xff\n  o[49] = x12 >>>  8 & 0xff\n  o[50] = x12 >>> 16 & 0xff\n  o[51] = x12 >>> 24 & 0xff\n\n  o[52] = x13 >>>  0 & 0xff\n  o[53] = x13 >>>  8 & 0xff\n  o[54] = x13 >>> 16 & 0xff\n  o[55] = x13 >>> 24 & 0xff\n\n  o[56] = x14 >>>  0 & 0xff\n  o[57] = x14 >>>  8 & 0xff\n  o[58] = x14 >>> 16 & 0xff\n  o[59] = x14 >>> 24 & 0xff\n\n  o[60] = x15 >>>  0 & 0xff\n  o[61] = x15 >>>  8 & 0xff\n  o[62] = x15 >>> 16 & 0xff\n  o[63] = x15 >>> 24 & 0xff\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff) << 8 | (c[ 2] & 0xff) << 16 | (c[ 3] & 0xff) << 24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff) << 8 | (k[ 2] & 0xff) << 16 | (k[ 3] & 0xff) << 24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff) << 8 | (k[ 6] & 0xff) << 16 | (k[ 7] & 0xff) << 24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,\n      j4  = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff) << 8 | (c[ 6] & 0xff) << 16 | (c[ 7] & 0xff) << 24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff) << 8 | (p[ 2] & 0xff) << 16 | (p[ 3] & 0xff) << 24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff) << 8 | (p[ 6] & 0xff) << 16 | (p[ 7] & 0xff) << 24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,\n      j9  = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,\n      j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,\n      j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,\n      j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,\n      j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,\n      j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0\n    x4 ^= u << 7 | u >>> 25\n    u = x4 + x0 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x4 | 0\n    x12 ^= u << 13 | u >>> 19\n    u = x12 + x8 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x1 | 0\n    x9 ^= u << 7 | u >>> 25\n    u = x9 + x5 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x9 | 0\n    x1 ^= u << 13 | u >>> 19\n    u = x1 + x13 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x6 | 0\n    x14 ^= u << 7 | u >>> 25\n    u = x14 + x10 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x14 | 0\n    x6 ^= u << 13 | u >>> 19\n    u = x6 + x2 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x11 | 0\n    x3 ^= u << 7 | u >>> 25\n    u = x3 + x15 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x3 | 0\n    x11 ^= u << 13 | u >>> 19\n    u = x11 + x7 | 0\n    x15 ^= u << 18 | u >>> 14\n\n    u = x0 + x3 | 0\n    x1 ^= u << 7 | u >>> 25\n    u = x1 + x0 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x1 | 0\n    x3 ^= u << 13 | u >>> 19\n    u = x3 + x2 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x4 | 0\n    x6 ^= u << 7 | u >>> 25\n    u = x6 + x5 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x6 | 0\n    x4 ^= u << 13 | u >>> 19\n    u = x4 + x7 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x9 | 0\n    x11 ^= u << 7 | u >>> 25\n    u = x11 + x10 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x11 | 0\n    x9 ^= u << 13 | u >>> 19\n    u = x9 + x8 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x14 | 0\n    x12 ^= u << 7 | u >>> 25\n    u = x12 + x15 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x12 | 0\n    x14 ^= u << 13 | u >>> 19\n    u = x14 + x13 | 0\n    x15 ^= u << 18 | u >>> 14\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff\n  o[ 1] = x0 >>>  8 & 0xff\n  o[ 2] = x0 >>> 16 & 0xff\n  o[ 3] = x0 >>> 24 & 0xff\n\n  o[ 4] = x5 >>>  0 & 0xff\n  o[ 5] = x5 >>>  8 & 0xff\n  o[ 6] = x5 >>> 16 & 0xff\n  o[ 7] = x5 >>> 24 & 0xff\n\n  o[ 8] = x10 >>>  0 & 0xff\n  o[ 9] = x10 >>>  8 & 0xff\n  o[10] = x10 >>> 16 & 0xff\n  o[11] = x10 >>> 24 & 0xff\n\n  o[12] = x15 >>>  0 & 0xff\n  o[13] = x15 >>>  8 & 0xff\n  o[14] = x15 >>> 16 & 0xff\n  o[15] = x15 >>> 24 & 0xff\n\n  o[16] = x6 >>>  0 & 0xff\n  o[17] = x6 >>>  8 & 0xff\n  o[18] = x6 >>> 16 & 0xff\n  o[19] = x6 >>> 24 & 0xff\n\n  o[20] = x7 >>>  0 & 0xff\n  o[21] = x7 >>>  8 & 0xff\n  o[22] = x7 >>> 16 & 0xff\n  o[23] = x7 >>> 24 & 0xff\n\n  o[24] = x8 >>>  0 & 0xff\n  o[25] = x8 >>>  8 & 0xff\n  o[26] = x8 >>> 16 & 0xff\n  o[27] = x8 >>> 24 & 0xff\n\n  o[28] = x9 >>>  0 & 0xff\n  o[29] = x9 >>>  8 & 0xff\n  o[30] = x9 >>> 16 & 0xff\n  o[31] = x9 >>> 24 & 0xff\n}\n","\nmodule.exports = loadWebAssembly\n\nloadWebAssembly.supported = typeof WebAssembly !== 'undefined'\n\nfunction loadWebAssembly (opts) {\n  if (!loadWebAssembly.supported) return null\n\n  var imp = opts && opts.imports\n  var wasm = toUint8Array('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')\n  var ready = null\n\n  var mod = {\n    buffer: wasm,\n    memory: null,\n    exports: null,\n    realloc: realloc,\n    onload: onload\n  }\n\n  onload(function () {})\n\n  return mod\n\n  function realloc (size) {\n    mod.exports.memory.grow(Math.ceil(Math.abs(size - mod.memory.length) / 65536))\n    mod.memory = new Uint8Array(mod.exports.memory.buffer)\n  }\n\n  function onload (cb) {\n    if (mod.exports) return cb()\n\n    if (ready) {\n      ready.then(cb.bind(null, null)).catch(cb)\n      return\n    }\n\n    try {\n      if (opts && opts.async) throw new Error('async')\n      setup({instance: new WebAssembly.Instance(new WebAssembly.Module(wasm), imp)})\n    } catch (err) {\n      ready = WebAssembly.instantiate(wasm, imp).then(setup)\n    }\n\n    onload(cb)\n  }\n\n  function setup (w) {\n    mod.exports = w.instance.exports\n    mod.memory = mod.exports.memory && mod.exports.memory.buffer && new Uint8Array(mod.exports.memory.buffer)\n  }\n}\n\nfunction toUint8Array (s) {\n  if (typeof atob === 'function') return new Uint8Array(atob(s).split('').map(charCodeAt))\n  return new (require('buf' + 'fer').Buffer)(s, 'base64')\n}\n\nfunction charCodeAt (c) {\n  return c.charCodeAt(0)\n}\n","var blake2b = require('blake2b')\n\nmodule.exports.crypto_generichash_PRIMITIVE = 'blake2b'\nmodule.exports.crypto_generichash_BYTES_MIN = blake2b.BYTES_MIN\nmodule.exports.crypto_generichash_BYTES_MAX = blake2b.BYTES_MAX\nmodule.exports.crypto_generichash_BYTES = blake2b.BYTES\nmodule.exports.crypto_generichash_KEYBYTES_MIN = blake2b.KEYBYTES_MIN\nmodule.exports.crypto_generichash_KEYBYTES_MAX = blake2b.KEYBYTES_MAX\nmodule.exports.crypto_generichash_KEYBYTES = blake2b.KEYBYTES\nmodule.exports.crypto_generichash_WASM_SUPPORTED = blake2b.WASM_SUPPORTED\nmodule.exports.crypto_generichash_WASM_LOADED = false\n\nmodule.exports.crypto_generichash = function (output, input, key) {\n  blake2b(output.length, key).update(input).final(output)\n}\n\nmodule.exports.crypto_generichash_ready = blake2b.ready\n\nmodule.exports.crypto_generichash_batch = function (output, inputArray, key) {\n  var ctx = blake2b(output.length, key)\n  for (var i = 0; i < inputArray.length; i++) {\n    ctx.update(inputArray[i])\n  }\n  ctx.final(output)\n}\n\nmodule.exports.crypto_generichash_instance = function (key, outlen) {\n  if (outlen == null) outlen = module.exports.crypto_generichash_BYTES\n  return blake2b(outlen, key)\n}\n\nblake2b.ready(function (err) {\n  module.exports.crypto_generichash_WASM_LOADED = blake2b.WASM_LOADED\n})\n","var assert = require('nanoassert')\nvar wasm = require('./blake2b')()\n\nvar head = 64\nvar freeList = []\n\nmodule.exports = Blake2b\nvar BYTES_MIN = module.exports.BYTES_MIN = 16\nvar BYTES_MAX = module.exports.BYTES_MAX = 64\nvar BYTES = module.exports.BYTES = 32\nvar KEYBYTES_MIN = module.exports.KEYBYTES_MIN = 16\nvar KEYBYTES_MAX = module.exports.KEYBYTES_MAX = 64\nvar KEYBYTES = module.exports.KEYBYTES = 32\nvar SALTBYTES = module.exports.SALTBYTES = 16\nvar PERSONALBYTES = module.exports.PERSONALBYTES = 16\n\nfunction Blake2b (digestLength, key, salt, personal, noAssert) {\n  if (!(this instanceof Blake2b)) return new Blake2b(digestLength, key, salt, personal, noAssert)\n  if (!(wasm && wasm.exports)) throw new Error('WASM not loaded. Wait for Blake2b.ready(cb)')\n  if (!digestLength) digestLength = 32\n\n  if (noAssert !== true) {\n    assert(digestLength >= BYTES_MIN, 'digestLength must be at least ' + BYTES_MIN + ', was given ' + digestLength)\n    assert(digestLength <= BYTES_MAX, 'digestLength must be at most ' + BYTES_MAX + ', was given ' + digestLength)\n    if (key != null) assert(key.length >= KEYBYTES_MIN, 'key must be at least ' + KEYBYTES_MIN + ', was given ' + key.length)\n    if (key != null) assert(key.length <= KEYBYTES_MAX, 'key must be at least ' + KEYBYTES_MAX + ', was given ' + key.length)\n    if (salt != null) assert(salt.length === SALTBYTES, 'salt must be exactly ' + SALTBYTES + ', was given ' + salt.length)\n    if (personal != null) assert(personal.length === PERSONALBYTES, 'personal must be exactly ' + PERSONALBYTES + ', was given ' + personal.length)\n  }\n\n  if (!freeList.length) {\n    freeList.push(head)\n    head += 216\n  }\n\n  this.digestLength = digestLength\n  this.finalized = false\n  this.pointer = freeList.pop()\n\n  wasm.memory.fill(0, 0, 64)\n  wasm.memory[0] = this.digestLength\n  wasm.memory[1] = key ? key.length : 0\n  wasm.memory[2] = 1 // fanout\n  wasm.memory[3] = 1 // depth\n\n  if (salt) wasm.memory.set(salt, 32)\n  if (personal) wasm.memory.set(personal, 48)\n\n  if (this.pointer + 216 > wasm.memory.length) wasm.realloc(this.pointer + 216) // we need 216 bytes for the state\n  wasm.exports.blake2b_init(this.pointer, this.digestLength)\n\n  if (key) {\n    this.update(key)\n    wasm.memory.fill(0, head, head + key.length) // whiteout key\n    wasm.memory[this.pointer + 200] = 128\n  }\n}\n\n\nBlake2b.prototype.update = function (input) {\n  assert(this.finalized === false, 'Hash instance finalized')\n  assert(input, 'input must be TypedArray or Buffer')\n\n  if (head + input.length > wasm.memory.length) wasm.realloc(head + input.length)\n  wasm.memory.set(input, head)\n  wasm.exports.blake2b_update(this.pointer, head, head + input.length)\n  return this\n}\n\nBlake2b.prototype.digest = function (enc) {\n  assert(this.finalized === false, 'Hash instance finalized')\n  this.finalized = true\n\n  freeList.push(this.pointer)\n  wasm.exports.blake2b_final(this.pointer)\n\n  if (!enc || enc === 'binary') {\n    return wasm.memory.slice(this.pointer + 128, this.pointer + 128 + this.digestLength)\n  }\n\n  if (enc === 'hex') {\n    return hexSlice(wasm.memory, this.pointer + 128, this.digestLength)\n  }\n\n  assert(enc.length >= this.digestLength, 'input must be TypedArray or Buffer')\n  for (var i = 0; i < this.digestLength; i++) {\n    enc[i] = wasm.memory[this.pointer + 128 + i]\n  }\n\n  return enc\n}\n\n// libsodium compat\nBlake2b.prototype.final = Blake2b.prototype.digest\n\nBlake2b.WASM = wasm && wasm.buffer\nBlake2b.SUPPORTED = typeof WebAssembly !== 'undefined'\n\nBlake2b.ready = function (cb) {\n  if (!cb) cb = noop\n  if (!wasm) return cb(new Error('WebAssembly not supported'))\n\n  // backwards compat, can be removed in a new major\n  var p = new Promise(function (reject, resolve) {\n    wasm.onload(function (err) {\n      if (err) resolve()\n      else reject()\n      cb(err)\n    })\n  })\n\n  return p\n}\n\nBlake2b.prototype.ready = Blake2b.ready\n\nfunction noop () {}\n\nfunction hexSlice (buf, start, len) {\n  var str = ''\n  for (var i = 0; i < len; i++) str += toHex(buf[start + i])\n  return str\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n","\nmodule.exports = loadWebAssembly\n\nloadWebAssembly.supported = typeof WebAssembly !== 'undefined'\n\nfunction loadWebAssembly (opts) {\n  if (!loadWebAssembly.supported) return null\n\n  var imp = opts && opts.imports\n  var wasm = toUint8Array('AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0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')\n  var ready = null\n\n  var mod = {\n    buffer: wasm,\n    memory: null,\n    exports: null,\n    realloc: realloc,\n    onload: onload\n  }\n\n  onload(function () {})\n\n  return mod\n\n  function realloc (size) {\n    mod.exports.memory.grow(Math.ceil(Math.abs(size - mod.memory.length) / 65536))\n    mod.memory = new Uint8Array(mod.exports.memory.buffer)\n  }\n\n  function onload (cb) {\n    if (mod.exports) return cb()\n\n    if (ready) {\n      ready.then(cb.bind(null, null)).catch(cb)\n      return\n    }\n\n    try {\n      if (opts && opts.async) throw new Error('async')\n      setup({instance: new WebAssembly.Instance(new WebAssembly.Module(wasm), imp)})\n    } catch (err) {\n      ready = WebAssembly.instantiate(wasm, imp).then(setup)\n    }\n\n    onload(cb)\n  }\n\n  function setup (w) {\n    mod.exports = w.instance.exports\n    mod.memory = mod.exports.memory && mod.exports.memory.buffer && new Uint8Array(mod.exports.memory.buffer)\n  }\n}\n\nfunction toUint8Array (s) {\n  if (typeof atob === 'function') return new Uint8Array(atob(s).split('').map(charCodeAt))\n  return new (require('buf' + 'fer').Buffer)(s, 'base64')\n}\n\nfunction charCodeAt (c) {\n  return c.charCodeAt(0)\n}\n","var assert = require('nanoassert')\nvar randombytes_buf = require('./randombytes').randombytes_buf\nvar blake2b = require('blake2b')\n\nmodule.exports.crypto_kdf_PRIMITIVE = 'blake2b'\nmodule.exports.crypto_kdf_BYTES_MIN = 16\nmodule.exports.crypto_kdf_BYTES_MAX = 64\nmodule.exports.crypto_kdf_CONTEXTBYTES = 8\nmodule.exports.crypto_kdf_KEYBYTES = 32\n\nfunction STORE64_LE(dest, int) {\n  var mul = 1\n  var i = 0\n  dest[0] = int & 0xFF\n  while (++i < 8 && (mul *= 0x100)) {\n    dest[i] = (int / mul) & 0xFF\n  }\n}\n\nmodule.exports.crypto_kdf_derive_from_key = function crypto_kdf_derive_from_key (subkey, subkey_id, ctx, key) {\n  assert(subkey.length >= module.exports.crypto_kdf_BYTES_MIN, 'subkey must be at least crypto_kdf_BYTES_MIN')\n  assert(subkey_id >= 0 && subkey_id <= 0x1fffffffffffff, 'subkey_id must be safe integer')\n  assert(ctx.length >= module.exports.crypto_kdf_CONTEXTBYTES, 'context must be at least crypto_kdf_CONTEXTBYTES')\n\n  var ctx_padded = new Uint8Array(blake2b.PERSONALBYTES)\n  var salt = new Uint8Array(blake2b.SALTBYTES)\n\n  ctx_padded.set(ctx, 0, module.exports.crypto_kdf_CONTEXTBYTES)\n  STORE64_LE(salt, subkey_id)\n\n  var outlen = Math.min(subkey.length, module.exports.crypto_kdf_BYTES_MAX)\n  blake2b(outlen, key.subarray(0, module.exports.crypto_kdf_KEYBYTES), salt, ctx_padded, true)\n    .final(subkey)\n}\n\nmodule.exports.crypto_kdf_keygen = function crypto_kdf_keygen (out) {\n  assert(out.length >= module.exports.crypto_kdf_KEYBYTES, 'out.length must be crypto_kdf_KEYBYTES')\n  randombytes_buf(out.subarray(0, module.exports.crypto_kdf_KEYBYTES))\n}\n","var siphash = require('siphash24')\n\nexports.crypto_shorthash_PRIMITIVE = 'siphash24'\nexports.crypto_shorthash_BYTES = siphash.BYTES\nexports.crypto_shorthash_KEYBYTES = siphash.KEYBYTES\nexports.crypto_shorthash_WASM_SUPPORTED = siphash.WASM_SUPPORTED\nexports.crypto_shorthash_WASM_LOADED = siphash.WASM_LOADED\nexports.crypto_shorthash = shorthash\n\nfunction shorthash (out, data, key, noAssert) {\n  siphash(data, key, out, noAssert)\n}\n","var wasm = require('./siphash24')\nvar fallback = require('./fallback')\nvar assert = require('nanoassert')\n\nmodule.exports = siphash24\n\nvar BYTES = siphash24.BYTES = 8\nvar KEYBYTES = siphash24.KEYBYTES = 16\nvar mod = wasm()\n\nsiphash24.WASM_SUPPORTED = typeof WebAssembly !== 'undefined'\nsiphash24.WASM_LOADED = false\n\nif (mod) {\n  mod.onload(function (err) {\n    siphash24.WASM_LOADED = !err\n  })\n}\n\nfunction siphash24 (data, key, out, noAssert) {\n  if (!out) out = new Uint8Array(8)\n\n  if (noAssert !== true) {\n    assert(out.length >= BYTES, 'output must be at least ' + BYTES)\n    assert(key.length >= KEYBYTES, 'key must be at least ' + KEYBYTES)\n  }\n\n  if (mod && mod.exports) {\n    if (data.length + 24 > mod.memory.length) mod.realloc(data.length + 24)\n    mod.memory.set(key, 8)\n    mod.memory.set(data, 24)\n    mod.exports.siphash(24, data.length)\n    out.set(mod.memory.subarray(0, 8))\n  } else {\n    fallback(out, data, key)\n  }\n\n  return out\n}\n","\nmodule.exports = loadWebAssembly\n\nloadWebAssembly.supported = typeof WebAssembly !== 'undefined'\n\nfunction loadWebAssembly (opts) {\n  if (!loadWebAssembly.supported) return null\n\n  var imp = opts && opts.imports\n  var wasm = toUint8Array('AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=')\n  var ready = null\n\n  var mod = {\n    buffer: wasm,\n    memory: null,\n    exports: null,\n    realloc: realloc,\n    onload: onload\n  }\n\n  onload(function () {})\n\n  return mod\n\n  function realloc (size) {\n    mod.exports.memory.grow(Math.max(0, Math.ceil(Math.abs(size - mod.memory.length) / 65536)))\n    mod.memory = new Uint8Array(mod.exports.memory.buffer)\n  }\n\n  function onload (cb) {\n    if (mod.exports) return cb()\n\n    if (ready) {\n      ready.then(cb.bind(null, null)).catch(cb)\n      return\n    }\n\n    try {\n      if (opts && opts.async) throw new Error('async')\n      setup({instance: new WebAssembly.Instance(new WebAssembly.Module(wasm), imp)})\n    } catch (err) {\n      ready = WebAssembly.instantiate(wasm, imp).then(setup)\n    }\n\n    onload(cb)\n  }\n\n  function setup (w) {\n    mod.exports = w.instance.exports\n    mod.memory = mod.exports.memory && mod.exports.memory.buffer && new Uint8Array(mod.exports.memory.buffer)\n  }\n}\n\nfunction toUint8Array (s) {\n  if (typeof atob === 'function') return new Uint8Array(atob(s).split('').map(charCodeAt))\n  return new (require('buf' + 'fer').Buffer)(s, 'base64')\n}\n\nfunction charCodeAt (c) {\n  return c.charCodeAt(0)\n}\n","module.exports = fallback\n\nfunction _add (a, b) {\n  var rl = a.l + b.l\n  var a2 = {\n    h: a.h + b.h + (rl / 2 >>> 31) >>> 0,\n    l: rl >>> 0\n  }\n  a.h = a2.h\n  a.l = a2.l\n}\n\nfunction _xor (a, b) {\n  a.h ^= b.h\n  a.h >>>= 0\n  a.l ^= b.l\n  a.l >>>= 0\n}\n\nfunction _rotl (a, n) {\n  var a2 = {\n    h: a.h << n | a.l >>> (32 - n),\n    l: a.l << n | a.h >>> (32 - n)\n  }\n  a.h = a2.h\n  a.l = a2.l\n}\n\nfunction _rotl32 (a) {\n  var al = a.l\n  a.l = a.h\n  a.h = al\n}\n\nfunction _compress (v0, v1, v2, v3) {\n  _add(v0, v1)\n  _add(v2, v3)\n  _rotl(v1, 13)\n  _rotl(v3, 16)\n  _xor(v1, v0)\n  _xor(v3, v2)\n  _rotl32(v0)\n  _add(v2, v1)\n  _add(v0, v3)\n  _rotl(v1, 17)\n  _rotl(v3, 21)\n  _xor(v1, v2)\n  _xor(v3, v0)\n  _rotl32(v2)\n}\n\nfunction _get_int (a, offset) {\n  return (a[offset + 3] << 24) | (a[offset + 2] << 16) | (a[offset + 1] << 8) | a[offset]\n}\n\nfunction fallback (out, m, key) { // modified from https://github.com/jedisct1/siphash-js to use uint8arrays\n  var k0 = {h: _get_int(key, 4), l: _get_int(key, 0)}\n  var k1 = {h: _get_int(key, 12), l: _get_int(key, 8)}\n  var v0 = {h: k0.h, l: k0.l}\n  var v2 = k0\n  var v1 = {h: k1.h, l: k1.l}\n  var v3 = k1\n  var mi\n  var mp = 0\n  var ml = m.length\n  var ml7 = ml - 7\n  var buf = new Uint8Array(new ArrayBuffer(8))\n\n  _xor(v0, {h: 0x736f6d65, l: 0x70736575})\n  _xor(v1, {h: 0x646f7261, l: 0x6e646f6d})\n  _xor(v2, {h: 0x6c796765, l: 0x6e657261})\n  _xor(v3, {h: 0x74656462, l: 0x79746573})\n\n  while (mp < ml7) {\n    mi = {h: _get_int(m, mp + 4), l: _get_int(m, mp)}\n    _xor(v3, mi)\n    _compress(v0, v1, v2, v3)\n    _compress(v0, v1, v2, v3)\n    _xor(v0, mi)\n    mp += 8\n  }\n\n  buf[7] = ml\n  var ic = 0\n  while (mp < ml) {\n    buf[ic++] = m[mp++]\n  }\n  while (ic < 7) {\n    buf[ic++] = 0\n  }\n\n  mi = {\n    h: buf[7] << 24 | buf[6] << 16 | buf[5] << 8 | buf[4],\n    l: buf[3] << 24 | buf[2] << 16 | buf[1] << 8 | buf[0]\n  }\n\n  _xor(v3, mi)\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n  _xor(v0, mi)\n  _xor(v2, { h: 0, l: 0xff })\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n\n  var h = v0\n  _xor(h, v1)\n  _xor(h, v2)\n  _xor(h, v3)\n\n  out[0] = h.l & 0xff\n  out[1] = (h.l >> 8) & 0xff\n  out[2] = (h.l >> 16) & 0xff\n  out[3] = (h.l >> 24) & 0xff\n  out[4] = h.h & 0xff\n  out[5] = (h.h >> 8) & 0xff\n  out[6] = (h.h >> 16) & 0xff\n  out[7] = (h.h >> 24) & 0xff\n}\n","'use strict';\n\nif (!process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = nextTick;\n} else {\n  module.exports = process.nextTick;\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n","module.exports = Symbol.for('util.inspect.custom')\n","\nmodule.exports = function prettyHash (buf) {\n  if (Buffer.isBuffer(buf)) buf = buf.toString('hex')\n  if (typeof buf === 'string' && buf.length > 8) {\n    return buf.slice(0, 6) + '..' + buf.slice(-2)\n  }\n  return buf\n}","var protocol = require('hypercore-protocol')\nvar bitfield = require('fast-bitfield')\nvar set = require('unordered-set')\nvar rle = require('bitfield-rle').align(4)\nvar safeBufferEquals = require('./safe-buffer-equals')\nvar treeIndex = require('./tree-index')\n\nvar EMPTY = new Uint8Array(1024)\n\nmodule.exports = replicate\n\nfunction replicate (feed, opts) {\n  var stream = opts.stream\n\n  if (!stream) {\n    if (!opts.expectedFeeds) opts.expectedFeeds = 1\n    if (!opts.id) opts.id = feed.id\n    stream = protocol(opts)\n  }\n\n  feed.ready(function (err) {\n    if (err) return stream.destroy(err)\n    if (stream.destroyed) return\n\n    var peer = new Peer(feed, opts)\n    peer.feed = feed\n    peer.stream = stream.feed(feed.key, {peer: peer})\n\n    peer.remoteId = stream.remoteId\n    stream.setMaxListeners(0)\n    stream.on('handshake', function () {\n      if (safeBufferEquals(peer.remoteId, stream.remoteId)) {\n        return\n      }\n      peer.remoteId = stream.remoteId\n      if (!triggerReady()) {\n        peer.feed.emit('remote-update', peer)\n      }\n    })\n    var firstTime = true\n\n    triggerReady()\n\n    function triggerReady () {\n      if (firstTime && peer.remoteId) {\n        firstTime = false\n\n        // stream might get destroyed on feed init in case of conf errors\n        if (stream.destroyed) return false\n\n        peer.ready()\n        return true\n      }\n      return false\n    }\n  })\n\n  return stream\n}\n\nfunction Peer (feed, opts) {\n  this.feed = feed\n  this.stream = null // set by replicate just after creation\n  this.remoteId = null\n  this.wants = bitfield()\n  this.remoteBitfield = bitfield()\n  this.remoteLength = 0\n  this.remoteWant = false\n  this.remoteTree = null\n  this.live = !!opts.live\n  this.sparse = feed.sparse\n\n  this.remoteDownloading = true\n  this.downloading = typeof opts.download === 'boolean' ? opts.download : !feed.writable\n  this.uploading = true\n\n  this.maxRequests = opts.maxRequests || feed.maxRequests || 16\n  this.inflightRequests = []\n  this.inflightWants = 0\n\n  this._index = -1\n  this._lastBytes = 0\n  this._first = true\n  this._closed = false\n  this._destroyed = false\n  this._defaultDownloading = this.downloading\n  this._iterator = this.remoteBitfield.iterator()\n\n  this._stats = !opts.stats ? null : {\n    uploadedBytes: 0,\n    uploadedBlocks: 0,\n    downloadedBytes: 0,\n    downloadedBlocks: 0\n  }\n}\n\nPeer.prototype.onwant = function (want) {\n  if ((want.start & 8191) || (want.length & 8191)) return\n  if (!this.remoteWant && this.feed.length && this.feed.bitfield.get(this.feed.length - 1)) {\n    // Eagerly send the length of the feed to the otherside\n    // TODO: only send this if the remote is not wanting a region\n    // where this is contained in\n    this.stream.have({ start: this.feed.length - 1 })\n  }\n  this.remoteWant = true\n  var rle = this.feed.bitfield.compress(want.start, want.length)\n  this.stream.have({start: want.start, length: want.length, bitfield: rle})\n}\n\nPeer.prototype.ondata = function (data) {\n  var self = this\n\n  // Ignore unrequested messages unless we allow push\n  // TODO: would be better to check if the byte range was requested instead, but this works fine\n  var allowPush = this.feed.allowPush || !data.value\n  if (!allowPush && !this.feed._reserved.get(data.index)) {\n    // If we do not have this block, send back unhave message for this index,\n    // to let the remote know we rejected it.\n    // TODO: we might want to have some \"unwanted push\" threshold to punish spammers\n    if (!self.feed.bitfield.get(data.index)) self.unhave({start: data.index})\n    self._clear(data.index, !data.value)\n    return\n  }\n\n  this.feed._putBuffer(data.index, data.value, data, this, function (err) {\n    if (err) return self.destroy(err)\n    if (data.value) self.remoteBitfield.set(data.index, false)\n    if (self._stats && data.value) {\n      self._stats.downloadedBlocks += 1\n      self._stats.downloadedBytes += data.value.length\n    }\n    self._clear(data.index, !data.value)\n  })\n}\n\nPeer.prototype._clear = function (index, hash) {\n  // TODO: optimize me (no splice and do not run through all ...)\n  for (var i = 0; i < this.inflightRequests.length; i++) {\n    if (this.inflightRequests[i].index === index) {\n      this.inflightRequests.splice(i, 1)\n      i--\n    }\n  }\n\n  this.feed._reserved.set(index, false)\n  // TODO: only update all if we have overlapping selections\n  this.feed._updatePeers()\n}\n\nPeer.prototype.onrequest = function (request) {\n  if (request.bytes) return this._onbytes(request)\n\n  // lazily instantiate the remote tree\n  if (!this.remoteTree) this.remoteTree = treeIndex()\n\n  var self = this\n  var opts = {digest: request.nodes, hash: request.hash, tree: this.remoteTree}\n\n  this.feed.proof(request.index, opts, onproof)\n\n  function onproof (err, proof) {\n    if (err) return self.destroy(err)\n    if (request.hash) onvalue(null, null)\n    else if (self.feed.bitfield.get(request.index)) self.feed._getBuffer(request.index, onvalue)\n\n    function onvalue (err, value) {\n      if (err) return self.destroy(err)\n\n      if (value) {\n        if (self._stats) {\n          self._stats.uploadedBlocks += 1\n          self._stats.uploadedBytes += value.length\n          self.feed._stats.uploadedBlocks += 1\n          self.feed._stats.uploadedBytes += value.length\n        }\n        self.feed.emit('upload', request.index, value, self)\n      }\n\n      // TODO: prob not needed with new bitfield\n      if (request.index + 1 > self.remoteLength) {\n        self.remoteLength = request.index + 1\n        self._updateEnd()\n      }\n\n      self.stream.data({\n        index: request.index,\n        value: value,\n        nodes: proof.nodes,\n        signature: proof.signature\n      })\n    }\n  }\n}\n\nPeer.prototype._onbytes = function (request) {\n  var self = this\n\n  this.feed.seek(request.bytes, {wait: false}, function (err, index) {\n    if (err) {\n      request.bytes = 0\n      self.onrequest(request)\n      return\n    }\n\n    // quick'n'dirty filter for parallel bytes requests\n    // it does not matter that this doesn't catch ALL parallel requests - just a bandwidth optimization\n    if (self._lastBytes === request.bytes) return\n    self._lastBytes = request.bytes\n\n    request.bytes = 0\n    request.index = index\n    request.nodes = 0\n\n    self.onrequest(request)\n  })\n}\n\nPeer.prototype.ontick = function () {\n  if (!this.inflightRequests.length) return\n\n  var first = this.inflightRequests[0]\n  if (--first.tick) return\n\n  if (first.hash ? this.feed.tree.get(2 * first.index) : this.feed.bitfield.get(first.index)) {\n    // prob a bytes response\n    this.inflightRequests.shift()\n    this.feed._reserved.set(first.index, false)\n    return\n  }\n\n  this.destroy(new Error('Request timeout'))\n}\n\nPeer.prototype.onhave = function (have) {\n  var updated = this._first\n  if (this._first) this._first = false\n\n  if (have.length === 1024 * 1024) {\n    this.inflightWants--\n  }\n\n  if (have.bitfield) { // TODO: handle start !== 0\n    if (have.length === 0 || have.length === 1) { // length === 1 is for backwards compat\n      this.wants = null // we are in backwards compat mode where we subscribe everything\n    }\n    var buf = rle.decode(have.bitfield)\n    var bits = buf.length * 8\n    remoteAndNotLocal(this.feed.bitfield, buf, this.remoteBitfield.littleEndian, have.start)\n    this.remoteBitfield.fill(buf, have.start)\n    if (bits > this.remoteLength) {\n      this.remoteLength = this.remoteBitfield.last() + 1\n      updated = true\n    }\n  } else {\n    // TODO: if len > something simply copy a 0b1111... buffer to the bitfield\n\n    var start = have.start\n    var len = have.length || 1\n\n    while (len--) this.remoteBitfield.set(start, !this.feed.bitfield.get(start++))\n    if (start > this.remoteLength) {\n      this.remoteLength = start\n      updated = true\n    }\n  }\n\n  if (updated) {\n    this.feed.emit('remote-update', this)\n  }\n\n  this._updateEnd()\n  this.update()\n}\n\nPeer.prototype._updateEnd = function () {\n  if (this.live || this.feed.sparse || !this.feed._selections.length) return\n\n  var sel = this.feed._selections[0]\n  var remoteLength = this.feed.length || -1\n\n  for (var i = 0; i < this.feed.peers.length; i++) {\n    if (this.feed.peers[i].remoteLength > remoteLength) {\n      remoteLength = this.feed.peers[i].remoteLength\n    }\n  }\n\n  sel.end = remoteLength\n}\n\nPeer.prototype.oninfo = function (info) {\n  this.remoteDownloading = info.downloading\n  if (info.downloading || this.live) return\n  this.update()\n  if (this.feed._selections.length && this.downloading) return\n  this.end()\n}\n\nPeer.prototype.onunhave = function (unhave) {\n  var start = unhave.start\n  var len = unhave.length || 1\n\n  while (len--) this.remoteBitfield.set(start++, false)\n}\n\nPeer.prototype.onunwant =\nPeer.prototype.oncancel = function () {\n  // TODO: impl all of me\n}\n\nPeer.prototype.onclose = function () {\n  this.destroy()\n}\n\nPeer.prototype.have = function (have) { // called by feed\n  if (this.stream && this.remoteWant) this.stream.have(have)\n  var start = have.start\n  var len = have.length\n  while (len--) this.remoteBitfield.set(start++, false)\n}\n\nPeer.prototype.unhave = function (unhave) { // called by feed\n  if (this.stream && this.remoteWant) this.stream.unhave(unhave)\n}\n\nPeer.prototype.haveBytes = function (bytes) { // called by feed\n  for (var i = 0; i < this.inflightRequests.length; i++) {\n    if (this.inflightRequests[i].bytes === bytes) {\n      this.feed._reserved.set(this.inflightRequests[i].index, false)\n      this.inflightRequests.splice(i, 1)\n      i--\n    }\n  }\n\n  this.update()\n}\n\nPeer.prototype.update = function () {\n  // do nothing\n  while (this._update()) {}\n  this._sendWantsMaybe()\n}\n\nPeer.prototype._update = function () {\n  // should return true if mutated false if not\n  if (!this.downloading) return false\n\n  var selections = this.feed._selections\n  var waiting = this.feed._waiting\n  var wlen = waiting.length\n  var slen = selections.length\n  var inflight = this.inflightRequests.length\n  var offset = 0\n  var i = 0\n\n  // TODO: less duplicate code here\n  // TODO: re-add priority levels\n\n  while (inflight < this.maxRequests) {\n    offset = Math.floor(Math.random() * waiting.length)\n\n    for (i = 0; i < waiting.length; i++) {\n      var w = waiting[offset++]\n      if (offset === waiting.length) offset = 0\n\n      this._downloadWaiting(w)\n      if (waiting.length !== wlen) return true // mutated\n      if (this.inflightRequests.length >= this.maxRequests) return false\n    }\n    if (inflight === this.inflightRequests.length) break\n    inflight = this.inflightRequests.length\n  }\n\n  while (inflight < this.maxRequests) {\n    offset = Math.floor(Math.random() * selections.length)\n\n    for (i = 0; i < selections.length; i++) {\n      var s = selections[offset++]\n      if (offset === selections.length) offset = 0\n\n      if (!s.iterator) s.iterator = this.feed.bitfield.iterator(s.start, s.end)\n      this._downloadRange(s)\n      if (selections.length !== slen) return true // mutated\n      if (this.inflightRequests.length >= this.maxRequests) return false\n    }\n\n    if (inflight === this.inflightRequests.length) return false\n    inflight = this.inflightRequests.length\n  }\n\n  return false\n}\n\nPeer.prototype.ready = function () {\n  set.add(this.feed.peers, this)\n  this._sendWants()\n  this.feed.emit('peer-add', this)\n}\n\nPeer.prototype.end = function () {\n  if (!this.downloading && !this.remoteDownloading && !this.live) {\n    if (!this._defaultDownloading) {\n      this.stream.info({downloading: false, uploading: false})\n    }\n    this._close()\n    return\n  }\n  if (!this._closed) {\n    this._closed = true\n    this.downloading = false\n    this.stream.info({downloading: false, uploading: true})\n  } else {\n    if (!this.live) this._close()\n  }\n}\n\nPeer.prototype._close = function () {\n  if (this._index === -1) return\n  if (!this._destroyed) {\n    this.stream.close()\n    this._destroyed = true\n  }\n  set.remove(this.feed.peers, this)\n  this._index = -1\n  for (var i = 0; i < this.inflightRequests.length; i++) {\n    this.feed._reserved.set(this.inflightRequests[i].index, false)\n  }\n  this._updateEnd()\n  this.remoteWant = false\n  this.feed._updatePeers()\n  this.feed.emit('peer-remove', this)\n}\n\nPeer.prototype.destroy = function (err) {\n  if (this._index === -1 || this._destroyed) return\n  this.stream.destroy(err)\n  this._destroyed = true\n  this._close()\n}\n\nPeer.prototype._sendWantsMaybe = function () {\n  if (this.inflightRequests.length < this.maxRequests) this._sendWants()\n}\n\nPeer.prototype._sendWants = function () {\n  if (!this.wants || !this.downloading) return\n  if (this.inflightWants >= 16) return\n\n  var i\n\n  for (i = 0; i < this.feed._waiting.length; i++) {\n    var w = this.feed._waiting[i]\n    if (w.index === -1) this._sendWantRange(w)\n    else this._sendWant(w.index)\n    if (this.inflightWants >= 16) return\n  }\n\n  for (i = 0; i < this.feed._selections.length; i++) {\n    var s = this.feed._selections[i]\n    this._sendWantRange(s)\n    if (this.inflightWants >= 16) return\n  }\n\n  // always sub to the first range for now, usually what you want\n  this._sendWant(0)\n}\n\nPeer.prototype._sendWantRange = function (s) {\n  var want = 0\n\n  while (true) {\n    if (want >= this.remoteLength) return\n    if (s.end !== -1 && want >= s.end) return\n\n    if (this._sendWant(want)) return\n\n    // check if region is already selected - if so try next one\n    if (!this.wants.get(Math.floor(want / 1024 / 1024))) return\n    want += 1024 * 1024\n  }\n}\n\nPeer.prototype._sendWant = function (index) {\n  var len = 1024 * 1024\n  var j = Math.floor(index / len)\n  if (this.wants.get(j)) return false\n  this.wants.set(j, true)\n  this.inflightWants++\n  this.stream.want({start: j * len, length: len})\n  return true\n}\n\nPeer.prototype._downloadWaiting = function (wait) {\n  if (!wait.bytes) {\n    if (!this.remoteBitfield.get(wait.index) || !this.feed._reserved.set(wait.index, true)) return\n    this._request(wait.index, 0, false)\n    return\n  }\n\n  this._downloadRange(wait)\n}\n\nPeer.prototype._downloadRange = function (range) {\n  if (!range.iterator) range.iterator = this.feed.bitfield.iterator(range.start, range.end)\n\n  var reserved = this.feed._reserved\n  var ite = this._iterator\n  var wantedEnd = Math.min(range.end === -1 ? this.remoteLength : range.end, this.remoteLength)\n\n  var i = range.linear ? ite.seek(range.start).next(true) : nextRandom(ite, range.start, wantedEnd)\n  var start = i\n\n  if (i === -1 || i >= wantedEnd) {\n    if (!range.bytes && range.end > -1 && this.feed.length >= range.end && range.iterator.seek(0).next() === -1) {\n      set.remove(this.feed._selections, range)\n      range.callback(null)\n      if (!this.live && !this.sparse && !this.feed._selections.length) this.end()\n    }\n    return\n  }\n\n  while ((range.hash && this.feed.tree.get(2 * i)) || !reserved.set(i, true)) {\n    i = ite.next(true)\n\n    if (i > -1 && i < wantedEnd) {\n      // check this index\n      continue\n    }\n\n    if (!range.linear && start !== 0) {\n      // retry from the beginning since we are iterating randomly and started !== 0\n      i = ite.seek(range.start).next(true)\n      start = 0\n      if (i > -1 && i < wantedEnd) continue\n    }\n\n    // we have checked all indexes.\n    // if we are looking for hashes we should check if we have all now (first check only checks blocks)\n    if (range.hash) {\n      // quick'n'dirty check if have all hashes - can be optimized be checking only tree roots\n      // but we don't really request long ranges of hashes so yolo\n      for (var j = range.start; j < wantedEnd; j++) {\n        if (!this.feed.tree.get(2 * j)) return\n      }\n      if (!range.bytes) {\n        set.remove(this.feed._selections, range)\n        range.callback(null)\n      }\n    }\n\n    // exit the update loop - nothing to do\n    return\n  }\n\n  this._request(i, range.bytes || 0, range.hash)\n}\n\nPeer.prototype._request = function (index, bytes, hash) {\n  var request = {\n    tick: 6,\n    bytes: bytes,\n    index: index,\n    hash: hash,\n    nodes: this.feed.digest(index)\n  }\n\n  this.inflightRequests.push(request)\n  this.stream.request(request)\n}\n\nfunction createView (page) {\n  var buf = page ? page.buffer : EMPTY\n  return new DataView(buf.buffer, buf.byteOffset, 1024)\n}\n\nfunction remoteAndNotLocal (local, buf, le, start) {\n  var remote = new DataView(buf.buffer, buf.byteOffset)\n  var len = Math.floor(buf.length / 4)\n  var arr = new Uint32Array(buf.buffer, buf.byteOffset, len)\n  var p = start / 8192 // 8192 is bits per bitfield page\n  var l = 0\n  var page = createView(local.pages.get(p++, true))\n\n  for (var i = 0; i < len; i++) {\n    arr[i] = remote.getUint32(4 * i, !le) & ~page.getUint32(4 * (l++), !le)\n\n    if (l === 256) {\n      page = createView(local.pages.get(p++, true))\n      l = 0\n    }\n  }\n}\n\nfunction nextRandom (ite, start, end) {\n  var len = end - start\n  var i = ite.seek(Math.floor(Math.random() * len) + start).next(true)\n  return i === -1 || i >= end ? ite.seek(start).next(true) : i\n}\n","module.exports = encode\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31)\n\nfunction encode(num, out, offset) {\n  out = out || []\n  offset = offset || 0\n  var oldOffset = offset\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB\n    num /= 128\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB\n    num >>>= 7\n  }\n  out[offset] = num | 0\n  \n  encode.bytes = offset - oldOffset + 1\n  \n  return out\n}\n","module.exports = read\n\nvar MSB = 0x80\n  , REST = 0x7F\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length\n\n  do {\n    if (counter >= l) {\n      read.bytes = 0\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++]\n    res += shift < 28\n      ? (b & REST) << shift\n      : (b & REST) * Math.pow(2, shift)\n    shift += 7\n  } while (b >= MSB)\n\n  read.bytes = counter - offset\n\n  return res\n}\n","\nvar N1 = Math.pow(2,  7)\nvar N2 = Math.pow(2, 14)\nvar N3 = Math.pow(2, 21)\nvar N4 = Math.pow(2, 28)\nvar N5 = Math.pow(2, 35)\nvar N6 = Math.pow(2, 42)\nvar N7 = Math.pow(2, 49)\nvar N8 = Math.pow(2, 56)\nvar N9 = Math.pow(2, 63)\n\nmodule.exports = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n}\n","module.exports = indexOf\n\nfunction indexOf (left, right) {\n  var result = new Array(right.length)\n  var i = 0\n  var j = 0\n\n  while (i < left.length && j < right.length) {\n    var a = left[i]\n    var b = right[j]\n\n    if (a === b) {\n      result[j++] = i\n      continue\n    }\n\n    if (a < b) {\n      i++\n      continue\n    }\n\n    result[j++] = -1\n    continue\n  }\n\n  for (; j < right.length; j++) result[j] = -1\n\n  return result\n}\n","var events = require('events')\nvar inherits = require('inherits')\nvar varint = require('varint')\nvar messages = require('./messages')\nvar bufferAlloc = require('buffer-alloc-unsafe')\n\nmodule.exports = Feed\n\nfunction Feed (stream) {\n  if (!(this instanceof Feed)) return new Feed(stream)\n  events.EventEmitter.call(this)\n\n  this.key = null\n  this.discoveryKey = null\n  this.stream = stream\n  this.peer = null // support a peer object to avoid event emitter + closures overhead\n\n  this.id = -1\n  this.remoteId = -1\n  this.header = 0\n  this.headerLength = 0\n  this.closed = false\n\n  this._buffer = []\n}\n\ninherits(Feed, events.EventEmitter)\n\nFeed.prototype.handshake = function (message) {\n  return this._send(1, messages.Handshake, message)\n}\n\nFeed.prototype.info = function (message) {\n  return this._send(2, messages.Info, message)\n}\n\nFeed.prototype.have = function (message) {\n  return this._send(3, messages.Have, message)\n}\n\nFeed.prototype.unhave = function (message) {\n  return this._send(4, messages.Unhave, message)\n}\n\nFeed.prototype.want = function (message) {\n  return this._send(5, messages.Want, message)\n}\n\nFeed.prototype.unwant = function (message) {\n  return this._send(6, messages.Unwant, message)\n}\n\nFeed.prototype.request = function (message) {\n  return this._send(7, messages.Request, message)\n}\n\nFeed.prototype.cancel = function (message) {\n  return this._send(8, messages.Cancel, message)\n}\n\nFeed.prototype.data = function (message) {\n  return this._send(9, messages.Data, message)\n}\n\nFeed.prototype.extension = function (type, message) {\n  var id = this.stream.extensions.indexOf(type)\n  if (id === -1) return false\n\n  var header = this.header | 15\n  var len = this.headerLength + varint.encodingLength(id) + message.length\n  var box = bufferAlloc(varint.encodingLength(len) + len)\n  var offset = 0\n\n  varint.encode(len, box, offset)\n  offset += varint.encode.bytes\n\n  varint.encode(header, box, offset)\n  offset += varint.encode.bytes\n\n  varint.encode(id, box, offset)\n  offset += varint.encode.bytes\n\n  message.copy(box, offset)\n  return this.stream._push(box)\n}\n\nFeed.prototype.remoteSupports = function (name) {\n  return this.stream.remoteSupports(name)\n}\n\nFeed.prototype.destroy = function (err) {\n  this.stream.destroy(err)\n}\n\nFeed.prototype.close = function () {\n  var i = this.stream.feeds.indexOf(this)\n\n  if (i > -1) {\n    this.stream.feeds[i] = this.stream.feeds[this.stream.feeds.length - 1]\n    this.stream.feeds.pop()\n    this.stream._localFeeds[this.id] = null\n    this.id = -1\n\n    if (this.stream.destroyed) return\n    if (this.stream.expectedFeeds <= 0 || --this.stream.expectedFeeds) return\n\n    this.stream._prefinalize()\n  }\n}\n\nFeed.prototype._onclose = function () {\n  if (this.closed) return\n  this.closed = true\n\n  if (!this.stream.destroyed) {\n    this.close()\n    if (this.remoteId > -1) this.stream._remoteFeeds[this.remoteId] = null\n    var hex = this.discoveryKey.toString('hex')\n    if (this.stream._feeds[hex] === this) delete this.stream._feeds[hex]\n  }\n\n  if (this.peer) this.peer.onclose()\n  else this.emit('close')\n}\n\nFeed.prototype._resume = function () {\n  var self = this\n  process.nextTick(resume)\n\n  function resume () {\n    while (self._buffer.length) {\n      var next = self._buffer.shift()\n      self._emit(next.type, next.message)\n    }\n    self._buffer = null\n  }\n}\n\nFeed.prototype._onextension = function (data, start, end) {\n  if (end <= start) return\n\n  var id = varint.decode(data, start)\n  var r = this.stream.remoteExtensions\n  var localId = !r || id >= r.length ? -1 : r[id]\n\n  if (localId === -1) return\n\n  var message = data.slice(start + varint.decode.bytes, end)\n  var name = this.stream.extensions[localId]\n\n  if (this.peer && this.peer.onextension) this.peer.onextension(name, message)\n  else this.emit('extension', name, message)\n}\n\nFeed.prototype._onmessage = function (type, data, start, end) {\n  var message = decodeMessage(type, data, start, end)\n  if (!message || this.closed) return\n\n  if (type === 1) return this.stream._onhandshake(message)\n\n  if (!this._buffer) {\n    this._emit(type, message)\n    return\n  }\n\n  if (this._buffer.length > 16) {\n    this.destroy(new Error('Remote sent too many messages on an unopened feed'))\n    return\n  }\n\n  this._buffer.push({type: type, message: message})\n}\n\nFeed.prototype._emit = function (type, message) {\n  if (this.peer) {\n    switch (type) {\n      case 2: return this.peer.oninfo(message)\n      case 3: return this.peer.onhave(message)\n      case 4: return this.peer.onunhave(message)\n      case 5: return this.peer.onwant(message)\n      case 6: return this.peer.onunwant(message)\n      case 7: return this.peer.onrequest(message)\n      case 8: return this.peer.oncancel(message)\n      case 9: return this.peer.ondata(message)\n    }\n  } else {\n    switch (type) {\n      case 2: return this.emit('info', message)\n      case 3: return this.emit('have', message)\n      case 4: return this.emit('unhave', message)\n      case 5: return this.emit('want', message)\n      case 6: return this.emit('unwant', message)\n      case 7: return this.emit('request', message)\n      case 8: return this.emit('cancel', message)\n      case 9: return this.emit('data', message)\n    }\n  }\n}\n\nFeed.prototype._send = function (type, enc, message) {\n  var header = this.header | type\n  var len = this.headerLength + enc.encodingLength(message)\n  var box = bufferAlloc(varint.encodingLength(len) + len)\n  var offset = 0\n\n  varint.encode(len, box, offset)\n  offset += varint.encode.bytes\n\n  varint.encode(header, box, offset)\n  offset += varint.encode.bytes\n\n  enc.encode(message, box, offset)\n\n  return this.stream._push(box)\n}\n\nfunction decodeMessage (type, data, start, end) {\n  switch (type) {\n    case 1: return decode(messages.Handshake, data, start, end)\n    case 2: return decode(messages.Info, data, start, end)\n    case 3: return decode(messages.Have, data, start, end)\n    case 4: return decode(messages.Unhave, data, start, end)\n    case 5: return decode(messages.Want, data, start, end)\n    case 6: return decode(messages.Unwant, data, start, end)\n    case 7: return decode(messages.Request, data, start, end)\n    case 8: return decode(messages.Cancel, data, start, end)\n    case 9: return decode(messages.Data, data, start, end)\n  }\n}\n\nfunction decode (enc, data, start, end) {\n  try {\n    return enc.decode(data, start, end)\n  } catch (err) {\n    return null\n  }\n}\n","var varint = require('varint')\nexports.encode = function encode (v, b, o) {\n  v = v >= 0 ? v*2 : v*-2 - 1\n  var r = varint.encode(v, b, o)\n  encode.bytes = varint.encode.bytes\n  return r\n}\nexports.decode = function decode (b, o) {\n  var v = varint.decode(b, o)\n  decode.bytes = varint.decode.bytes\n  return v & 1 ? (v+1) / -2 : v / 2\n}\n\nexports.encodingLength = function (v) {\n  return varint.encodingLength(v >= 0 ? v*2 : v*-2 - 1)\n}\n","'use strict'\n\nconst ctz = require('count-trailing-zeros')\n\nmodule.exports = () => new Bitfield()\n\nclass Page {\n  constructor (level) {\n    const buf = new Uint8Array(level ? 8456 : 4360)\n    const b = buf.byteOffset\n\n    this.buffer = buf\n    this.bits = level ? null : new Uint32Array(buf.buffer, b, 1024)\n    this.children = level ? new Array(32768) : null\n    this.level = level\n\n    this.allOne = level\n      ? [\n        new Uint32Array(buf.buffer, b, 1024),\n        new Uint32Array(buf.buffer, b + 4096, 32),\n        new Uint32Array(buf.buffer, b + 4224, 1)\n      ]\n      : [\n        this.bits,\n        new Uint32Array(buf.buffer, b + 4096, 32),\n        new Uint32Array(buf.buffer, b + 4224, 1)\n      ]\n\n    this.oneOne = level\n      ? [\n        new Uint32Array(buf.buffer, b + 4228, 1024),\n        new Uint32Array(buf.buffer, b + 8324, 32),\n        new Uint32Array(buf.buffer, b + 8452, 1)\n      ]\n      : [\n        this.bits,\n        new Uint32Array(buf.buffer, b + 4228, 32),\n        new Uint32Array(buf.buffer, b + 4356, 1)\n      ]\n  }\n}\n\nconst ZEROS = [new Page(0), new Page(1), new Page(2), new Page(3)]\nconst MASK = new Uint32Array(32)\nconst MASK_INCL = new Uint32Array(32)\n\nfor (var i = 0; i < 32; i++) {\n  MASK[i] = Math.pow(2, 31 - i) - 1\n  MASK_INCL[i] = Math.pow(2, 32 - i) - 1\n}\n\nconst LITTLE_ENDIAN = new Uint8Array(MASK.buffer, MASK.byteOffset, 1)[0] === 0xff\n\nclass Bitfield {\n  constructor () {\n    this.length = 32768\n    this.littleEndian = LITTLE_ENDIAN\n\n    this._path = new Uint16Array(5)\n    this._offsets = new Uint16Array(this._path.buffer, this._path.byteOffset + 2, 4)\n    this._parents = new Array(4).fill(null)\n    this._page = new Page(0)\n    this._allocs = 1\n  }\n\n  last () {\n    var page = this._page\n    var b = 0\n\n    while (true) {\n      for (var i = 2; i >= 0; i--) {\n        const c = ctz(page.oneOne[i][b])\n        if (c === 32) return -1\n        b = (b << 5) + (31 - c)\n      }\n\n      this._path[page.level] = b\n      if (!page.level) return defactor(this._path)\n      page = page.children[b]\n      b = 0\n    }\n  }\n\n  set (index, bit) {\n    const page = this._getPage(index, bit)\n    if (!page) return false\n\n    const i = this._path[0]\n    const r = i & 31\n    const b = i >>> 5\n    const prev = page.bits[b]\n\n    page.bits[b] = bit\n      ? (prev | (0x80000000 >>> r))\n      : (prev & ~(0x80000000 >>> r))\n\n    const upd = page.bits[b]\n    if (upd === prev) return false\n\n    this._updateAllOne(page, b, upd)\n    this._updateOneOne(page, b, upd)\n\n    return true\n  }\n\n  get (index) {\n    const page = this._getPage(index, false)\n    if (!page) return false\n\n    const i = this._path[0]\n    const r = i & 31\n\n    return (page.bits[i >>> 5] & (0x80000000 >>> r)) !== 0\n  }\n\n  iterator () {\n    return new Iterator(this)\n  }\n\n  fill (val, start, end) {\n    if (!start) start = 0\n    if (val === true) return this._fillBit(true, start, end === 0 ? end : (end || this.length))\n    if (val === false) return this._fillBit(false, start, end === 0 ? end : (end || this.length))\n    this._fillBuffer(val, start, end === 0 ? end : (end || (start + 8 * val.length)))\n  }\n\n  grow () {\n    if (this._page.level === 3) throw new Error('Cannot grow beyond ' + this.length)\n    const page = this._page\n    this._page = new Page(page.level + 1)\n    this._page.children[0] = page\n    if (this._page.level === 3) this.length = Number.MAX_SAFE_INTEGER\n    else this.length *= 32768\n  }\n\n  _fillBuffer (buf, start, end) {\n    if ((start & 7) || (end & 7)) throw new Error('Offsets must be a multiple of 8')\n\n    start /= 8\n    while (end > this.length) this.grow()\n    end /= 8\n\n    const offset = start\n    var page = this._getPage(8 * start, true)\n\n    while (start < end) {\n      const delta = end - start < 4096 ? end - start : 4096\n      const s = start - offset\n\n      start += this._setPageBuffer(page, buf.subarray(s, s + delta), start & 1023)\n      if (start !== end) page = this._nextPage(page, 8 * start)\n    }\n  }\n\n  _fillBit (bit, start, end) {\n    var page = this._getPage(start, bit)\n\n    // TODO: this can be optimised a lot in the case of end - start > 32768\n    // in that case clear levels of 32768 ** 2 instead etc\n\n    while (start < end) {\n      const delta = end - start < 32768 ? end - start : 32768\n      start += this._setPageBits(page, bit, start & 32767, delta)\n      if (start !== end) page = this._nextPage(page, start)\n    }\n  }\n\n  _nextPage (page, start) {\n    const i = ++this._offsets[page.level]\n    return i === 32768\n      ? this._getPage(start, true)\n      : this._parents[page.level].children[i] || this._addPage(this._parents[page.level], i)\n  }\n\n  _setPageBuffer (page, buf, start) {\n    new Uint8Array(page.bits.buffer, page.bits.byteOffset, page.bits.length * 4).set(buf, start)\n    start >>>= 2\n    this._update(page, start, start + (buf.length >>> 2) + (buf.length & 3 ? 1 : 0))\n    return buf.length\n  }\n\n  _setPageBits (page, bit, start, end) {\n    const s = start >>> 5\n    const e = end >>> 5\n    const sm = 0xffffffff >>> (start & 31)\n    const em = ~(0xffffffff >>> (end & 31))\n\n    if (s === e) {\n      page.bits[s] = bit\n        ? page.bits[s] | (sm & em)\n        : page.bits[s] & ~(sm & em)\n      this._update(page, s, s + 1)\n      return end - start\n    }\n\n    page.bits[s] = bit\n      ? page.bits[s] | sm\n      : page.bits[s] & (~sm)\n\n    if (e - s > 2) page.bits.fill(bit ? 0xffffffff : 0, s + 1, e - 1)\n\n    if (e === 1024) {\n      page.bits[e - 1] = bit ? 0xffffffff : 0\n      this._update(page, s, e)\n      return end - start\n    }\n\n    page.bits[e] = bit\n      ? page.bits[e] | em\n      : page.bits[e] & (~em)\n\n    this._update(page, s, e + 1)\n    return end - start\n  }\n\n  _update (page, start, end) {\n    for (; start < end; start++) {\n      const upd = page.bits[start]\n      this._updateAllOne(page, start, upd)\n      this._updateOneOne(page, start, upd)\n    }\n  }\n\n  _updateAllOne (page, b, upd) {\n    var i = 1\n\n    do {\n      for (; i < 3; i++) {\n        const buf = page.allOne[i]\n        const r = b & 31\n        const prev = buf[b >>>= 5]\n        buf[b] = upd === 0xffffffff\n          ? (prev | (0x80000000 >>> r))\n          : (prev & ~(0x80000000 >>> r))\n        upd = buf[b]\n        if (upd === prev) return\n      }\n\n      b += this._offsets[page.level]\n      page = this._parents[page.level]\n      i = 0\n    } while (page)\n  }\n\n  _updateOneOne (page, b, upd) {\n    var i = 1\n\n    do {\n      for (; i < 3; i++) {\n        const buf = page.oneOne[i]\n        const r = b & 31\n        const prev = buf[b >>>= 5]\n        buf[b] = upd !== 0\n          ? (prev | (0x80000000 >>> r))\n          : (prev & ~(0x80000000 >>> r))\n        upd = buf[b]\n        if (upd === prev) return\n      }\n\n      b += this._offsets[page.level]\n      page = this._parents[page.level]\n      i = 0\n\n      if (upd === 0 && page) {\n        // all zeros, non root -> free page\n        page.children[this._offsets[page.level - 1]] = undefined\n      }\n    } while (page)\n  }\n\n  _getPage (index, createIfMissing) {\n    factor(index, this._path)\n\n    while (index >= this.length) {\n      if (!createIfMissing) return null\n      this.grow()\n    }\n\n    var page = this._page\n\n    for (var i = page.level; i > 0 && page; i--) {\n      const p = this._path[i]\n      this._parents[i - 1] = page\n      page = page.children[p] || (createIfMissing ? this._addPage(page, p) : null)\n    }\n\n    return page\n  }\n\n  _addPage (page, i) {\n    this._allocs++\n    page = page.children[i] = new Page(page.level - 1)\n    return page\n  }\n}\n\nclass Iterator {\n  constructor (bitfield) {\n    this._bitfield = bitfield\n    this._path = new Uint16Array(5)\n    this._offsets = new Uint16Array(this._path.buffer, this._path.byteOffset + 2, 4)\n    this._parents = new Array(4).fill(null)\n    this._page = null\n    this._allocs = bitfield._allocs\n\n    this.seek(0)\n  }\n\n  seek (index) {\n    this._allocs = this._bitfield._allocs\n\n    if (index >= this._bitfield.length) {\n      this._page = null\n      return this\n    }\n\n    factor(index, this._path)\n\n    this._page = this._bitfield._page\n    for (var i = this._page.level; i > 0; i--) {\n      this._parents[i - 1] = this._page\n      this._page = this._page.children[this._path[i]] || ZEROS[i - 1]\n    }\n\n    return this\n  }\n\n  next (bit) {\n    return bit ? this.nextTrue() : this.nextFalse()\n  }\n\n  nextFalse () {\n    if (this._allocs !== this._bitfield._allocs) {\n      // If a page has been alloced while we are iterating\n      // and we have a zero page in our path we need to reseek\n      // in case that page has been overwritten\n      this.seek(defactor(this._path))\n    }\n\n    var page = this._page\n    var b = this._path[0]\n    var mask = MASK_INCL\n\n    while (page) {\n      for (var i = 0; i < 3; i++) {\n        const r = b & 31\n        const clz = Math.clz32((~page.allOne[i][b >>>= 5]) & mask[r])\n        if (clz !== 32) return this._downLeftFalse(page, i, b, clz)\n        mask = MASK\n      }\n\n      b = this._offsets[page.level]\n      page = this._parents[page.level]\n    }\n\n    return -1\n  }\n\n  _downLeftFalse (page, i, b, clz) {\n    while (true) {\n      while (i) {\n        b = (b << 5) + clz\n        clz = Math.clz32(~page.allOne[--i][b])\n      }\n\n      b = (b << 5) + clz\n\n      if (!page.level) break\n\n      this._parents[page.level - 1] = page\n      this._path[page.level] = b\n\n      page = page.children[b]\n      i = 3\n      clz = b = 0\n    }\n\n    this._page = page\n    this._path[0] = b\n\n    return this._inc()\n  }\n\n  nextTrue () {\n    var page = this._page\n    var b = this._path[0]\n    var mask = MASK_INCL\n\n    while (page) {\n      for (var i = 0; i < 3; i++) {\n        const r = b & 31\n        const clz = Math.clz32(page.oneOne[i][b >>>= 5] & mask[r])\n        if (clz !== 32) return this._downLeftTrue(page, i, b, clz)\n        mask = MASK\n      }\n\n      b = this._offsets[page.level]\n      page = this._parents[page.level]\n    }\n\n    return -1\n  }\n\n  _downLeftTrue (page, i, b, clz) {\n    while (true) {\n      while (i) {\n        b = (b << 5) + clz\n        clz = Math.clz32(page.oneOne[--i][b])\n      }\n\n      b = (b << 5) + clz\n\n      if (!page.level) break\n\n      this._parents[page.level - 1] = page\n      this._path[page.level] = b\n\n      page = page.children[b]\n      i = 3\n      clz = b = 0\n    }\n\n    this._page = page\n    this._path[0] = b\n\n    return this._inc()\n  }\n\n  _inc () {\n    const n = defactor(this._path)\n    if (this._path[0] < 32767) this._path[0]++\n    else this.seek(n + 1)\n    return n\n  }\n}\n\nfunction defactor (out) {\n  return ((((out[3] * 32768 + out[2]) * 32768) + out[1]) * 32768) + out[0]\n}\n\nfunction factor (n, out) {\n  n = (n - (out[0] = (n & 32767))) / 32768\n  n = (n - (out[1] = (n & 32767))) / 32768\n  out[3] = ((n - (out[2] = (n & 32767))) / 32768) & 32767\n}\n","module.exports = function(v) {\n  var c = 32\n  v &= -v\n  if (v) c--\n  if (v & 0x0000FFFF) c -= 16\n  if (v & 0x00FF00FF) c -= 8\n  if (v & 0x0F0F0F0F) c -= 4\n  if (v & 0x33333333) c -= 2\n  if (v & 0x55555555) c -= 1\n  return c\n}\n","var stream = require('readable-stream')\nvar inherits = require('inherits')\n\nmodule.exports = IteratorStream\n\nfunction IteratorStream (ite) {\n  if (!(this instanceof IteratorStream)) return new IteratorStream(ite)\n  stream.Readable.call(this, {objectMode: true})\n\n  this.iterator = ite\n  this.onread = onread.bind(null, this)\n  this.destroyed = false\n}\n\ninherits(IteratorStream, stream.Readable)\n\nIteratorStream.prototype._read = function () {\n  this.iterator.next(this.onread)\n}\n\nIteratorStream.prototype.destroy = function (err) {\n  if (this.destroyed) return\n  this.destroyed = true\n\n  var self = this\n\n  this.iterator.destroy(function (error) {\n    if (!err) err = error\n    if (err) self.emit('error', err)\n    self.emit('close')\n  })\n}\n\nfunction onread (self, err, value) {\n  if (err) self.destroy(err)\n  else self.push(value)\n}\n","var mutexify = function() {\n  var queue = []\n  var used = null\n\n  var call = function () {\n    used(release)\n  }\n\n  var acquire = function (fn) {\n    if (used) return queue.push(fn)\n    used = fn\n    acquire.locked = true\n    process.nextTick(call)\n    return 0\n  }\n\n  acquire.locked = false\n\n  var release = function (fn, err, value) {\n    used = null\n    acquire.locked = false\n    if (queue.length) acquire(queue.shift())\n    if (fn) fn(err, value)\n  }\n\n  return acquire\n}\n\nmodule.exports = mutexify\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","module.exports = function (a, b) {\n  return a < b ? -1 : a > b ? 1 : 0\n}\n","var nanoiterator = require('nanoiterator')\nvar inherits = require('inherits')\nvar iterator = require('./iterator')\nvar options = require('./options')\n\nmodule.exports = Differ\n\nfunction Differ (db, otherDb, prefix, opts) {\n  if (!(this instanceof Differ)) return new Differ(db, otherDb, prefix, opts)\n  nanoiterator.call(this)\n\n  this._map = options.map(opts, db)\n  this._reduce = options.reduce(opts, db)\n\n  this._left = iterator(db, prefix, opts)\n  this._right = iterator(otherDb, prefix, opts)\n  this._leftNodes = null\n  this._rightNodes = null\n\n  // do not map/reduce the iterators - we just reset them here\n  // cause that is easy peasy instead of extending the options\n  noMapReduce(this._left)\n  noMapReduce(this._right)\n}\n\ninherits(Differ, nanoiterator)\n\nDiffer.prototype._next = function (cb) {\n  var self = this\n\n  this._nextLeft(function (err, l) {\n    if (err) return cb(err)\n\n    self._nextRight(function (err, r) {\n      if (err) return cb(err)\n\n      if (!r && !l) return cb(null, null)\n\n      if (!r || !l) {\n        self._leftNodes = self._rightNodes = null\n        return cb(null, {left: self._prereturn(l), right: self._prereturn(r)})\n      }\n\n      var kl = l[0].key\n      var kr = r[0].key\n\n      if (kl === kr) {\n        if (same(l, r)) return self._skip(cb)\n        // update / conflict\n        self._leftNodes = self._rightNodes = null\n        return cb(null, {left: self._prereturn(l), right: self._prereturn(r)})\n      }\n\n      // sort keys\n      var sl = l[0].path.join('') + '@' + kl\n      var sr = r[0].path.join('') + '@' + kr\n\n      if (sl < sr) { // move left\n        self._leftNodes = null\n        cb(null, {left: self._prereturn(l), right: null})\n      } else { // move right\n        self._rightNodes = null\n        cb(null, {left: null, right: self._prereturn(r)})\n      }\n    })\n  })\n}\n\nDiffer.prototype._prereturn = function (nodes) {\n  if (!nodes) return nodes\n  if (this._map) nodes = nodes.map(this._map)\n  if (this._reduce) nodes = nodes.reduce(this._reduce)\n  return nodes\n}\n\nDiffer.prototype._skip = function (cb) {\n  /*\n  // TODO: this can be greatly simplified\n  var map = new Map()\n\n  this._left._workers.forEach(function (t) {\n    t.stack.forEach(index)\n  })\n  this._right._workers.forEach(function (t) {\n    t.stack.forEach(index)\n  })\n  this._left._workers.forEach(function (t) {\n    t.stack = t.stack.filter(filter)\n  })\n  this._right._workers.forEach(function (t) {\n    t.stack = t.stack.filter(filter)\n  })\n\n  function index (s) {\n    if (!s.node) return\n    var k = s.node.feed + '@' + s.node.seq + '@' + s.i\n    map.set(k, 1 + (map.get(k) || 0))\n  }\n\n  function filter (s) {\n    if (!s.node) return true\n    var k = s.node.feed + '@' + s.node.seq + '@' + s.i\n    return map.get(k) < 2\n  }\n  */\n  this._leftNodes = this._rightNodes = null\n  this._next(cb)\n}\n\nDiffer.prototype._nextRight = function (cb) {\n  if (this._rightNodes) return cb(null, this._rightNodes)\n  var self = this\n  this._right.next(function (err, nodes) {\n    if (err) return cb(err)\n    self._rightNodes = nodes\n    cb(null, nodes)\n  })\n}\n\nDiffer.prototype._nextLeft = function (cb) {\n  if (this._leftNodes) return cb(null, this._leftNodes)\n  var self = this\n  this._left.next(function (err, nodes) {\n    if (err) return cb(err)\n    self._leftNodes = nodes\n    cb(null, nodes)\n  })\n}\n\nfunction same (l, r) {\n  if (l.length !== r.length) return false\n  // TODO: sort order should be same, but should verify that\n  for (var i = 0; i < l.length; i++) {\n    var a = l[i]\n    var b = r[i]\n    if (a.feed !== b.feed || a.seq !== b.seq) return false\n  }\n  return true\n}\n\nfunction noMapReduce (ite) {\n  // if the iterator options are updated we *have* to\n  // update them here\n  ite._map = ite._reduce = null\n}\n","var nanoiterator = require('nanoiterator')\nvar inherits = require('inherits')\n\nmodule.exports = Iterator\n\nfunction Iterator (db, opts) {\n  if (!(this instanceof Iterator)) return new Iterator(db, opts)\n  nanoiterator.call(this)\n\n  this._db = db\n  this._reverse = !!(opts && opts.reverse)\n  this._end = []\n  this._nodes = []\n}\n\ninherits(Iterator, nanoiterator)\n\nIterator.prototype._open = function (cb) {\n  var self = this\n\n  this._db.heads(function (err, heads) {\n    if (err) return cb(err)\n\n    var writers = self._db._writers\n\n    for (var i = 0; i < writers.length; i++) {\n      self._end.push(highestClock(heads, i))\n      self._nodes.push(null)\n    }\n\n    self._updateAll(cb)\n  })\n}\n\nIterator.prototype._updateAll = function (cb) {\n  var self = this\n  var missing = 0\n  var error = null\n  var writers = this._db._writers\n\n  for (var i = 0; i < this._nodes.length; i++) {\n    if (this._end[i] > 1 && !this._nodes[i]) {\n      missing++\n      writers[i].get(this._reverse ? this._end[i] - 1 : 1, onnode)\n    }\n  }\n\n  if (!missing) cb(null)\n\n  function onnode (err, node) {\n    if (err) error = err\n    else self._nodes[node.feed] = node\n    if (!--missing) cb(error)\n  }\n}\n\nIterator.prototype._next = function (cb) {\n  var node = this._reverse ? this._max() : this._min()\n  if (!node) return process.nextTick(cb, null, null)\n\n  if (this._reverse) this._pop(node, cb)\n  else this._shift(node, cb)\n}\n\nIterator.prototype._pop = function (node, cb) {\n  var self = this\n  var writers = self._db._writers\n  var w = writers[node.feed]\n  var seq = node.seq - 1\n\n  if (seq <= 0) {\n    this._nodes[node.feed] = null\n    return process.nextTick(cb, null, node)\n  }\n\n  w.get(seq, function (err, next) {\n    if (err) return cb(err)\n    self._nodes[next.feed] = next\n    cb(null, node)\n  })\n}\n\nIterator.prototype._shift = function (node, cb) {\n  var self = this\n  var writers = self._db._writers\n  var w = writers[node.feed]\n  var seq = node.seq + 1\n\n  if (seq >= this._end[node.feed]) {\n    this._nodes[node.feed] = null\n    return process.nextTick(cb, null, node)\n  }\n\n  w.get(seq, function (err, next) {\n    if (err) return cb(err)\n    self._nodes[next.feed] = next\n    cb(null, node)\n  })\n}\n\nIterator.prototype._compare = function (fn) {\n  var node = null\n  for (var i = 0; i < this._nodes.length; i++) {\n    var t = this._nodes[i]\n    if (!t || (node && !fn(t, node))) continue\n    node = t\n  }\n  return node\n}\n\nIterator.prototype._min = function () {\n  return this._compare(lt)\n}\n\nIterator.prototype._max = function () {\n  return this._compare(gt)\n}\n\nfunction lt (a, b) {\n  var clock = a.feed < b.clock.length ? b.clock[a.feed] : 0\n  return a.seq + 1 < clock\n}\n\nfunction gt (a, b) {\n  var clock = a.feed < b.clock.length ? b.clock[a.feed] : 0\n  return a.seq + 1 > clock\n}\n\nfunction highestClock (heads, i) {\n  var max = 0\n  for (var j = 0; j < heads.length; j++) {\n    if (heads[j].clock.length <= i) continue\n    max = Math.max(max, heads[j].clock[i])\n  }\n  return max\n}\n","var nanoiterator = require('nanoiterator')\nvar inherits = require('inherits')\nvar get = require('./get')\nvar normalizeKey = require('./normalize')\n\nmodule.exports = Iterator\n\nfunction Iterator (db, prefix, opts) {\n  if (!(this instanceof Iterator)) return new Iterator(db, prefix, opts)\n  nanoiterator.call(this)\n  this._db = db\n  this._prefix = normalizeKey(prefix)\n  this._heads = undefined\n}\n\ninherits(Iterator, nanoiterator)\n\nIterator.prototype._open = function (cb) {\n  this._db.heads((err, heads) => {\n    if (err) return cb(err)\n    this._heads = heads\n    cb()\n  })\n}\n\nIterator.prototype._next = function (cb) {\n  if (!this._heads || !this._heads.length) return cb(null, null)\n  get(this._db, this._heads, this._prefix,\n    { reduce: false, deletes: true },\n    (err, nodes) => {\n      if (err) return cb(err)\n      if (nodes.length === 0) return cb(null, null)\n      this._nextHeads(nodes, (err, heads) => {\n        if (err) return cb(err)\n        this._heads = heads\n        cb(null, nodes)\n      })\n    })\n}\n\nIterator.prototype._nextHeads = function (nodes, cb) {\n  var i\n  var heads = []\n  var error = null\n  var missing = 0\n\n  for (i = 0; i < nodes.length; i++) {\n    var node = nodes[i]\n    for (var c = 0; c < node.clock.length; c++) {\n      var seq = node.clock[c]\n      if (c !== node.feed && seq > 2) {\n        missing++\n        this._db._writers[c].get(seq - 1, onHead)\n      } else if (c === node.feed && node.seq > 1) {\n        missing++\n        this._db._writers[node.feed].get(node.seq - 1, onHead)\n      }\n    }\n  }\n  if (missing === 0) cb(null, undefined)\n\n  function onHead (err, head) {\n    if (head) heads.push(head)\n    if (err) error = err\n    if (--missing) return\n\n    cb(error, filterHeads(heads))\n  }\n}\n\nfunction filterHeads (list) {\n  var heads = []\n  for (var i = 0; i < list.length; i++) {\n    if (isHead(list[i], list)) heads.push(list[i])\n  }\n  return heads\n}\n\nfunction isHead (node, list) {\n  if (!node) return false\n  var clock = node.seq + 1\n  for (var i = 0; i < list.length; i++) {\n    var other = list[i]\n    if (other === node || !other) {\n      continue\n    }\n    if ((other.clock[node.feed] || 0) >= clock) return false\n  }\n  return true\n}\n","var hash = require('./hash')\n\nmodule.exports = put\n\nfunction put (db, clock, heads, key, value, opts, cb) {\n  if (typeof opts === 'function') return put(db, clock, heads, key, value, null, opts)\n  var req = new PutRequest(db, key, value, clock, opts)\n  req.start(heads, cb)\n}\n\nfunction PutRequest (db, key, value, clock, opts) {\n  this.key = key\n  this.value = value\n  this.delete = !!(opts && opts.delete)\n  this.ifNotExists = !!(opts && opts.ifNotExists)\n\n  this._clock = clock\n  this._active = 0\n  this._error = null\n  this._callback = noop\n  this._db = db\n  this._path = hash(key, true)\n  this._trie = []\n}\n\nPutRequest.prototype.start = function (heads, cb) {\n  if (cb) this._callback = cb\n  if (!heads.length) return this._finalize()\n  this._update(heads, 0)\n}\n\nPutRequest.prototype._finalize = function () {\n  var cb = this._callback\n  var err = this._error\n\n  this._error = this._callback = null\n\n  if (err) return cb(err)\n\n  // TODO: would be a cleaner api if we didn't require the clock to be passed in\n  // but instead inferred it from the heads. Investigate...\n\n  var node = {\n    key: this.key,\n    value: this.value,\n    trie: this._trie,\n    clock: this._clock\n  }\n\n  if (this.delete) node.deleted = true\n\n  this._db._localWriter.append(node, function (err) {\n    if (err) return cb(err)\n    cb(null, node)\n  })\n}\n\nPutRequest.prototype._update = function (heads, offset) {\n  this._active += heads.length\n  for (var i = 0; i < heads.length; i++) {\n    var worker = new Worker(heads[i], offset)\n    this._moveCloser(worker)\n  }\n}\n\nPutRequest.prototype._updateHead = function (worker, feed, seq) {\n  var self = this\n\n  worker.pending++\n  this._db._getPointer(feed, seq, true, function (err, node) {\n    if (!err) worker.head = node\n    self._workerDone(worker, err)\n  })\n}\n\nPutRequest.prototype._workerDone = function (worker, err) {\n  if (err) worker.error = err\n  if (--worker.pending) return\n\n  if (worker.error || worker.ended) {\n    this._end(worker, worker.error)\n  } else {\n    worker.i++\n    this._moveCloser(worker)\n  }\n}\n\nPutRequest.prototype._fork = function (worker, ptrs) {\n  var self = this\n\n  worker.pending++\n  this._db._getAllPointers(ptrs, true, function (err, nodes) {\n    if (err) return self._workerDone(worker, err)\n    self._update(nodes, worker.i + 1)\n    self._workerDone(worker, null)\n  })\n}\n\nPutRequest.prototype._checkCollision = function (worker, i, feed, seq) {\n  var self = this\n\n  worker.pending++\n  this._db._getPointer(feed, seq, true, function (err, node) {\n    if (err) return self._workerDone(worker, err)\n    if (node.key !== self.key) self._push(worker, i, feed, seq)\n    self._workerDone(worker, null)\n  })\n}\n\nPutRequest.prototype._copyTrie = function (worker, bucket, val) {\n  for (var i = 0; i < bucket.length; i++) {\n    // check if we are the closest node, if so skip this\n    // except if we are terminating the val. if so we\n    // need to check for collions before making the decision\n    if (i === val && val !== 4) continue\n\n    var ptrs = bucket[i] || []\n    for (var k = 0; k < ptrs.length; k++) {\n      var ptr = ptrs[k]\n      // if termination value, push if get(ptr).key !== key\n      if (val === 4) this._checkCollision(worker, i, ptr.feed, ptr.seq)\n      else this._push(worker, i, ptr.feed, ptr.seq)\n    }\n  }\n}\n\nPutRequest.prototype._splitTrie = function (worker, bucket, val) {\n  var head = worker.head\n  var headVal = head.path[worker.i]\n\n  // check if we need to split the trie at all\n  // i.e. is head still closest and is head not a conflict\n  if (headVal === val && (headVal < 4 || head.key === this.key)) return\n\n  // push head to the trie\n  this._push(worker, headVal, head.feed, head.seq)\n\n  var ptrs = bucket[val]\n\n  if (!ptrs || !ptrs.length) {\n    worker.ended = true\n    return\n  }\n\n  this._updateHead(worker, ptrs[0].feed, ptrs[0].seq)\n  if (ptrs.length > 1) this._fork(worker, ptrs.slice(1))\n}\n\nPutRequest.prototype._moveCloser = function (worker) {\n  var path = this._path\n  var head = worker.head\n\n  for (; worker.i < path.length; worker.i++) {\n    var i = worker.i\n    var val = path[i]\n    var bucket = head.trie[i] || []\n\n    this._copyTrie(worker, bucket, val)\n    this._splitTrie(worker, bucket, val)\n\n    if (worker.pending) return\n    if (worker.ended) break\n  }\n\n  this._end(worker, worker.error)\n}\n\nPutRequest.prototype._end = function (worker, err) {\n  if (err) this._error = err\n  if (!--this._active) {\n    if (this.ifNotExists && worker.head.key === this.key) {\n      if (this._callback) return this._callback(err, worker.head)\n      return\n    }\n    this._finalize()\n  }\n}\n\nPutRequest.prototype._push = function (worker, val, feed, seq) {\n  var i = worker.i\n  var bucket = this._trie[i]\n  if (!bucket) bucket = this._trie[i] = []\n  var values = bucket[val]\n  if (!values) bucket[val] = values = []\n\n  for (var j = 0; j < values.length; j++) {\n    var ref = values[j]\n    if (ref.feed === feed && ref.seq === seq) return\n  }\n\n  values.push({feed, seq})\n}\n\nfunction Worker (head, i) {\n  this.i = i\n  this.head = head\n  this.lock = head\n  this.pending = 0\n  this.error = null\n  this.ended = false\n}\n\nfunction noop () {}\n","// This file is auto generated by the protocol-buffers cli tool\n\n/* eslint-disable quotes */\n/* eslint-disable indent */\n/* eslint-disable no-redeclare */\n/* eslint-disable camelcase */\n\n// Remember to `npm install --save protocol-buffers-encodings`\nvar encodings = require('protocol-buffers-encodings')\nvar varint = encodings.varint\nvar skip = encodings.skip\n\nvar Entry = exports.Entry = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar InflatedEntry = exports.InflatedEntry = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\nvar Header = exports.Header = {\n  buffer: true,\n  encodingLength: null,\n  encode: null,\n  decode: null\n}\n\ndefineEntry()\ndefineInflatedEntry()\ndefineHeader()\n\nfunction defineEntry () {\n  var enc = [\n    encodings.string,\n    encodings.bytes,\n    encodings.bool,\n    encodings.varint\n  ]\n\n  Entry.encodingLength = encodingLength\n  Entry.encode = encode\n  Entry.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.key)) throw new Error(\"key is required\")\n    var len = enc[0].encodingLength(obj.key)\n    length += 1 + len\n    if (defined(obj.value)) {\n      var len = enc[1].encodingLength(obj.value)\n      length += 1 + len\n    }\n    if (defined(obj.deleted)) {\n      var len = enc[2].encodingLength(obj.deleted)\n      length += 1 + len\n    }\n    if (!defined(obj.trie)) throw new Error(\"trie is required\")\n    var len = enc[1].encodingLength(obj.trie)\n    length += 1 + len\n    if (defined(obj.clock)) {\n      for (var i = 0; i < obj.clock.length; i++) {\n        if (!defined(obj.clock[i])) continue\n        var len = enc[3].encodingLength(obj.clock[i])\n        length += 1 + len\n      }\n    }\n    if (defined(obj.inflate)) {\n      var len = enc[3].encodingLength(obj.inflate)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.key)) throw new Error(\"key is required\")\n    buf[offset++] = 10\n    enc[0].encode(obj.key, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.value)) {\n      buf[offset++] = 18\n      enc[1].encode(obj.value, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    if (defined(obj.deleted)) {\n      buf[offset++] = 24\n      enc[2].encode(obj.deleted, buf, offset)\n      offset += enc[2].encode.bytes\n    }\n    if (!defined(obj.trie)) throw new Error(\"trie is required\")\n    buf[offset++] = 34\n    enc[1].encode(obj.trie, buf, offset)\n    offset += enc[1].encode.bytes\n    if (defined(obj.clock)) {\n      for (var i = 0; i < obj.clock.length; i++) {\n        if (!defined(obj.clock[i])) continue\n        buf[offset++] = 40\n        enc[3].encode(obj.clock[i], buf, offset)\n        offset += enc[3].encode.bytes\n      }\n    }\n    if (defined(obj.inflate)) {\n      buf[offset++] = 48\n      enc[3].encode(obj.inflate, buf, offset)\n      offset += enc[3].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      key: \"\",\n      value: null,\n      deleted: false,\n      trie: null,\n      clock: [],\n      inflate: 0\n    }\n    var found0 = false\n    var found3 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0 || !found3) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.key = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.value = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        case 3:\n        obj.deleted = enc[2].decode(buf, offset)\n        offset += enc[2].decode.bytes\n        break\n        case 4:\n        obj.trie = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        found3 = true\n        break\n        case 5:\n        obj.clock.push(enc[3].decode(buf, offset))\n        offset += enc[3].decode.bytes\n        break\n        case 6:\n        obj.inflate = enc[3].decode(buf, offset)\n        offset += enc[3].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineInflatedEntry () {\n  var Feed = InflatedEntry.Feed = {\n    buffer: true,\n    encodingLength: null,\n    encode: null,\n    decode: null\n  }\n\n  defineFeed()\n\n  function defineFeed () {\n    var enc = [\n      encodings.bytes\n    ]\n\n    Feed.encodingLength = encodingLength\n    Feed.encode = encode\n    Feed.decode = decode\n\n    function encodingLength (obj) {\n      var length = 0\n      if (!defined(obj.key)) throw new Error(\"key is required\")\n      var len = enc[0].encodingLength(obj.key)\n      length += 1 + len\n      return length\n    }\n\n    function encode (obj, buf, offset) {\n      if (!offset) offset = 0\n      if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n      var oldOffset = offset\n      if (!defined(obj.key)) throw new Error(\"key is required\")\n      buf[offset++] = 10\n      enc[0].encode(obj.key, buf, offset)\n      offset += enc[0].encode.bytes\n      encode.bytes = offset - oldOffset\n      return buf\n    }\n\n    function decode (buf, offset, end) {\n      if (!offset) offset = 0\n      if (!end) end = buf.length\n      if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n      var oldOffset = offset\n      var obj = {\n        key: null\n      }\n      var found0 = false\n      while (true) {\n        if (end <= offset) {\n          if (!found0) throw new Error(\"Decoded message is not valid\")\n          decode.bytes = offset - oldOffset\n          return obj\n        }\n        var prefix = varint.decode(buf, offset)\n        offset += varint.decode.bytes\n        var tag = prefix >> 3\n        switch (tag) {\n          case 1:\n          obj.key = enc[0].decode(buf, offset)\n          offset += enc[0].decode.bytes\n          found0 = true\n          break\n          default:\n          offset = skip(prefix & 7, buf, offset)\n        }\n      }\n    }\n  }\n\n  var enc = [\n    encodings.string,\n    encodings.bytes,\n    encodings.bool,\n    encodings.varint,\n    Feed\n  ]\n\n  InflatedEntry.encodingLength = encodingLength\n  InflatedEntry.encode = encode\n  InflatedEntry.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.key)) throw new Error(\"key is required\")\n    var len = enc[0].encodingLength(obj.key)\n    length += 1 + len\n    if (defined(obj.value)) {\n      var len = enc[1].encodingLength(obj.value)\n      length += 1 + len\n    }\n    if (defined(obj.deleted)) {\n      var len = enc[2].encodingLength(obj.deleted)\n      length += 1 + len\n    }\n    if (!defined(obj.trie)) throw new Error(\"trie is required\")\n    var len = enc[1].encodingLength(obj.trie)\n    length += 1 + len\n    if (defined(obj.clock)) {\n      for (var i = 0; i < obj.clock.length; i++) {\n        if (!defined(obj.clock[i])) continue\n        var len = enc[3].encodingLength(obj.clock[i])\n        length += 1 + len\n      }\n    }\n    if (defined(obj.inflate)) {\n      var len = enc[3].encodingLength(obj.inflate)\n      length += 1 + len\n    }\n    if (defined(obj.feeds)) {\n      for (var i = 0; i < obj.feeds.length; i++) {\n        if (!defined(obj.feeds[i])) continue\n        var len = enc[4].encodingLength(obj.feeds[i])\n        length += varint.encodingLength(len)\n        length += 1 + len\n      }\n    }\n    if (defined(obj.contentFeed)) {\n      var len = enc[1].encodingLength(obj.contentFeed)\n      length += 1 + len\n    }\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.key)) throw new Error(\"key is required\")\n    buf[offset++] = 10\n    enc[0].encode(obj.key, buf, offset)\n    offset += enc[0].encode.bytes\n    if (defined(obj.value)) {\n      buf[offset++] = 18\n      enc[1].encode(obj.value, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    if (defined(obj.deleted)) {\n      buf[offset++] = 24\n      enc[2].encode(obj.deleted, buf, offset)\n      offset += enc[2].encode.bytes\n    }\n    if (!defined(obj.trie)) throw new Error(\"trie is required\")\n    buf[offset++] = 34\n    enc[1].encode(obj.trie, buf, offset)\n    offset += enc[1].encode.bytes\n    if (defined(obj.clock)) {\n      for (var i = 0; i < obj.clock.length; i++) {\n        if (!defined(obj.clock[i])) continue\n        buf[offset++] = 40\n        enc[3].encode(obj.clock[i], buf, offset)\n        offset += enc[3].encode.bytes\n      }\n    }\n    if (defined(obj.inflate)) {\n      buf[offset++] = 48\n      enc[3].encode(obj.inflate, buf, offset)\n      offset += enc[3].encode.bytes\n    }\n    if (defined(obj.feeds)) {\n      for (var i = 0; i < obj.feeds.length; i++) {\n        if (!defined(obj.feeds[i])) continue\n        buf[offset++] = 58\n        varint.encode(enc[4].encodingLength(obj.feeds[i]), buf, offset)\n        offset += varint.encode.bytes\n        enc[4].encode(obj.feeds[i], buf, offset)\n        offset += enc[4].encode.bytes\n      }\n    }\n    if (defined(obj.contentFeed)) {\n      buf[offset++] = 66\n      enc[1].encode(obj.contentFeed, buf, offset)\n      offset += enc[1].encode.bytes\n    }\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      key: \"\",\n      value: null,\n      deleted: false,\n      trie: null,\n      clock: [],\n      inflate: 0,\n      feeds: [],\n      contentFeed: null\n    }\n    var found0 = false\n    var found3 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0 || !found3) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.key = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        case 2:\n        obj.value = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        case 3:\n        obj.deleted = enc[2].decode(buf, offset)\n        offset += enc[2].decode.bytes\n        break\n        case 4:\n        obj.trie = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        found3 = true\n        break\n        case 5:\n        obj.clock.push(enc[3].decode(buf, offset))\n        offset += enc[3].decode.bytes\n        break\n        case 6:\n        obj.inflate = enc[3].decode(buf, offset)\n        offset += enc[3].decode.bytes\n        break\n        case 7:\n        var len = varint.decode(buf, offset)\n        offset += varint.decode.bytes\n        obj.feeds.push(enc[4].decode(buf, offset, offset + len))\n        offset += enc[4].decode.bytes\n        break\n        case 8:\n        obj.contentFeed = enc[1].decode(buf, offset)\n        offset += enc[1].decode.bytes\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defineHeader () {\n  var enc = [\n    encodings.string\n  ]\n\n  Header.encodingLength = encodingLength\n  Header.encode = encode\n  Header.decode = decode\n\n  function encodingLength (obj) {\n    var length = 0\n    if (!defined(obj.protocol)) throw new Error(\"protocol is required\")\n    var len = enc[0].encodingLength(obj.protocol)\n    length += 1 + len\n    return length\n  }\n\n  function encode (obj, buf, offset) {\n    if (!offset) offset = 0\n    if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))\n    var oldOffset = offset\n    if (!defined(obj.protocol)) throw new Error(\"protocol is required\")\n    buf[offset++] = 10\n    enc[0].encode(obj.protocol, buf, offset)\n    offset += enc[0].encode.bytes\n    encode.bytes = offset - oldOffset\n    return buf\n  }\n\n  function decode (buf, offset, end) {\n    if (!offset) offset = 0\n    if (!end) end = buf.length\n    if (!(end <= buf.length && offset <= buf.length)) throw new Error(\"Decoded message is not valid\")\n    var oldOffset = offset\n    var obj = {\n      protocol: \"\"\n    }\n    var found0 = false\n    while (true) {\n      if (end <= offset) {\n        if (!found0) throw new Error(\"Decoded message is not valid\")\n        decode.bytes = offset - oldOffset\n        return obj\n      }\n      var prefix = varint.decode(buf, offset)\n      offset += varint.decode.bytes\n      var tag = prefix >> 3\n      switch (tag) {\n        case 1:\n        obj.protocol = enc[0].decode(buf, offset)\n        offset += enc[0].decode.bytes\n        found0 = true\n        break\n        default:\n        offset = skip(prefix & 7, buf, offset)\n      }\n    }\n  }\n}\n\nfunction defined (val) {\n  return val !== null && val !== undefined && (typeof val !== 'number' || !isNaN(val))\n}\n","var varint = require('varint')\n\nvar buf = Buffer.allocUnsafe(512 * 1024)\nvar offset = 0\n\nexports.encode = encode\nexports.decode = decode\n\n// encoding: i+bitfield+vals+...\n// val = (feed << 1)+more?,seq\n\nfunction encode (trie, map) {\n  if (buf.length - offset < 65536) {\n    offset = 0\n    buf = Buffer.allocUnsafe(buf.length)\n  }\n\n  var oldOffset = offset\n  for (var i = 0; i < trie.length; i++) {\n    if (!trie[i]) continue\n    varint.encode(i, buf, offset)\n    offset += varint.encode.bytes\n    offset = encodeBucket(trie[i], map, buf, offset)\n  }\n\n  return buf.slice(oldOffset, offset)\n}\n\nfunction encodeBucket (bucket, map, buf, offset) {\n  var i\n  var bits = 0\n  var bit = 1\n\n  for (i = 0; i < bucket.length; i++) {\n    if (bucket[i] && bucket[i].length) bits |= bit\n    bit *= 2\n  }\n\n  varint.encode(bits, buf, offset)\n  offset += varint.encode.bytes\n\n  for (i = 0; i < bucket.length; i++) {\n    var vals = bucket[i]\n    if (!vals) continue\n\n    for (var j = 0; j < vals.length; j++) {\n      offset = encodeValue(vals[j], j < vals.length - 1, map, buf, offset)\n    }\n  }\n\n  return offset\n}\n\nfunction encodeValue (ptr, more, map, buf, offset) {\n  varint.encode(map[ptr.feed] * 2 + (more ? 1 : 0), buf, offset)\n  offset += varint.encode.bytes\n  varint.encode(ptr.seq, buf, offset)\n  offset += varint.encode.bytes\n  return offset\n}\n\nfunction decode (buf, map) {\n  var trie = []\n  var offset = 0\n\n  while (offset < buf.length) {\n    var i = varint.decode(buf, offset)\n    offset += varint.decode.bytes\n    trie[i] = []\n    offset = decodeBucket(buf, offset, trie[i], map)\n  }\n\n  return trie\n}\n\nfunction decodeBucket (buf, offset, bucket, map) {\n  var i = 0\n  var bits = varint.decode(buf, offset)\n  offset += varint.decode.bytes\n\n  while (bits) {\n    if (bits & 1) {\n      bucket[i] = []\n      offset = decodeValues(buf, offset, bucket[i], map)\n      bits = (bits - 1) / 2\n    } else {\n      bits /= 2\n    }\n    i++\n  }\n\n  return offset\n}\n\nfunction decodeValues (buf, offset, values, map) {\n  var more = 1\n  while (more) {\n    var feed = varint.decode(buf, offset)\n    offset += varint.decode.bytes\n    var seq = varint.decode(buf, offset)\n    offset += varint.decode.bytes\n    more = feed & 1\n    feed = (feed - more) / 2\n    if (feed < map.length) feed = map[feed]\n    values.push({feed, seq})\n  }\n  return offset\n}\n","var unordered = require('unordered-set')\nvar util = require('util')\nvar events = require('events')\n\nmodule.exports = watch\n\nfunction watch (db, key, cb) {\n  var w = new Watcher(db, key)\n  w._index = db._watching.push(w) - 1\n  w.start(cb)\n  return w\n}\n\nfunction Watcher (db, key) {\n  events.EventEmitter.call(this)\n\n  this.key = key\n\n  this._index = 0\n  this._db = db\n  this._kicked = 0\n  this._nodes = null\n  this._destroyed = false\n  this._onkick = onkick.bind(this)\n}\n\nutil.inherits(Watcher, events.EventEmitter)\n\nWatcher.prototype.destroy = function (err) {\n  if (this._destroyed) return\n  this._destroyed = true\n\n  unordered.remove(this._db._watching, this)\n  if (err) this.emit('error', err)\n  this.emit('close')\n}\n\nWatcher.prototype.start = function (onchange) {\n  if (onchange) this.on('change', onchange)\n  this._kick()\n}\n\nWatcher.prototype._kick = function () {\n  this._kicked++\n  this._db.get(this.key, {update: false, prefix: true, map: false, reduce: false}, this._onkick)\n}\n\nfunction same (a, b) {\n  if (a.length !== b.length) return false\n\n  for (var i = 0; i < a.length; i++) {\n    if (a[i].feed !== b[i].feed || a[i].seq !== b[i].seq) return false\n  }\n\n  return true\n}\n\nfunction sortByFeed (a, b) {\n  return a.feed - b.feed\n}\n\nfunction onkick (err, nodes) {\n  if (err) return this.destroy(err)\n\n  var kicked = this._kicked\n\n  this._kicked = 0\n  nodes = nodes.sort(sortByFeed)\n\n  if (!this._nodes) {\n    this._nodes = nodes\n    this.emit('watching')\n  }\n\n  if (!same(nodes, this._nodes)) {\n    this._nodes = nodes\n    this.emit('change')\n    return\n  }\n\n  // there is a chance the db has been updated while we\n  // ran the query - retry\n  if (kicked > 1) this._kick()\n}\n","var sodium = require('sodium-universal')\n\nvar CONTEXT = Buffer.from('hyperdb1') // hyperdb v1\n\nmodule.exports = deriveKeyPair\n\nfunction deriveKeyPair (secretKey) {\n  var seed = Buffer.alloc(sodium.crypto_sign_SEEDBYTES)\n  var keyPair = {\n    publicKey: Buffer.alloc(sodium.crypto_sign_PUBLICKEYBYTES),\n    secretKey: Buffer.alloc(sodium.crypto_sign_SECRETKEYBYTES)\n  }\n\n  sodium.crypto_kdf_derive_from_key(seed, 1, CONTEXT, secretKey)\n  sodium.crypto_sign_seed_keypair(keyPair.publicKey, keyPair.secretKey, seed)\n  seed.fill(0)\n\n  return keyPair\n}\n","var RandomAccess = require('random-access-storage')\nvar inherits = require('inherits')\nvar nextTick = require('next-tick')\nvar once = require('once')\nvar blocks = require('./lib/blocks.js')\nvar bufferFrom = require('buffer-from')\nvar bufferAlloc = require('buffer-alloc')\n\nvar DELIM = '\\0'\nvar win = typeof window !== 'undefined' ? window\n  : (typeof self !== 'undefined' ? self : {})\n\nmodule.exports = function (dbname, xopts) {\n  if (!xopts) xopts = {}\n  var idb = xopts.idb || (typeof win !== 'undefined'\n    ? win.indexedDB || win.mozIndexedDB\n      || win.webkitIndexedDB || win.msIndexedDB\n    : null)\n  if (!idb) throw new Error('indexedDB not present and not given')\n  var db = null, dbqueue = []\n  if (typeof idb.open === 'function') {\n    var req = idb.open(dbname)\n    req.addEventListener('upgradeneeded', function () {\n      db = req.result\n      db.createObjectStore('data')\n    })\n    req.addEventListener('success', function () {\n      db = req.result\n      dbqueue.forEach(function (cb) { cb(db) })\n      dbqueue = null\n    })\n  } else {\n    db = idb\n  }\n  return function (name, opts) {\n    if (typeof name === 'object') {\n      opts = name\n      name = opts.name\n    }\n\n    if (!opts) opts = {}\n    opts.name = name\n\n    return new Store(Object.assign({ db: getdb }, xopts, opts))\n  }\n  function getdb (cb) {\n    if (db) nextTick(function () { cb(db) })\n    else dbqueue.push(cb)\n  }\n}\n\nfunction Store (opts) {\n  if (!(this instanceof Store)) return new Store(opts)\n  RandomAccess.call(this)\n  if (!opts) opts = {}\n  if (typeof opts === 'string') opts = { name: opts }\n  this.size = opts.size || 4096\n  this.name = opts.name\n  this.length = opts.length || 0\n  this._getdb = opts.db\n}\ninherits(Store, RandomAccess)\n\nStore.prototype._blocks = function (i, j) {\n  return blocks(this.size, i, j)\n}\n\nStore.prototype._read = function (req) {\n  var self = this\n  var buffers = []\n  self._store('readonly', function (err, store) {\n    if ((self.length || 0) < req.offset+req.size) {\n      return req.callback(new Error('Could not satisfy length'))\n    }\n    if (err) return req.callback(err)\n    var offsets = self._blocks(req.offset, req.offset+req.size)\n    var pending = offsets.length + 1\n    var firstBlock = offsets.length > 0 ? offsets[0].block : 0\n    var j = 0\n    for (var i = 0; i < offsets.length; i++) (function (o) {\n      var key = self.name + DELIM + o.block\n      backify(store.get(key), function (err, ev) {\n        if (err) return req.callback(err)\n        buffers[o.block-firstBlock] = ev.target.result\n          ? bufferFrom(ev.target.result.subarray(o.start,o.end))\n          : bufferAlloc(o.end-o.start)\n        if (--pending === 0) req.callback(null, Buffer.concat(buffers))\n      })\n    })(offsets[i])\n    if (--pending === 0) req.callback(null, Buffer.concat(buffers))\n  })\n}\n\nStore.prototype._write = function (req) {\n  var self = this\n  self._store('readwrite', function (err, store) {\n    if (err) return req.callback(err)\n    var offsets = self._blocks(req.offset, req.offset + req.data.length)\n    var pending = 1\n    var buffers = {}\n    for (var i = 0; i < offsets.length; i++) (function (o,i) {\n      if (o.end-o.start === self.size) return\n      pending++\n      var key = self.name + DELIM + o.block\n      backify(store.get(key), function (err, ev) {\n        if (err) return req.callback(err)\n        buffers[i] = bufferFrom(ev.target.result || bufferAlloc(self.size))\n        if (--pending === 0) write(store, offsets, buffers)\n      })\n    })(offsets[i],i)\n    if (--pending === 0) write(store, offsets, buffers)\n  })\n  function write (store, offsets, buffers) {\n    for (var i = 0, j = 0; i < offsets.length; i++) {\n      var o = offsets[i]\n      var len = o.end - o.start\n      if (len === self.size) {\n        block = bufferFrom(req.data.slice(j, j+len))\n      } else {\n        block = buffers[i]\n        req.data.copy(block, o.start, j, j+len)\n      }\n      store.put(block,self.name + DELIM + o.block)\n      j += len\n    }\n    var length = Math.max(self.length || 0, req.offset + req.data.length)\n    store.put(length, self.name + DELIM + 'length')\n    store.transaction.addEventListener('complete', function () {\n      self.length = length\n      req.callback(null)\n    })\n    store.transaction.addEventListener('error', function (err) {\n      req.callback(err)\n    })\n  }\n}\n\nStore.prototype._store = function (mode, cb) {\n  cb = once(cb)\n  var self = this\n  self._getdb(function (db) {\n    var tx = db.transaction(['data'], mode)\n    var store = tx.objectStore('data')\n    tx.addEventListener('error', cb)\n    cb(null, store)\n  })\n}\n\nStore.prototype._open = function (req) {\n  var self = this\n  this._getdb(function(db) {\n    self._store('readonly', function (err, store) {\n      backify(store.get(self.name + DELIM + \"length\"), function(err, ev) {\n        self.length = ev.target.result || 0\n        req.callback(null)\n      })\n    })\n  })\n}\n\nStore.prototype._close = function (req) {\n  this._getdb(function (db) {\n    db.close()\n    req.callback()\n  })\n}\n\nStore.prototype._stat = function (req) {\n  var self = this\n  nextTick(function () {\n    req.callback(null, { size: self.length })\n  })\n}\n\nfunction backify (r, cb) {\n  r.addEventListener('success', function (ev) { cb(null, ev) })\n  r.addEventListener('error', cb)\n}\n","var events = require('events')\nvar inherits = require('inherits')\n\nvar NOT_READABLE = defaultImpl(new Error('Not readable'))\nvar NOT_WRITABLE = defaultImpl(new Error('Not writable'))\nvar NOT_DELETABLE = defaultImpl(new Error('Not deletable'))\nvar NOT_STATABLE = defaultImpl(new Error('Not statable'))\nvar NO_OPEN_READABLE = defaultImpl(new Error('No readonly open'))\n\nmodule.exports = RandomAccess\n\nfunction RandomAccess (opts) {\n  if (!(this instanceof RandomAccess)) return new RandomAccess(opts)\n  events.EventEmitter.call(this)\n\n  this._queued = []\n  this._pending = 0\n  this._needsOpen = true\n\n  this.opened = false\n  this.closed = false\n  this.destroyed = false\n\n  if (opts) {\n    if (opts.openReadonly) this._openReadonly = opts.openReadonly\n    if (opts.open) this._open = opts.open\n    if (opts.read) this._read = opts.read\n    if (opts.write) this._write = opts.write\n    if (opts.del) this._del = opts.del\n    if (opts.stat) this._stat = opts.stat\n    if (opts.close) this._close = opts.close\n    if (opts.destroy) this._destroy = opts.destroy\n  }\n\n  this.preferReadonly = this._openReadonly !== NO_OPEN_READABLE\n  this.readable = this._read !== NOT_READABLE\n  this.writable = this._write !== NOT_WRITABLE\n  this.deletable = this._del !== NOT_DELETABLE\n  this.statable = this._stat !== NOT_STATABLE\n}\n\ninherits(RandomAccess, events.EventEmitter)\n\nRandomAccess.prototype.read = function (offset, size, cb) {\n  this.run(new Request(this, 0, offset, size, null, cb))\n}\n\nRandomAccess.prototype._read = NOT_READABLE\n\nRandomAccess.prototype.write = function (offset, data, cb) {\n  if (!cb) cb = noop\n  openWritable(this)\n  this.run(new Request(this, 1, offset, data.length, data, cb))\n}\n\nRandomAccess.prototype._write = NOT_WRITABLE\n\nRandomAccess.prototype.del = function (offset, size, cb) {\n  if (!cb) cb = noop\n  openWritable(this)\n  this.run(new Request(this, 2, offset, size, null, cb))\n}\n\nRandomAccess.prototype._del = NOT_DELETABLE\n\nRandomAccess.prototype.stat = function (cb) {\n  this.run(new Request(this, 3, 0, 0, null, cb))\n}\n\nRandomAccess.prototype._stat = NOT_STATABLE\n\nRandomAccess.prototype.open = function (cb) {\n  if (!cb) cb = noop\n  if (this.opened && !this._needsOpen) return process.nextTick(cb, null)\n  queueAndRun(this, new Request(this, 4, 0, 0, null, cb))\n}\n\nRandomAccess.prototype._open = defaultImpl(null)\nRandomAccess.prototype._openReadonly = NO_OPEN_READABLE\n\nRandomAccess.prototype.close = function (cb) {\n  if (!cb) cb = noop\n  if (this.closed) return process.nextTick(cb, null)\n  queueAndRun(this, new Request(this, 5, 0, 0, null, cb))\n}\n\nRandomAccess.prototype._close = defaultImpl(null)\n\nRandomAccess.prototype.destroy = function (cb) {\n  if (!cb) cb = noop\n  if (!this.closed) this.close(noop)\n  queueAndRun(this, new Request(this, 6, 0, 0, null, cb))\n}\n\nRandomAccess.prototype._destroy = defaultImpl(null)\n\nRandomAccess.prototype.run = function (req) {\n  if (this._needsOpen) this.open(noop)\n  if (this._queued.length) this._queued.push(req)\n  else req._run()\n}\n\nfunction noop () {}\n\nfunction Request (self, type, offset, size, data, cb) {\n  this.type = type\n  this.offset = offset\n  this.data = data\n  this.size = size\n  this.storage = self\n\n  this._sync = false\n  this._callback = cb\n  this._openError = null\n}\n\nRequest.prototype._maybeOpenError = function (err) {\n  if (this.type !== 4) return\n  var queued = this.storage._queued\n  for (var i = 0; i < queued.length; i++) queued[i]._openError = err\n}\n\nRequest.prototype._unqueue = function (err) {\n  var ra = this.storage\n  var queued = ra._queued\n\n  if (!err) {\n    switch (this.type) {\n      case 4:\n        if (!ra.opened) {\n          ra.opened = true\n          ra.emit('open')\n        }\n        break\n\n      case 5:\n        if (!ra.closed) {\n          ra.closed = true\n          ra.emit('close')\n        }\n        break\n\n      case 6:\n        if (!ra.destroyed) {\n          ra.destroyed = true\n          ra.emit('destroy')\n        }\n        break\n    }\n  } else {\n    this._maybeOpenError(err)\n  }\n\n  if (queued.length && queued[0] === this) queued.shift()\n\n  if (!--ra._pending) drainQueue(ra)\n}\n\nRequest.prototype.callback = function (err, val) {\n  if (this._sync) return nextTick(this, err, val)\n  this._unqueue(err)\n  this._callback(err, val)\n}\n\nRequest.prototype._openAndNotClosed = function () {\n  var ra = this.storage\n  if (ra.opened && !ra.closed) return true\n  if (!ra.opened) nextTick(this, this._openError || new Error('Not opened'))\n  else if (ra.closed) nextTick(this, new Error('Closed'))\n  return false\n}\n\nRequest.prototype._open = function () {\n  var ra = this.storage\n\n  if (ra.opened && !ra._needsOpen) return nextTick(this, null)\n  if (ra.closed) return nextTick(this, new Error('Closed'))\n\n  ra._needsOpen = false\n  if (ra.preferReadonly) ra._openReadonly(this)\n  else ra._open(this)\n}\n\nRequest.prototype._run = function () {\n  var ra = this.storage\n  ra._pending++\n\n  this._sync = true\n\n  switch (this.type) {\n    case 0:\n      if (this._openAndNotClosed()) ra._read(this)\n      break\n\n    case 1:\n      if (this._openAndNotClosed()) ra._write(this)\n      break\n\n    case 2:\n      if (this._openAndNotClosed()) ra._del(this)\n      break\n\n    case 3:\n      if (this._openAndNotClosed()) ra._stat(this)\n      break\n\n    case 4:\n      this._open()\n      break\n\n    case 5:\n      if (ra.closed || !ra.opened) nextTick(this, null)\n      else ra._close(this)\n      break\n\n    case 6:\n      if (ra.destroyed) nextTick(this, null)\n      else ra._destroy(this)\n      break\n  }\n\n  this._sync = false\n}\n\nfunction queueAndRun (self, req) {\n  self._queued.push(req)\n  if (!self._pending) req._run()\n}\n\nfunction drainQueue (self) {\n  var queued = self._queued\n\n  while (queued.length > 0) {\n    queued[0]._run()\n    if (queued[0].type > 3) return // all >3 types are blocking\n    queued.shift()\n  }\n}\n\nfunction openWritable (self) {\n  if (self.preferReadonly) {\n    self._needsOpen = true\n    self.preferReadonly = false\n  }\n}\n\nfunction defaultImpl (err) {\n  return overridable\n\n  function overridable (req) {\n    nextTick(req, err)\n  }\n}\n\nfunction nextTick (req, err, val) {\n  process.nextTick(nextTickCallback, req, err, val)\n}\n\nfunction nextTickCallback (req, err, val) {\n  req.callback(err, val)\n}\n","'use strict';\n\nvar callable, byObserver;\n\ncallable = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\nbyObserver = function (Observer) {\n\tvar node = document.createTextNode(''), queue, currentQueue, i = 0;\n\tnew Observer(function () {\n\t\tvar callback;\n\t\tif (!queue) {\n\t\t\tif (!currentQueue) return;\n\t\t\tqueue = currentQueue;\n\t\t} else if (currentQueue) {\n\t\t\tqueue = currentQueue.concat(queue);\n\t\t}\n\t\tcurrentQueue = queue;\n\t\tqueue = null;\n\t\tif (typeof currentQueue === 'function') {\n\t\t\tcallback = currentQueue;\n\t\t\tcurrentQueue = null;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tnode.data = (i = ++i % 2); // Invoke other batch, to handle leftover callbacks in case of crash\n\t\twhile (currentQueue) {\n\t\t\tcallback = currentQueue.shift();\n\t\t\tif (!currentQueue.length) currentQueue = null;\n\t\t\tcallback();\n\t\t}\n\t}).observe(node, { characterData: true });\n\treturn function (fn) {\n\t\tcallable(fn);\n\t\tif (queue) {\n\t\t\tif (typeof queue === 'function') queue = [queue, fn];\n\t\t\telse queue.push(fn);\n\t\t\treturn;\n\t\t}\n\t\tqueue = fn;\n\t\tnode.data = (i = ++i % 2);\n\t};\n};\n\nmodule.exports = (function () {\n\t// Node.js\n\tif ((typeof process === 'object') && process && (typeof process.nextTick === 'function')) {\n\t\treturn process.nextTick;\n\t}\n\n\t// MutationObserver\n\tif ((typeof document === 'object') && document) {\n\t\tif (typeof MutationObserver === 'function') return byObserver(MutationObserver);\n\t\tif (typeof WebKitMutationObserver === 'function') return byObserver(WebKitMutationObserver);\n\t}\n\n\t// W3C Draft\n\t// http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/setImmediate/Overview.html\n\tif (typeof setImmediate === 'function') {\n\t\treturn function (cb) { setImmediate(callable(cb)); };\n\t}\n\n\t// Wide available standard\n\tif ((typeof setTimeout === 'function') || (typeof setTimeout === 'object')) {\n\t\treturn function (cb) { setTimeout(callable(cb), 0); };\n\t}\n\n\treturn null;\n}());\n","module.exports = function (size, start, end) {\n  var result = []\n  for (var n = Math.floor(start/size)*size; n < end; n += size) {\n    result.push({\n      block: Math.floor(n/size),\n      start: Math.max(n,start) % size,\n      end: Math.min(n+size,end) % size || size\n    })\n  }\n  return result\n}\n","var toString = Object.prototype.toString\n\nvar isModern = (\n  typeof Buffer.alloc === 'function' &&\n  typeof Buffer.allocUnsafe === 'function' &&\n  typeof Buffer.from === 'function'\n)\n\nfunction isArrayBuffer (input) {\n  return toString.call(input).slice(8, -1) === 'ArrayBuffer'\n}\n\nfunction fromArrayBuffer (obj, byteOffset, length) {\n  byteOffset >>>= 0\n\n  var maxLength = obj.byteLength - byteOffset\n\n  if (maxLength < 0) {\n    throw new RangeError(\"'offset' is out of bounds\")\n  }\n\n  if (length === undefined) {\n    length = maxLength\n  } else {\n    length >>>= 0\n\n    if (length > maxLength) {\n      throw new RangeError(\"'length' is out of bounds\")\n    }\n  }\n\n  return isModern\n    ? Buffer.from(obj.slice(byteOffset, byteOffset + length))\n    : new Buffer(new Uint8Array(obj.slice(byteOffset, byteOffset + length)))\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  return isModern\n    ? Buffer.from(string, encoding)\n    : new Buffer(string, encoding)\n}\n\nfunction bufferFrom (value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (isArrayBuffer(value)) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  return isModern\n    ? Buffer.from(value)\n    : new Buffer(value)\n}\n\nmodule.exports = bufferFrom\n"],"sourceRoot":""}